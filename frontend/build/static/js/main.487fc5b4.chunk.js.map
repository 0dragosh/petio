{"version":3,"sources":["data/store.js","data/reducers.js","data/Plex/reducer.js","data/actionTypes.js","data/Mediabutler/reducer.js","data/Plex/api.js","data/Plex/actions.js","data/Plex/index.js","data/Mediabutler/api.js","data/Mediabutler/actions.js","data/Mediabutler/index.js","assets/svg/search.svg","assets/svg/movie.svg","assets/svg/tv.svg","assets/svg/people.svg","assets/svg/bookmark.svg","assets/svg/settings.svg","components/Sidebar.js","assets/svg/server.svg","components/ConfigSetup.js","components/MovieCard.js","components/TvCard.js","components/Carousel.js","components/PersonCard.js","pages/Search.js","assets/svg/request.svg","assets/svg/report.svg","assets/svg/play.svg","assets/svg/check.svg","assets/svg/star.svg","assets/svg/video.svg","assets/svg/person-circle.svg","pages/Series.js","pages/Season.js","pages/Movie.js","pages/Actor.js","components/Issues.js","App.js","serviceWorker.js","index.js"],"names":["store","rootReducer","combineReducers","plex","state","token","action","type","mediabutler","user_roles","permissions","rules","seen_clients","blocked_clients","_id","username","owner","__v","logged_in","servers","config","activeServer","popular","movie_lookup","series_lookup","season_lookup","person_lookup","search_results","movies","series","people","actor_movie","actor_series","current_user","email","thumb","user","server","updated","creditCache","movie","Object","keys","credits","forEach","key","skey","id","actor_cache","person","creditCacheS","season","data","cast","crew","plexHeaders","Accept","validatePin","process","then","response","json","url","headers","method","body","args","fetch","saveToken","dispatch","finalise","waitForPin","plexWindow","a","api","console","log","authToken","close","closed","alert","setTimeout","plexAuth","document","innerHTML","res","location","href","code","catch","clientHeader","tmdb","login","getConfig","apiKey","request","search","title","encodeURI","fanart","externalIdTV","actor","JSON","stringify","tmdbApikey","local","setLocal","err","getUser","Authorization","axios","get","machineId","download","filename","text","element","createElement","setAttribute","encodeURIComponent","style","display","appendChild","click","removeChild","timestamp","Date","now","details","btoa","localStorage","setItem","tv","results","findEnLogo","logos","logoUrl","logo","lang","hdmovielogo","external","tvdb_id","hdtvlogo","term","shows","length","parseLocal","d","setDate","getDate","setHours","setMilliseconds","session","atob","replace","split","removeItem","saveConfig","i","getPopular","Promise","resolve","reject","clearSearch","getRelated","related","map","personCredits","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","_ref","svgRef","props","viewBox","strokeMiterlimit","strokeLinejoin","className","ref","ForwardRef","forwardRef","fill","focusable","role","Sidebar","current","pathname","to","startsWith","backgroundImage","color","is_admin","React","Component","withRouter","connect","ConfigSetup","selectedServer","configReady","selectServer","bind","setState","e","currentTarget","dataset","Mediabutler","configNext","serverSelect","data-id","onClick","name","MovieCard","onServer","imdbId","tmdbId","getMovie","data-key","img","poster_path","alt","src","character","release_date","getFullYear","TvCard","getSeries","first_air_date","Carousel","children","PersonCard","known_for","item","profile_path","Search","searchTerm","searchActive","handleChange","value","querySelectorAll","scrollTop","window","scrollTo","searchResults","trending","placeholder","onChange","Series","match","params","requested","trailer","getRequests","init","showTrailer","tvdbId","n","hours","rhours","Math","floor","minutes","rminutes","round","hrs","obj","len","found","findNested","seriesData","relatedItems","requestBtn","watchBtn","reportBtn","openIssues","seasons","criticRating","vote_average","video","videos","site","imdb_id","frameBorder","height","width","backdrop_path","original_name","last_air_date","networks","genres","genre","created_by","overview","season_number","air_date","Season","show","seasonData","class","episodes","episode","still_path","episode_number","Movie","movieData","director","screenplay","effect","timeConvert","runtime","Actor","getActor","personData","banner","bWidth","movieCredits","movieActing","movieProduction","tvCredits","tvActing","tvProduction","images","profiles","image","file_path","place_of_birth","known_for_department","biography","result","popularity","job","Issues","open","path","defaultValue","App","mb_login","activeServerCheck","issuesOpen","loginOauth","loginMb","loginLocal","closeIssues","preventDefault","w","h","dualScreenLeft","undefined","screenLeft","screenX","dualScreenTop","screenTop","screenY","left","innerWidth","documentElement","clientWidth","screen","top","innerHeight","clientHeight","newWindow","focus","popupCenter","Plex","getItem","exact","Boolean","hostname","startApp","initialState","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById","cordova","addEventListener","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.487fc5b4.chunk.js","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\nimport rootReducer from './reducers';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nvar store;\n\nfunction initStore(initialState) {\n\tstore = createStore(\n\t\trootReducer,\n\t\tcomposeWithDevTools(),\n\t\tinitialState,\n\t\tapplyMiddleware(thunk)\n\t);\n}\n\nexport { store, initStore };\n","import { combineReducers } from 'redux';\nimport mediabutler from './Mediabutler/reducer';\nimport plex from './Plex/reducer';\n\nconst rootReducer = combineReducers({\n\tplex,\n\tmediabutler,\n});\n\nexport default rootReducer;\n","import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\ttoken: false,\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.PLEX_TOKEN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: action.token,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","// Plex\nexport const PLEX_TOKEN = 'PLEX_TOKEN';\n\n// MB\nexport const MB_LOGIN = 'MB_LOGIN';\nexport const MB_USER_ROLES = 'MB_USER_ROLES';\nexport const MB_CONFIG_SETUP_START = 'MB_CONFIG_SETUP_START';\nexport const MB_CONFIG_SETUP_END = 'MB_CONFIG_SETUP_END';\nexport const MB_CONFIG_LOADED = 'MB_CONFIG_LOADED';\nexport const MB_ACTIVE_SERVER = 'MB_ACTIVE_SERVER';\n\n// Metadata\nexport const POPULAR = 'POPULAR';\nexport const SEARCH = 'SEARCH';\nexport const MOVIE_LOOKUP = 'MOVIE_LOOKUP';\nexport const SERIES_LOOKUP = 'SERIES_LOOKUP';\nexport const PERSON_LOOKUP = 'PERSON_LOOKUP';\nexport const SEASON_LOOKUP = 'SEASON_LOOKUP';\nexport const STORE_ACTOR_MOVIE = 'STORE_ACTOR_MOVIE';\nexport const STORE_ACTOR_SERIES = 'STORE_ACTOR_SERIES';\n","import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\tuser_roles: {\n\t\t\tpermissions: [],\n\t\t\trules: [],\n\t\t\tseen_clients: [],\n\t\t\tblocked_clients: [],\n\t\t\t_id: false,\n\t\t\tusername: false,\n\t\t\towner: false,\n\t\t\t__v: 0,\n\t\t},\n\t\tlogged_in: false,\n\t\tservers: false,\n\t\tconfig: 'pending',\n\t\tactiveServer: false,\n\t\tpopular: {},\n\t\tmovie_lookup: {},\n\t\tseries_lookup: {},\n\t\tseason_lookup: {},\n\t\tperson_lookup: {},\n\t\tsearch_results: {\n\t\t\tmovies: [],\n\t\t\tseries: [],\n\t\t\tpeople: [],\n\t\t},\n\t\tactor_movie: {},\n\t\tactor_series: {},\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.MB_LOGIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent_user: {\n\t\t\t\t\tusername: action.username,\n\t\t\t\t\temail: action.email,\n\t\t\t\t\tthumb: action.thumb,\n\t\t\t\t},\n\t\t\t\tservers: action.servers,\n\t\t\t\tlogged_in: true,\n\t\t\t};\n\n\t\tcase types.MB_USER_ROLES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser_roles: action.user,\n\t\t\t};\n\n\t\tcase types.MB_CONFIG_SETUP_START:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: false,\n\t\t\t};\n\n\t\tcase types.MB_CONFIG_LOADED:\n\t\tcase types.MB_CONFIG_SETUP_END:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: action.config,\n\t\t\t};\n\n\t\tcase types.MB_ACTIVE_SERVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveServer: action.server,\n\t\t\t};\n\n\t\tcase types.POPULAR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpopular: action.popular,\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SEARCH:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch_results: {\n\t\t\t\t\tmovies: action.movies,\n\t\t\t\t\tseries: action.series,\n\t\t\t\t\tpeople: action.people,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase types.MOVIE_LOOKUP:\n\t\t\tlet creditCache = {};\n\t\t\tif (action.movie) {\n\t\t\t\tObject.keys(action.movie.credits).forEach((key) => {\n\t\t\t\t\tObject.keys(action.movie.credits[key]).forEach((skey) => {\n\t\t\t\t\t\tcreditCache[action.movie.credits[key][skey].id] =\n\t\t\t\t\t\t\taction.movie.credits[key][skey];\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovie_lookup: {\n\t\t\t\t\t...state.movie_lookup,\n\t\t\t\t\t[action.id]: action.movie,\n\t\t\t\t},\n\t\t\t\tactor_cache: {\n\t\t\t\t\tcreditCache,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.PERSON_LOOKUP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tperson_lookup: {\n\t\t\t\t\t...state.movie_lookup,\n\t\t\t\t\t[action.id]: action.person,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SERIES_LOOKUP:\n\t\t\tlet creditCacheS = {};\n\t\t\tif (action.series)\n\t\t\t\tObject.keys(action.series.credits).forEach((key) => {\n\t\t\t\t\tObject.keys(action.series.credits[key]).forEach((skey) => {\n\t\t\t\t\t\tcreditCacheS[action.series.credits[key][skey].id] =\n\t\t\t\t\t\t\taction.series.credits[key][skey];\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseries_lookup: {\n\t\t\t\t\t...state.series_lookup,\n\t\t\t\t\t[action.id]: action.series,\n\t\t\t\t},\n\t\t\t\tactor_cache: {\n\t\t\t\t\tcreditCacheS,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SEASON_LOOKUP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseason_lookup: {\n\t\t\t\t\t...state.season_lookup,\n\t\t\t\t\t[`${action.series}_s${action.season}`]: action.data,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase types.STORE_ACTOR_MOVIE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactor_movie: {\n\t\t\t\t\t...state.actor_movie,\n\t\t\t\t\t[action.id]: {\n\t\t\t\t\t\tcast: action.cast,\n\t\t\t\t\t\tcrew: action.crew,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.STORE_ACTOR_SERIES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactor_series: {\n\t\t\t\t\t...state.actor_series,\n\t\t\t\t\t[action.id]: {\n\t\t\t\t\t\tcast: action.cast,\n\t\t\t\t\t\tcrew: action.crew,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","const plexHeaders = {\n\t'Content-Type': 'application/json',\n\tAccept: 'application/json',\n\t'X-Plex-Device': 'API',\n\t'X-Plex-Device-Name': 'DeviceName',\n\t'X-Plex-Product': 'MediaButler',\n\t'X-Plex-Version': 'v1.0',\n\t'X-Plex-Platform-Version': 'v1.0',\n\t'X-Plex-Client-Identifier': 'df9e71a5-a6cd-488e-8730-aaa9195f7435',\n};\n\nexport function getPins() {\n\tlet url = 'https://plex.tv/api/v2/pins?strong=true';\n\tlet method = 'post';\n\tlet headers = plexHeaders;\n\treturn process(url, headers, method);\n}\n\nexport function validatePin(id) {\n\tlet url = `https://plex.tv/api/v2/pins/${id}`;\n\tlet method = 'get';\n\tlet headers = plexHeaders;\n\treturn process(url, headers, method).then((response) => response.json());\n}\n\nfunction process(url, headers, method, body = null) {\n\tlet args = {\n\t\tmethod: method,\n\t\theaders: headers,\n\t};\n\n\tif (method === 'post') {\n\t\targs.body = body;\n\t}\n\n\treturn fetch(url, args);\n}\n","import { store } from '../store';\nimport * as types from '../actionTypes';\nimport * as api from './api';\nimport config from '../config';\n// import { get } from 'lodash';\nconst Mediabutler = config.Mediabutler;\nconst Server = config.Server;\n\nconst plex_oauth_loader =\n\t'<style>' +\n\t'.login-loader-container {' +\n\t'font-family: \"Open Sans\", Arial, sans-serif;' +\n\t'position: absolute;' +\n\t'top: 0;' +\n\t'right: 0;' +\n\t'bottom: 0;' +\n\t'left: 0;' +\n\t'}' +\n\t'.login-loader-message {' +\n\t'color: #282A2D;' +\n\t'text-align: center;' +\n\t'position: absolute;' +\n\t'left: 50%;' +\n\t'top: 25%;' +\n\t'transform: translate(-50%, -50%);' +\n\t'}' +\n\t'.login-loader {' +\n\t'border: 5px solid #ccc;' +\n\t'-webkit-animation: spin 1s linear infinite;' +\n\t'animation: spin 1s linear infinite;' +\n\t'border-top: 5px solid #282A2D;' +\n\t'border-radius: 50%;' +\n\t'width: 50px;' +\n\t'height: 50px;' +\n\t'position: relative;' +\n\t'left: calc(50% - 25px);' +\n\t'}' +\n\t'@keyframes spin {' +\n\t'0% { transform: rotate(0deg); }' +\n\t'100% { transform: rotate(360deg); }' +\n\t'}' +\n\t'</style>' +\n\t'<div class=\"login-loader-container\">' +\n\t'<div class=\"login-loader-message\">' +\n\t'<div class=\"login-loader\"></div>' +\n\t'<br>' +\n\t'Redirecting to the Plex login page...' +\n\t'</div>' +\n\t'</div>';\n\nexport function plexAuth(plexWindow) {\n\tplexWindow.document.body.innerHTML = plex_oauth_loader;\n\tapi.getPins()\n\t\t.then((response) => response.json())\n\t\t.then((res) => {\n\t\t\tplexWindow.location.href = `https://app.plex.tv/auth/#!?clientID=df9e71a5-a6cd-488e-8730-aaa9195f7435&code=${res.code}`;\n\n\t\t\twaitForPin(plexWindow, res.id);\n\t\t})\n\t\t.catch(() => {\n\t\t\talert(\n\t\t\t\t'Unable to open popout window, please make sure to allow pop-ups!'\n\t\t\t);\n\t\t});\n}\n\nfunction saveToken(token) {\n\tfinalise({\n\t\ttype: types.PLEX_TOKEN,\n\t\ttoken: token,\n\t});\n}\n\nasync function waitForPin(plexWindow, id) {\n\tlet response = await api.validatePin(id);\n\tconsole.log(response);\n\tif (response.authToken) {\n\t\tplexWindow.close();\n\t\tsaveToken(response.authToken);\n\t} else if (plexWindow.closed) {\n\t\talert('Unable to login please try again');\n\t} else {\n\t\tsetTimeout(() => {\n\t\t\twaitForPin(plexWindow, id);\n\t\t}, 1000);\n\t}\n}\n\n// function waitForPin(plexWindow, id) {\n// \tif (plexWindow.closed) {\n// \t\treturn validatePin(id);\n// \t} else {\n// \t\tsetTimeout(() => {\n// \t\t\twaitForPin(plexWindow, id);\n// \t\t}, 1000);\n// \t}\n// }\n\nfunction finalise(data = false) {\n\tif (!data) return false;\n\treturn store.dispatch(data);\n}\n\n// Credit Tautulli\n\n// function PopupCenter(url, title, w, h) {\n// \t// Fixes dual-screen position                         Most browsers      Firefox\n// \tvar dualScreenLeft =\n// \t\twindow.screenLeft != undefined ? window.screenLeft : window.screenX;\n// \tvar dualScreenTop =\n// \t\twindow.screenTop != undefined ? window.screenTop : window.screenY;\n\n// \tvar width = window.innerWidth\n// \t\t? window.innerWidth\n// \t\t: document.documentElement.clientWidth\n// \t\t? document.documentElement.clientWidth\n// \t\t: screen.width;\n// \tvar height = window.innerHeight\n// \t\t? window.innerHeight\n// \t\t: document.documentElement.clientHeight\n// \t\t? document.documentElement.clientHeight\n// \t\t: screen.height;\n\n// \tvar left = width / 2 - w / 2 + dualScreenLeft;\n// \tvar top = height / 2 - h / 2 + dualScreenTop;\n// \tvar newWindow = window.open(\n// \t\turl,\n// \t\ttitle,\n// \t\t'scrollbars=yes, width=' +\n// \t\t\tw +\n// \t\t\t', height=' +\n// \t\t\th +\n// \t\t\t', top=' +\n// \t\t\ttop +\n// \t\t\t', left=' +\n// \t\t\tleft\n// \t);\n\n// \t// Puts focus on the newWindow\n// \tif (window.focus) {\n// \t\tnewWindow.focus();\n// \t}\n\n// \treturn newWindow;\n// }\n","import { plexAuth } from './actions';\n\nexport default {\n\tplexAuth,\n};\n","import axios from 'axios';\n\nconst clientHeader = {\n\t'MB-Client-Identifier': '3b04605f-93cc-4300-b1d6-c23a4282a9a6',\n\t'Content-Type': 'application/json',\n\tAccept: 'application/json',\n};\n\nconst tmdb = 'https://api.themoviedb.org/3/';\n\nexport function login(token) {\n\tlet url = 'https://auth.mediabutler.app/login';\n\tlet method = 'post';\n\tlet headers = clientHeader;\n\tlet body = {\n\t\tauthToken: token,\n\t};\n\treturn process(url, headers, method, body);\n}\n\nexport function getUser(token) {\n\tlet url = 'https://onemedia.club/mediabutler/user/@me';\n\tlet method = 'get';\n\tlet headers = {\n\t\t...clientHeader,\n\t\tAuthorization: `Bearer ${token}`,\n\t};\n\t// return process(url, headers, method);\n\n\treturn axios.get(url, { headers });\n}\n\nexport function discoverServers(token, machineId) {\n\tlet url = 'https://auth.mediabutler.app/login/discover';\n\tlet method = 'get';\n\tlet headers = {\n\t\t...clientHeader,\n\t\t'MB-Plex-Token': token,\n\t\t'MB-Machine-Identifier': machineId,\n\t};\n\t// return process(url, headers, method);\n\n\treturn axios.get(url, { headers });\n}\n\nexport function getConfig() {\n\tlet url = '/config.json';\n\tlet method = 'get';\n\tlet headers = {\n\t\t'Content-Type': 'application/json',\n\t\tAccept: 'application/json',\n\t};\n\n\treturn process(url, headers, method);\n}\n\nexport async function popular(type, apiKey) {\n\tlet request = `${tmdb}trending/${type}/week?api_key=${apiKey}`;\n\treturn process(request);\n}\n\nexport async function related(id, apiKey, type) {\n\tlet request = `${tmdb}${type}/${id}/recommendations?api_key=${apiKey}`;\n\treturn process(request);\n}\n\nexport function movie(id = false, apiKey) {\n\tlet request = tmdb + 'movie/';\n\n\tif (id) {\n\t\trequest += `${id}`;\n\t} else {\n\t\treturn false;\n\t}\n\n\trequest += `?api_key=${apiKey}&append_to_response=credits,videos`;\n\n\treturn process(request).then((res) => res.json());\n}\n\nexport function series(id = false, apiKey) {\n\tlet request = tmdb + 'tv/';\n\n\tif (id) {\n\t\trequest += `${id}`;\n\t} else {\n\t\treturn false;\n\t}\n\n\trequest += `?api_key=${apiKey}&append_to_response=credits,videos`;\n\n\treturn process(request).then((res) => res.json());\n}\n\nexport function season(id = false, season, apiKey) {\n\tlet request = tmdb + 'tv/';\n\n\tif (!season || !id) return false;\n\n\trequest = `${tmdb}tv/${id}/season/${season}?api_key=${apiKey}`;\n\n\treturn process(request);\n}\n\nexport function person(id = false, apiKey) {\n\tlet request = tmdb + 'person/';\n\n\tif (id) {\n\t\trequest += `${id}`;\n\t} else {\n\t\treturn false;\n\t}\n\n\trequest += `?api_key=${apiKey}&append_to_response=images`;\n\n\treturn process(request).then((res) => res.json());\n}\n\nexport async function search(title = false, type = false, apiKey) {\n\tlet request = tmdb + 'search/';\n\n\tif (!type) {\n\t\treturn false;\n\t}\n\n\trequest += type; // movie / tv / person\n\n\tif (title) {\n\t\trequest += `?query=${encodeURI(title)}`;\n\t} else {\n\t\treturn false;\n\t}\n\n\trequest += '&include_adult=false';\n\trequest += `&api_key=${apiKey}`;\n\n\treturn process(request).then((res) => res.json());\n}\n\nexport async function fanart(id, type) {\n\tlet url = `https://webservice.fanart.tv/v3/${type}/${id}?api_key=930d724053d35fcc01a1a6da58fbb80a`;\n\treturn process(url).then((res) => res.json());\n}\n\nexport function externalIdTV(id, apiKey) {\n\tlet request = `${tmdb}tv/${id}/external_ids?api_key=${apiKey}`;\n\treturn process(request).then((res) => res.json());\n}\n\nexport function actor(id = false, type = false, apiKey) {\n\tlet request = tmdb + 'person/';\n\n\tif (!type) {\n\t\treturn false;\n\t}\n\n\tif (id) {\n\t\trequest += `${id}/`;\n\t} else {\n\t\treturn false;\n\t}\n\n\trequest += `${type}_credits`; // movie / tv / person\n\n\trequest += `?api_key=${apiKey}`;\n\n\treturn process(request).then((res) => res.json());\n}\n\nfunction process(url, headers, method, body = null) {\n\tlet args = {\n\t\tmethod: method,\n\t\theaders: headers,\n\t};\n\n\tif (method === 'post') {\n\t\targs.body = JSON.stringify(body);\n\t}\n\n\treturn fetch(url, args);\n}\n","import { store } from '../store';\nimport * as types from '../actionTypes';\nimport * as api from './api';\nimport config from '../config';\n\nconst salt = '4691456702';\nconst tmdbApikey = 'a9a99e29e94d33f6a9a3bb78c7a450f7';\n\nexport async function login(token, local = false) {\n\tapi.login(token)\n\t\t.then((response) => response.json())\n\t\t.then((res) => {\n\t\t\tfinalise({\n\t\t\t\ttype: types.MB_LOGIN,\n\t\t\t\temail: res.email,\n\t\t\t\tthumb: res.thumb,\n\t\t\t\tusername: res.username,\n\t\t\t\tservers: res.servers,\n\t\t\t});\n\t\t\tif (!local) {\n\t\t\t\tsetLocal(token);\n\t\t\t}\n\t\t\t// getUser(config);\n\t\t\t// res.servers.forEach((server) => {\n\t\t\t// \tdiscoverServers(server.token, server.machineId);\n\t\t\t// \tgetUser(server.token);\n\t\t\t// });\n\n\t\t\treturn;\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(err);\n\t\t\talert('Error: Login failed!');\n\t\t});\n}\n\nexport function getUser(token) {\n\tsetTimeout(() => {\n\t\tapi.getUser(token).then((user) => {\n\t\t\tfinalise({\n\t\t\t\ttype: types.MB_USER_ROLES,\n\t\t\t\tuser: user,\n\t\t\t});\n\t\t});\n\t}, 1000);\n}\n\nexport function activeServer(servers, machineId) {\n\tlet activeServer = false;\n\tfor (let i = 0; i < servers.length; i++) {\n\t\tif (servers[i].machineId === machineId) {\n\t\t\tactiveServer = servers[i];\n\t\t}\n\t}\n\n\tif (activeServer) {\n\t\tfinalise({\n\t\t\ttype: types.MB_ACTIVE_SERVER,\n\t\t\tserver: activeServer,\n\t\t});\n\t\tgetUser(activeServer.token);\n\t}\n}\n\nexport async function saveConfig(machineId) {\n\tdownload(\n\t\t'config.json',\n\t\tJSON.stringify({\n\t\t\tconfig: machineId,\n\t\t})\n\t);\n\treturn true;\n}\n\nfunction download(filename, text) {\n\tvar element = document.createElement('a');\n\telement.setAttribute(\n\t\t'href',\n\t\t'data:text/plain;charset=utf-8,' + encodeURIComponent(text)\n\t);\n\telement.setAttribute('download', filename);\n\n\telement.style.display = 'none';\n\tdocument.body.appendChild(element);\n\n\telement.click();\n\n\tdocument.body.removeChild(element);\n}\n\nexport async function getConfig() {\n\treturn api\n\t\t.getConfig()\n\t\t.then((response) => response.json())\n\t\t.then((res) => {\n\t\t\tconsole.log(res);\n\t\t\tif (res.config) {\n\t\t\t\tfinalise({\n\t\t\t\t\ttype: types.MB_CONFIG_LOADED,\n\t\t\t\t\tconfig: res.config,\n\t\t\t\t});\n\t\t\t\treturn res.config;\n\t\t\t} else {\n\t\t\t\tfinalise({\n\t\t\t\t\ttype: types.MB_CONFIG_SETUP_START,\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(err);\n\t\t\talert(\"error can't access config!\");\n\t\t\treturn false;\n\t\t});\n}\n\nfunction finalise(data = false) {\n\tif (!data) return false;\n\treturn store.dispatch(data);\n}\n\nfunction setLocal(token) {\n\tlet timestamp = Date.now();\n\tlet details = btoa(salt + btoa(`${token}--${timestamp}`));\n\tconsole.log(details);\n\tlocalStorage.setItem('petio_user', details);\n}\n\nexport function parseLocal(local, config) {\n\tlet d = new Date();\n\td.setDate(d.getDate() - 7);\n\td.setHours(0, 0, 0);\n\td.setMilliseconds(0);\n\td = (d / 1000) | 0;\n\tlet session = atob(atob(local).replace(salt, '')).split('--');\n\tlet token = session[0];\n\tlet timestamp = session[1];\n\tif (timestamp > d) {\n\t\t// if session saved is less than a week old\n\t\tlogin(token, true);\n\t} else {\n\t\tlocalStorage.removeItem('petio_user');\n\t}\n}\n\nexport async function getPopular() {\n\tlet apiKey = tmdbApikey;\n\tlet movies = await (await api.popular('movie', apiKey)).json();\n\tlet tv = await (await api.popular('tv', apiKey)).json();\n\tlet people = await (await api.popular('person', apiKey)).json();\n\n\tif (movies && tv && people) {\n\t\tfinalise({\n\t\t\ttype: types.POPULAR,\n\t\t\tpopular: {\n\t\t\t\tmovies: movies.results,\n\t\t\t\ttv: tv.results,\n\t\t\t\tpeople: people.results,\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport let getRelated = (id, type) => {\n\tlet apiKey = tmdbApikey;\n\treturn new Promise((resolve, reject) => {\n\t\tif (!id || !apiKey || !type) {\n\t\t\treject('Missing args');\n\t\t}\n\t\tapi.related(id, apiKey, type)\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (!data.results) return false;\n\t\t\t\tlet related = data.results;\n\t\t\t\tObject.keys(related).map((key, i) => {\n\t\t\t\t\tif (type === 'movie') {\n\t\t\t\t\t\tmovie(related[key].id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tseries(related[key].id);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tresolve(related);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n};\n\nfunction findEnLogo(logos) {\n\tlet logoUrl = false;\n\tlogos.forEach((logo) => {\n\t\tif (logo.lang === 'en' && !logoUrl) {\n\t\t\tlogoUrl = logo.url;\n\t\t}\n\t});\n\treturn logoUrl;\n}\n\nexport async function movie(id) {\n\tlet apiKey = tmdbApikey;\n\tlet fanart = await api.fanart(id, 'movies');\n\tlet movie = await api.movie(id, apiKey);\n\n\tif (fanart) {\n\t\tif (fanart.hdmovielogo) {\n\t\t\tmovie.logo = findEnLogo(fanart.hdmovielogo);\n\t\t}\n\t}\n\n\tif (!movie.id) {\n\t\treturn false;\n\t}\n\n\tfinalise({\n\t\ttype: types.MOVIE_LOOKUP,\n\t\tmovie: movie,\n\t\tid: id,\n\t});\n}\n\nexport let externalIdTV = (id) => {\n\tlet apiKey = tmdbApikey;\n\treturn new Promise((resolve, reject) => {\n\t\tapi.externalIdTV(id, apiKey)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tresolve(data);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\treject();\n\t\t\t});\n\t});\n};\n\nexport async function fanart(id, type) {\n\treturn await api.fanart(id, type);\n}\n\nexport async function series(id) {\n\tlet apiKey = tmdbApikey;\n\tlet external = await api.externalIdTV(id, apiKey);\n\tlet fanart = await api.fanart(external.tvdb_id, 'tv');\n\tlet series = await api.series(id, apiKey);\n\n\tif (fanart) {\n\t\tif (fanart.hdtvlogo) {\n\t\t\tseries.logo = findEnLogo(fanart.hdtvlogo);\n\t\t}\n\t}\n\n\tif (!series.id) {\n\t\treturn false;\n\t}\n\n\tfinalise({\n\t\ttype: types.SERIES_LOOKUP,\n\t\tseries: series,\n\t\tid: id,\n\t});\n}\n\nexport let season = (id, season) => {\n\tlet apiKey = tmdbApikey;\n\treturn new Promise((resolve, reject) => {\n\t\tapi.season(id, season, apiKey)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data) {\n\t\t\t\t\tresolve(\n\t\t\t\t\t\tfinalise({\n\t\t\t\t\t\t\ttype: types.SEASON_LOOKUP,\n\t\t\t\t\t\t\tseries: id,\n\t\t\t\t\t\t\tseason: season,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treject('Error');\n\t\t\t\t}\n\t\t\t});\n\t});\n};\n\nexport async function person(id) {\n\tlet apiKey = tmdbApikey;\n\tlet person = await api.person(id, apiKey);\n\n\tconsole.log(person);\n\n\tfinalise({\n\t\ttype: types.PERSON_LOOKUP,\n\t\tperson: person,\n\t\tid: id,\n\t});\n}\n\nexport async function search(term) {\n\tlet movies = await api.search(term, 'movie', tmdbApikey);\n\tlet series = await api.search(term, 'tv', tmdbApikey);\n\tlet person = await api.search(term, 'person', tmdbApikey);\n\n\tfinalise({\n\t\ttype: types.SEARCH,\n\t\tmovies: movies.results,\n\t\tseries: series.results,\n\t\tpeople: person.results,\n\t});\n}\n\nexport async function personCredits(id) {\n\tlet apiKey = tmdbApikey;\n\tlet movies = await api.actor(id, 'movie', apiKey);\n\tlet shows = await api.actor(id, 'tv', apiKey);\n\n\tif (movies.length === 0) {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_MOVIE,\n\t\t\tcast: {},\n\t\t\tcrew: {},\n\t\t\tid: id,\n\t\t});\n\t} else {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_MOVIE,\n\t\t\tcast: movies.cast,\n\t\t\tcrew: movies.crew,\n\t\t\tid: id,\n\t\t});\n\t}\n\tif (shows.length === 0) {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_SERIES,\n\t\t\tcast: {},\n\t\t\tcrew: {},\n\t\t\tid: id,\n\t\t});\n\t} else {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_SERIES,\n\t\t\tcast: shows.cast,\n\t\t\tcrew: shows.crew,\n\t\t\tid: id,\n\t\t});\n\t}\n}\n\nexport function clearSearch() {\n\tfinalise({\n\t\ttype: types.SEARCH,\n\t\tmovies: [],\n\t\tseries: [],\n\t\tpeople: [],\n\t});\n}\n","import {\n\tlogin,\n\tparseLocal,\n\tgetUser,\n\tgetConfig,\n\tsaveConfig,\n\tactiveServer,\n\tgetPopular,\n\tmovie,\n\tseries,\n\tseason,\n\tsearch,\n\tclearSearch,\n\tgetRelated,\n\texternalIdTV,\n\tfanart,\n\tperson,\n\tpersonCredits,\n} from './actions';\n\nexport default {\n\tlogin,\n\tparseLocal,\n\tgetUser,\n\tgetConfig,\n\tsaveConfig,\n\tactiveServer,\n\tgetPopular,\n\tmovie,\n\tseries,\n\tseason,\n\tsearch,\n\tclearSearch,\n\tgetRelated,\n\texternalIdTV,\n\tfanart,\n\tperson,\n\tpersonCredits,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z\"\n});\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 560 560\",\n    strokeMiterlimit: 1.414,\n    strokeLinejoin: \"round\",\n    id: \"plex-icon-search-560\",\n    \"aria-hidden\": \"true\",\n    className: \"PlexIcon-plexIcon-8Tamaj QuickSearchInput-searchIcon-38PAh5\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.f46f03ff.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z\"\n});\n\nvar SvgMovie = function SvgMovie(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 560 560\",\n    id: \"plex-icon-sidebar-movies-560\",\n    \"aria-hidden\": \"true\",\n    className: \"PlexIcon-plexIcon-8Tamaj\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMovie, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/movie.e227f7ae.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z\"\n});\n\nvar SvgTv = function SvgTv(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 560 560\",\n    id: \"plex-icon-sidebar-shows-560\",\n    \"aria-hidden\": \"true\",\n    className: \"PlexIcon-plexIcon-8Tamaj\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTv, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tv.94ef2ee4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z\"\n});\n\nvar SvgPeople = function SvgPeople(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"users\",\n    className: \"svg-inline--fa fa-users fa-w-20\",\n    role: \"img\",\n    viewBox: \"0 0 640 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPeople, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/people.22e09537.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"\n});\n\nvar SvgBookmark = function SvgBookmark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"bookmark\",\n    className: \"svg-inline--fa fa-bookmark fa-w-12\",\n    role: \"img\",\n    viewBox: \"0 0 384 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBookmark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bookmark.a20eda43.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z\"\n});\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"tools\",\n    className: \"svg-inline--fa fa-tools fa-w-16\",\n    role: \"img\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.d6d3c47f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ReactComponent as SearchIcon } from '../assets/svg/search.svg';\nimport { ReactComponent as MovieIcon } from '../assets/svg/movie.svg';\nimport { ReactComponent as TvIcon } from '../assets/svg/tv.svg';\nimport { ReactComponent as PersonIcon } from '../assets/svg/people.svg';\nimport { ReactComponent as RequestIcon } from '../assets/svg/bookmark.svg';\nimport { ReactComponent as SettingsIcon } from '../assets/svg/settings.svg';\n\nclass Sidebar extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\n\t// }\n\trender() {\n\t\tlet current = this.props.location.pathname;\n\t\tlet user = this.props.mediabutler.current_user;\n\t\treturn (\n\t\t\t<div className=\"sidebar--inner\">\n\t\t\t\t<Link to=\"/\" className=\"logo\">\n\t\t\t\t\t<p className=\"logo-text\" title=\"Petio\">\n\t\t\t\t\t\tPet<span>io</span>\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"sidebar--scroll\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/user\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item user-profile ' +\n\t\t\t\t\t\t\t(current === '/user' || current.startsWith('/user/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>{user.username}</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"thumb\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: 'url(' + user.thumb + ')',\n\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/' || current.startsWith('/search/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Search</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/movies\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/movies' ||\n\t\t\t\t\t\t\tcurrent.startsWith('/movie/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Movies</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<MovieIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/tv\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/tv' || current.startsWith('/series/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>TV Shows</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<TvIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/people\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/people' ||\n\t\t\t\t\t\t\tcurrent.startsWith('/person/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>People</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/requests\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/requests' ||\n\t\t\t\t\t\t\tcurrent.startsWith('/requests/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Requests</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<RequestIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t{user.is_admin ? (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"/admin\"\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t\t(current === '/admin' ||\n\t\t\t\t\t\t\t\tcurrent.startsWith('/admin/')\n\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>Admin</p>\n\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t<SettingsIcon />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSidebar = withRouter(Sidebar);\n\nfunction SidebarContainer(props) {\n\treturn <Sidebar mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(SidebarContainer);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z\"\n});\n\nvar SvgServer = function SvgServer(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgServer, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/server.ee2001fb.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ReactComponent as ServerIcon } from '../assets/svg/server.svg';\nimport Mediabutler from '../data/Mediabutler';\n\nclass ConfigSetup extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdisplay: false,\n\t\t\tselectedServer: false,\n\t\t\tconfigReady: false,\n\t\t};\n\n\t\tthis.selectServer = this.selectServer.bind(this);\n\t\tthis.saveConfig = this.saveConfig.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\tdisplay: true,\n\t\t\t});\n\t\t}, 500);\n\t}\n\n\tselectServer(e) {\n\t\tlet server = e.currentTarget.dataset.id;\n\t\tthis.setState({\n\t\t\tselectedServer: server,\n\t\t});\n\t}\n\n\tsaveConfig() {\n\t\tif (!this.state.selectedServer) return;\n\t\tMediabutler.saveConfig(this.state.selectedServer).then(() => {\n\t\t\tthis.setState({\n\t\t\t\tconfigReady: true,\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tlet configNext = (\n\t\t\t<p>\n\t\t\t\tYour config file should have auto downloaded, place this config\n\t\t\t\tfile in the root of your Petio install and then refresh the\n\t\t\t\tpage.\n\t\t\t</p>\n\t\t);\n\t\tlet serverSelect = (\n\t\t\t<>\n\t\t\t\t<p>\n\t\t\t\t\tChoose your server from the options below. This will lock\n\t\t\t\t\tthis install of Petio to a specific server running\n\t\t\t\t\tMediabutler. Servers not running Mediabutler will be greyed\n\t\t\t\t\tout.\n\t\t\t\t</p>\n\t\t\t\t<h3 className=\"sub-title\">Servers</h3>\n\t\t\t\t<div className=\"server-list\">\n\t\t\t\t\t{this.props.mediabutler.servers.map((server) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"server-list--item\"\n\t\t\t\t\t\t\t\tkey={server.machineId}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`server-list--item-inner ${\n\t\t\t\t\t\t\t\t\t\t!server.url ? 'disabled' : ''\n\t\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\t\tthis.state.selectedServer ===\n\t\t\t\t\t\t\t\t\t\tserver.machineId\n\t\t\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tdata-id={server.machineId}\n\t\t\t\t\t\t\t\t\tonClick={this.selectServer}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t\t\t<ServerIcon />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{server.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`config-setup ${this.state.display ? 'loaded' : ''}`}\n\t\t\t>\n\t\t\t\t<div className=\"config-setup--inner\">\n\t\t\t\t\t<h1 className=\"main-title\">Config Setup</h1>\n\t\t\t\t\t{this.state.configReady ? configNext : serverSelect}\n\n\t\t\t\t\t{this.state.selectedServer && !this.state.configReady ? (\n\t\t\t\t\t\t<button className=\"btn\" onClick={this.saveConfig}>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction ConfigSetupContainer(props) {\n\treturn <ConfigSetup mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(ConfigSetupContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass MovieCard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\timdbId: false,\n\t\t\ttmdbId: false,\n\t\t};\n\t\tthis.getMovie = this.getMovie.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getMovie();\n\t}\n\n\tgetMovie() {\n\t\tlet movie = this.props.movie;\n\t\tlet id = movie.id;\n\t\tif (!this.props.mediabutler.movie_lookup[id]) {\n\t\t\t// check for cached\n\n\t\t\tif (!id) return false;\n\t\t\tMediabutler.movie(id);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.props.movie.id;\n\t\tlet movie = this.props.mediabutler.movie_lookup[id];\n\t\tif (!movie) {\n\t\t\treturn (\n\t\t\t\t<div key={id} data-key={id} className={'card type--movie-tv '}>\n\t\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t\t<Link to={`/movie/${id}`} className=\"full-link\"></Link>\n\t\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t\t<div className=\"no-poster\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tlet img = movie.poster_path ? (\n\t\t\t<LazyLoadImage\n\t\t\t\talt={movie.title}\n\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n\t\t\t\t// effect=\"blur\"\n\t\t\t/>\n\t\t) : (\n\t\t\t<div className=\"no-poster\"></div>\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={movie.id}\n\t\t\t\tdata-key={movie.id}\n\t\t\t\tclassName={\n\t\t\t\t\t'card type--movie-tv ' +\n\t\t\t\t\t(this.state.onServer ? 'on-server' : '')\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/movie/${movie.id}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\n\t\t\t\t\t<div className=\"image-wrap\">{img}</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\" title={movie.title}>\n\t\t\t\t\t\t\t{movie.title}\n\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t{this.props.character\n\t\t\t\t\t\t\t\t\t? this.props.character\n\t\t\t\t\t\t\t\t\t: movie.release_date\n\t\t\t\t\t\t\t\t\t? '(' +\n\t\t\t\t\t\t\t\t\t  new Date(\n\t\t\t\t\t\t\t\t\t\t\tmovie.release_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear() +\n\t\t\t\t\t\t\t\t\t  ')'\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nMovieCard = withRouter(MovieCard);\n\nfunction MovieCardContainer(props) {\n\treturn (\n\t\t<MovieCard\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tmovie={props.movie}\n\t\t\tcharacter={props.character}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(MovieCardContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass TvCard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\timdbId: false,\n\t\t\ttmdbId: false,\n\t\t};\n\t\tthis.getMovie = this.getSeries.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getSeries();\n\t}\n\n\tgetSeries() {\n\t\tlet series = this.props.series;\n\t\tlet id = series.id;\n\t\tif (!this.props.mediabutler.series_lookup[id]) {\n\t\t\t// check for cached\n\n\t\t\tif (!id) return false;\n\t\t\tMediabutler.series(id);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.props.series.id;\n\t\tlet series = this.props.mediabutler.series_lookup[id];\n\t\tif (!series) {\n\t\t\treturn (\n\t\t\t\t<div key={id} data-key={id} className={'card type--movie-tv '}>\n\t\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t\t<Link to={`/series/${id}`} className=\"full-link\"></Link>\n\t\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t\t<div className=\"no-poster\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tlet img = series.poster_path ? (\n\t\t\t<LazyLoadImage\n\t\t\t\talt={series.title}\n\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${series.poster_path}`}\n\t\t\t\t// effect=\"blur\"\n\t\t\t/>\n\t\t) : (\n\t\t\t<div className=\"no-poster\"></div>\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={series.id}\n\t\t\t\tdata-key={series.id}\n\t\t\t\tclassName={\n\t\t\t\t\t'card type--movie-tv ' +\n\t\t\t\t\t(this.state.onServer ? 'on-server' : '')\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/series/${series.id}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\n\t\t\t\t\t<div className=\"image-wrap\">{img}</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t{series.name}\n\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t{this.props.character\n\t\t\t\t\t\t\t\t\t? this.props.character\n\t\t\t\t\t\t\t\t\t: '(' +\n\t\t\t\t\t\t\t\t\t  new Date(\n\t\t\t\t\t\t\t\t\t\t\tseries.first_air_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear() +\n\t\t\t\t\t\t\t\t\t  ')'}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTvCard = withRouter(TvCard);\n\nfunction TvCardContainer(props) {\n\treturn (\n\t\t<TvCard\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tseries={props.series}\n\t\t\tcharacter={props.character}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(TvCardContainer);\n","import React from 'react';\n\nconst widths = {\n\tsmall: 0,\n\tmedium: 0,\n\tlarge: 160,\n};\n\nclass Carousel extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\n\t// \tthis.state = {\n\t// \t\tscroll: 0,\n\t// \t\tfreeze: false,\n\t// \t};\n\n\t// \tthis.handleScroll = this.handleScroll.bind(this);\n\t// }\n\n\t// snapScroll(offset, target) {\n\t// \tthis.setState({\n\t// \t\tfreeze: true,\n\t// \t});\n\t// \tconsole.log(offset);\n\t// \tconsole.log(this.props.children[0]);\n\t// \tlet width = widths.large;\n\n\t// \tlet newOffset = Math.round(offset / width) * width;\n\t// \tconsole.log(offset);\n\t// \tif (this.state.scroll === offset) {\n\t// \t\tthis.scrollTo(target, newOffset, 200);\n\n\t// \t\tsetTimeout(() => {\n\t// \t\t\tthis.setState({\n\t// \t\t\t\tfreeze: false,\n\t// \t\t\t});\n\t// \t\t}, 250);\n\t// \t} else {\n\t// \t\tthis.setState({\n\t// \t\t\tfreeze: false,\n\t// \t\t});\n\t// \t}\n\t// }\n\n\t// handleScroll(e) {\n\t// \te.stopPropagation();\n\t// \tlet offset = e.target.scrollLeft;\n\t// \tlet target = e.target;\n\t// \tconsole.log(offset);\n\t// \tthis.setState({\n\t// \t\tscroll: offset,\n\t// \t});\n\n\t// \tsetTimeout(() => {\n\t// \t\tif (this.state.scroll === offset && !this.state.freeze)\n\t// \t\t\tthis.snapScroll(offset, target);\n\t// \t}, 100);\n\t// }\n\n\t// scrollTo(element, to, duration) {\n\t// \tMath.easeInOutQuad = function (t, b, c, d) {\n\t// \t\tt /= d / 2;\n\t// \t\tif (t < 1) return (c / 2) * t * t + b;\n\t// \t\tt--;\n\t// \t\treturn (-c / 2) * (t * (t - 2) - 1) + b;\n\t// \t};\n\n\t// \tvar start = element.scrollLeft,\n\t// \t\tchange = to - start,\n\t// \t\tcurrentTime = 0,\n\t// \t\tincrement = 20;\n\n\t// \tvar animateScroll = function () {\n\t// \t\tcurrentTime += increment;\n\t// \t\tvar val = Math.easeInOutQuad(currentTime, start, change, duration);\n\t// \t\telement.scrollLeft = val;\n\t// \t\tif (currentTime < duration) {\n\t// \t\t\tsetTimeout(animateScroll, increment);\n\t// \t\t}\n\t// \t};\n\t// \tanimateScroll();\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`carousel`}>\n\t\t\t\t<div className=\"carousel--inner\">{this.props.children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Carousel;\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass PersonCard extends React.Component {\n\trender() {\n\t\tlet knownFor = null;\n\t\tlet person = this.props.person;\n\t\tif (person.known_for) {\n\t\t\tperson.known_for.map((item, key) => {\n\t\t\t\treturn <Link to={`/movie/${item.id}`}>{item.title}</Link>;\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<div key={person.id} className=\"card person-card\">\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/person/${person.id}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t{person.profile_path ? (\n\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\talt={person.name}\n\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${person.profile_path}`}\n\t\t\t\t\t\t\t\t// effect=\"blur\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"no-poster\"></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">{person.name}</p>\n\t\t\t\t\t\t{knownFor ? (\n\t\t\t\t\t\t\t<p className=\"known-for\">{knownFor}</p>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{this.props.character ? (\n\t\t\t\t\t\t\t<p className=\"character\">{this.props.character}</p>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(PersonCard);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport { ReactComponent as SearchIcon } from '../assets/svg/search.svg';\nimport MovieCard from '../components/MovieCard';\nimport TvCard from '../components/TvCard';\nimport Carousel from '../components/Carousel';\nimport PersonCard from '../components/PersonCard';\n\nclass Search extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsearchTerm: '',\n\t\t\tsearchActive: false,\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(e) {\n\t\tif (e.currentTarget.value.length > 2) {\n\t\t\tlet term = e.currentTarget.value;\n\t\t\t// throttle search lookup during constant typing\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (term === this.state.searchTerm) {\n\t\t\t\t\tMediabutler.search(term);\n\t\t\t\t}\n\t\t\t}, 50);\n\t\t\tthis.setState({\n\t\t\t\tsearchTerm: e.currentTarget.value,\n\t\t\t\tsearchActive: true,\n\t\t\t});\n\t\t} else {\n\t\t\tMediabutler.clearSearch();\n\t\t\tthis.setState({\n\t\t\t\tsearchTerm: e.currentTarget.value,\n\t\t\t\tsearchActive: false,\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tMediabutler.getPopular();\n\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\trender() {\n\t\tlet searchResults = (\n\t\t\t<>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Movies</h3>\n\t\t\t\t\t{this.props.mediabutler.search_results.movies.length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{this.props.mediabutler.search_results.movies.map(\n\t\t\t\t\t\t\t\t(movie) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\tkey={movie.id}\n\t\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No results</p>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Shows</h3>\n\t\t\t\t\t{this.props.mediabutler.search_results.series.length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{this.props.mediabutler.search_results.series.map(\n\t\t\t\t\t\t\t\t(series) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\tkey={series.id}\n\t\t\t\t\t\t\t\t\t\t\tseries={series}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No results</p>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">People</h3>\n\t\t\t\t\t{this.props.mediabutler.search_results.people.length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{this.props.mediabutler.search_results.people.map(\n\t\t\t\t\t\t\t\t(person) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\t\tkey={person.id}\n\t\t\t\t\t\t\t\t\t\t\tperson={person}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No results</p>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t\tlet trending = (\n\t\t\t<>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending Movies</h3>\n\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0\n\t\t\t\t\t\t\t? this.props.mediabutler.popular.movies.map(\n\t\t\t\t\t\t\t\t\t(movie) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={movie.id}\n\t\t\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending Shows</h3>\n\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0\n\t\t\t\t\t\t\t? this.props.mediabutler.popular.tv.map(\n\t\t\t\t\t\t\t\t\t(series) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={series.id}\n\t\t\t\t\t\t\t\t\t\t\t\tseries={series}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending People</h3>\n\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0\n\t\t\t\t\t\t\t? this.props.mediabutler.popular.people.map(\n\t\t\t\t\t\t\t\t\t(person) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={person.id}\n\t\t\t\t\t\t\t\t\t\t\t\tperson={person}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t\treturn (\n\t\t\t<div className=\"search-wrap\">\n\t\t\t\t<section>\n\t\t\t\t\t<h1 className=\"main-title mb--1\">Search</h1>\n\t\t\t\t\t<div className=\"search-form\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button className=\"search-btn\">\n\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t{this.state.searchActive ? searchResults : trending}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSearch = withRouter(Search);\n\nfunction SearchContainer(props) {\n\treturn <Search mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(SearchContainer);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z\"\n});\n\nvar SvgRequest = function SvgRequest(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRequest, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/request.aaa018a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z\"\n});\n\nvar SvgReport = function SvgReport(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgReport, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/report.bed2a709.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z\"\n});\n\nvar SvgPlay = function SvgPlay(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 448 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlay, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play.1cc909e8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\"\n});\n\nvar SvgCheck = function SvgCheck(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCheck, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/check.6dc82634.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\n});\n\nvar SvgStar = function SvgStar(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 576 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStar, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star.0e6d7ada.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z\"\n});\n\nvar SvgVideo = function SvgVideo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 576 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgVideo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/video.10850792.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z\"\n});\n\nvar SvgPersonCircle = function SvgPersonCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 496 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPersonCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/person-circle.6eb38020.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PersonCard from '../components/PersonCard';\nimport TvCard from '../components/TvCard';\nimport Mediabutler from '../data/Mediabutler';\nimport Carousel from '../components/Carousel';\nimport { ReactComponent as RequestIcon } from '../assets/svg/request.svg';\nimport { ReactComponent as ReportIcon } from '../assets/svg/report.svg';\nimport { ReactComponent as WatchIcon } from '../assets/svg/play.svg';\nimport { ReactComponent as CheckIcon } from '../assets/svg/check.svg';\nimport { ReactComponent as StarIcon } from '../assets/svg/star.svg';\nimport { ReactComponent as TrailerIcon } from '../assets/svg/video.svg';\nimport { ReactComponent as PersonCircleIcon } from '../assets/svg/person-circle.svg';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass Series extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\tid: this.props.match.params.id,\n\t\t\trequested: false,\n\t\t\trelated: false,\n\t\t\ttrailer: false,\n\t\t};\n\n\t\tthis.getSeries = this.getSeries.bind(this);\n\t\tthis.onServer = this.onServer.bind(this);\n\t\tthis.request = this.request.bind(this);\n\t\tthis.getRequests = this.getRequests.bind(this);\n\t\tthis.getRelated = this.getRelated.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t\tthis.showTrailer = this.showTrailer.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getRequests();\n\t\tif (this.props.match.params.id !== this.state.id) {\n\t\t\tthis.setState({\n\t\t\t\tonServer: false,\n\t\t\t\tid: this.props.match.params.id,\n\t\t\t\trequested: false,\n\t\t\t\trelated: false,\n\t\t\t});\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getSeries(id);\n\t\tthis.getRequests();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\tgetRelated() {\n\t\tlet id = this.props.match.params.id;\n\t\tif (!id) return;\n\t\tMediabutler.getRelated(id, 'tv').then((res) => {\n\t\t\tlet related = [];\n\t\t\tres.map((item, i) => {\n\t\t\t\trelated[i] = item.id;\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\trelated: related,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetRequests() {\n\t\treturn false;\n\t\t// let id = this.props.match.params.id;\n\t\t// let requests = this.props.user.requests;\n\t\t// if (!requests) return;\n\t\t// if (!requests[id]) {\n\t\t//     if (this.state.requested) {\n\t\t//         this.setState({\n\t\t//             requested: false,\n\t\t//         });\n\t\t//     }\n\t\t//     return;\n\t\t// }\n\t\t// let requestUsers = Object.keys(requests[id].users).length;\n\t\t// if (\n\t\t//     this.props.user.requests[id] &&\n\t\t//     requestUsers !== this.state.requested\n\t\t// ) {\n\t\t//     this.setState({\n\t\t//         requested: requestUsers,\n\t\t//     });\n\t\t// } else if (!requests[id] && this.state.requested) {\n\t\t//     this.setState({\n\t\t//         requested: false,\n\t\t//     });\n\t\t// }\n\t}\n\n\trequest() {\n\t\treturn false;\n\t\t// let id = this.props.match.params.id;\n\t\t// let series = this.props.mediabutler.series_lookup[id];\n\t\t// let request = {\n\t\t//     id: series.id,\n\t\t//     title: series.name,\n\t\t//     type: 'tv',\n\t\t//     thumb: series.poster_path,\n\t\t// };\n\t\t// let email = this.props.user.current.email;\n\t\t// if (!email) email = this.props.user.current.user;\n\t\t// User.request(request, email).then(() => {\n\t\t//     User.getRequests();\n\t\t// });\n\t}\n\n\tgetSeries() {\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getRelated();\n\t\tif (!this.props.mediabutler.series_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.series(id);\n\t\t}\n\t}\n\n\tonServer(id, imdbId, tvdbId) {\n\t\t// if (imdbId && id && tvdbId) {\n\t\t// \tPlex.lookUpSeries(\n\t\t// \t\timdbId,\n\t\t// \t\tthis.props.user.credentials.tmdbApi,\n\t\t// \t\ttvdbId\n\t\t// \t)\n\t\t// \t\t.then((res) => {\n\t\t// \t\t\tthis.setState({\n\t\t// \t\t\t\tonServer: true,\n\t\t// \t\t\t});\n\t\t// \t\t})\n\t\t// \t\t.catch(() => {\n\t\t// \t\t\tconsole.log('Not on server');\n\t\t// \t\t});\n\t\t// }\n\t}\n\n\ttimeConvert(n) {\n\t\tvar num = n;\n\t\tvar hours = num / 60;\n\t\tvar rhours = Math.floor(hours);\n\t\tvar minutes = (hours - rhours) * 60;\n\t\tvar rminutes = Math.round(minutes);\n\t\tvar hrs =\n\t\t\trhours < 1 ? '' : rhours === 1 ? 'hr' : rhours > 1 ? 'hrs' : '';\n\t\treturn `${rhours >= 1 ? rhours : ''} ${hrs} ${rminutes} mins`;\n\t}\n\n\tfindNested(obj, key, value) {\n\t\t// Base case\n\t\tif (obj[key] === value) {\n\t\t\treturn obj;\n\t\t} else {\n\t\t\tfor (var i = 0, len = Object.keys(obj).length; i < len; i++) {\n\t\t\t\tif (typeof obj[i] == 'object') {\n\t\t\t\t\tvar found = this.findNested(obj[i], key, value);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\t// If the object was found in the recursive call, bubble it up.\n\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tshowTrailer() {\n\t\tthis.setState({\n\t\t\ttrailer: this.state.trailer ? false : true,\n\t\t});\n\t}\n\n\trender() {\n\t\tlet id = this.state.id;\n\t\tlet seriesData = this.props.mediabutler.series_lookup[id];\n\n\t\tif (!seriesData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet related = null;\n\t\tlet relatedItems = null;\n\t\tif (this.state.related) {\n\t\t\trelatedItems = this.state.related.map((id) => {\n\t\t\t\tif (this.props.mediabutler.series_lookup[id]) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"related--item\" key={`related-${id}`}>\n\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\tseries={\n\t\t\t\t\t\t\t\t\tthis.props.mediabutler.series_lookup[id]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\trelated = (\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Related Shows</h3>\n\t\t\t\t\t<Carousel>{relatedItems}</Carousel>\n\t\t\t\t</section>\n\t\t\t);\n\t\t}\n\n\t\tlet requestBtn = this.state.onServer ? (\n\t\t\t<div className=\"btn btn__square good\">\n\t\t\t\t<CheckIcon />\n\t\t\t\tOn Plex\n\t\t\t</div>\n\t\t) : this.state.requested ? (\n\t\t\t<button className=\"btn btn__square blue\" onClick={this.request}>\n\t\t\t\t{`Requested by ${this.state.requested} \n\t\t\t\t${this.state.requested > 1 ? 'users' : 'user'}`}\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className=\"btn btn__square\" onClick={this.request}>\n\t\t\t\t<RequestIcon />\n\t\t\t\tRequest\n\t\t\t</button>\n\t\t);\n\n\t\tlet watchBtn = this.state.onServer ? (\n\t\t\t<button className=\"btn btn__square good\">\n\t\t\t\t<WatchIcon />\n\t\t\t\tPlay\n\t\t\t</button>\n\t\t) : null;\n\n\t\tlet reportBtn = (\n\t\t\t<button className=\"btn btn__square\" onClick={this.props.openIssues}>\n\t\t\t\t<ReportIcon />\n\t\t\t\tReport an issue\n\t\t\t</button>\n\t\t);\n\n\t\tlet seasons = seriesData.seasons;\n\n\t\tlet criticRating = seriesData.vote_average;\n\n\t\tlet video = seriesData.videos.results\n\t\t\t? seriesData.videos.results[0]\n\t\t\t: false;\n\n\t\tif (video) {\n\t\t\tif (video.site !== 'YouTube') {\n\t\t\t\tvideo = false;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"series-wrap\"\n\t\t\t\tdata-id={seriesData.imdb_id}\n\t\t\t\tkey={`${seriesData.title}__wrap`}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`series-top ${\n\t\t\t\t\t\tthis.state.trailer ? 'show-trailer' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`series-backdrop`}\n\t\t\t\t\t\tkey={`${seriesData.title}__backdrop`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{video && this.state.trailer ? (\n\t\t\t\t\t\t\t<div className=\"series-trailer\">\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\tsrc={`https://youtube.com/embed/${video.key}?autoplay=1&controls=0&showinfo=0&autohide=1&loop=1&modestbranding=1&playsinline=1&playlist=${video.key}`}\n\t\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{seriesData.backdrop_path ? (\n\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w1280/' +\n\t\t\t\t\t\t\t\t\tseriesData.backdrop_path\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"no-backdrop\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: 'url(/p-seamless.png)',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"series-poster\"\n\t\t\t\t\t\tkey={`${seriesData.title}__poster`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"series-poster--inner\">\n\t\t\t\t\t\t\t{seriesData.poster_path ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w500/' +\n\t\t\t\t\t\t\t\t\t\tseriesData.poster_path\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"series-details\">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<div className=\"series-details--top\">\n\t\t\t\t\t\t\t{seriesData.logo ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tclassName=\"series-logo\"\n\t\t\t\t\t\t\t\t\tsrc={seriesData.logo}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<h1 className=\"series-title\">\n\t\t\t\t\t\t\t\t\t{seriesData.original_name}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"series--actions\">\n\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"series-content\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"quick-view\">\n\t\t\t\t\t\t\t<div className=\"side-content\">\n\t\t\t\t\t\t\t\t<div className=\"series-action\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={this.showTrailer}\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TrailerIcon />\n\t\t\t\t\t\t\t\t\t\tTrailer\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn__square\">\n\t\t\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\t\t\tReview\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<div className=\"details\">\n\t\t\t\t\t\t\t\t\t<p className=\"year\">\n\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\tseriesData.first_air_date\n\t\t\t\t\t\t\t\t\t\t).getFullYear() +\n\t\t\t\t\t\t\t\t\t\t\t' - ' +\n\t\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\t\tseriesData.last_air_date\n\t\t\t\t\t\t\t\t\t\t\t).getFullYear()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p className=\"network\">\n\t\t\t\t\t\t\t\t\t\t{seriesData.networks[0].name}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{seriesData.genres.map((genre, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\ti ===\n\t\t\t\t\t\t\t\t\t\t\t\tseriesData.genres.length - 1\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\treturn genre.name;\n\t\t\t\t\t\t\t\t\t\t\treturn genre.name + ' / ';\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tRating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`color-${\n\t\t\t\t\t\t\t\t\t\t\t\tcriticRating > 7.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 6.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 4.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'orange'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'red'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{criticRating}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tUser Rating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span className=\"color-green\">95%</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"series-action__mobile\">\n\t\t\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"series-crew\">\n\t\t\t\t\t\t\t\t\t{seriesData.created_by[0] ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"series-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreated by\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${seriesData.created_by[0].id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{seriesData.created_by[0].name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t{seriesData.created_by[1] ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"series-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreated By\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${seriesData.created_by[1].id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{seriesData.created_by[1].name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"sub-title mb--1\">Synopsis</p>\n\t\t\t\t\t\t\t\t<p className=\"overview\">\n\t\t\t\t\t\t\t\t\t{seriesData.overview}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Seasons</h3>\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{seasons.map((season) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"card type--movie-tv\"\n\t\t\t\t\t\t\t\t\t\tkey={`season--${season.season_number}${id}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/series/${id}/season/${season.season_number}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t\t\t\t\t\t\t></Link>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t{season.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${season.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={season.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : seriesData.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w500/${seriesData.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={season.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{season.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{season.air_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '(' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tseason.air_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ).getFullYear() +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ')'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Cast</h3>\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{seriesData.credits.cast.map((cast, key) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\tkey={`${cast.name}--${cast.character}`}\n\t\t\t\t\t\t\t\t\t\tperson={cast}\n\t\t\t\t\t\t\t\t\t\tcharacter={cast.character}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t\t{related}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSeries = withRouter(Series);\n\nfunction SeriesContainer(props) {\n\treturn (\n\t\t<Series mediabutler={props.mediabutler} openIssues={props.openIssues} />\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(SeriesContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\n\nclass Season extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\tshow: this.props.match.params.id,\n\t\t\tseason: this.props.match.params.season,\n\t\t\trequested: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\t\tlet season = this.props.match.params.season;\n\n\t\tif (!this.props.mediabutler.series_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.series(id);\n\t\t}\n\n\t\tif (!this.props.mediabutler.season_lookup[`${id}_s${season}`]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.season(id, season);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet season = this.props.match.params.season;\n\t\tlet seriesData = this.props.mediabutler.series_lookup[id];\n\t\tlet seasonData = this.props.mediabutler.season_lookup[\n\t\t\t`${id}_s${season}`\n\t\t];\n\t\tif (!seriesData || !seasonData) {\n\t\t\treturn (\n\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"page-wrap season-wrap\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t'url(https://image.tmdb.org/t/p/original/' +\n\t\t\t\t\t\t\tseriesData.backdrop_path +\n\t\t\t\t\t\t\t')',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"season-inner\">\n\t\t\t\t\t\t<div className=\"season-details\">\n\t\t\t\t\t\t\t<div className=\"stick\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tto={`/series/${id}`}\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{seriesData.name}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{seriesData.logo ? (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclass=\"series-logo__small\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={seriesData.logo}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<h1 className=\"main-title\">\n\t\t\t\t\t\t\t\t\t{seasonData.name}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<p className=\"overview\">\n\t\t\t\t\t\t\t\t\t{seasonData.overview}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"season-episodes\">\n\t\t\t\t\t\t\t<div className=\"season-episodes-inner\">\n\t\t\t\t\t\t\t\t{seasonData.episodes.map((episode) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode--img\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w500/${episode.still_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode--info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"upper small ep-num\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSeason{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.season_number}:\n\t\t\t\t\t\t\t\t\t\t\t\t\tEpisode{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.episode_number}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"small detail\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.overview}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode--actions\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn__square\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRequest\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn__square\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tReport an issue\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nSeason = withRouter(Season);\n\nfunction SeasonContainer(props) {\n\treturn <Season mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(SeasonContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PersonCard from '../components/PersonCard';\nimport MovieCard from '../components/MovieCard';\nimport Mediabutler from '../data/Mediabutler';\nimport Carousel from '../components/Carousel';\nimport { ReactComponent as RequestIcon } from '../assets/svg/request.svg';\nimport { ReactComponent as ReportIcon } from '../assets/svg/report.svg';\nimport { ReactComponent as WatchIcon } from '../assets/svg/play.svg';\nimport { ReactComponent as CheckIcon } from '../assets/svg/check.svg';\nimport { ReactComponent as StarIcon } from '../assets/svg/star.svg';\nimport { ReactComponent as TrailerIcon } from '../assets/svg/video.svg';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass Movie extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\tid: this.props.match.params.id,\n\t\t\trequested: false,\n\t\t\trelated: false,\n\t\t\ttrailer: false,\n\t\t};\n\n\t\tthis.getMovie = this.getMovie.bind(this);\n\t\tthis.request = this.request.bind(this);\n\t\tthis.getRequests = this.getRequests.bind(this);\n\t\tthis.getRelated = this.getRelated.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t\tthis.showTrailer = this.showTrailer.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getRequests();\n\t\tif (this.props.match.params.id !== this.state.id) {\n\t\t\tthis.setState({\n\t\t\t\tonServer: false,\n\t\t\t\tid: this.props.match.params.id,\n\t\t\t\trequested: false,\n\t\t\t\trelated: false,\n\t\t\t\ttrailer: false,\n\t\t\t});\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getMovie(id);\n\t\tthis.getRequests();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\tgetRelated() {\n\t\tlet id = this.props.match.params.id;\n\t\tif (!id) return;\n\t\tMediabutler.getRelated(id, 'movie').then((res) => {\n\t\t\tlet related = [];\n\t\t\tres.map((item, i) => {\n\t\t\t\trelated[i] = item.id;\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\trelated: related,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetRequests() {\n\t\treturn false;\n\t}\n\n\trequest() {\n\t\treturn false;\n\t}\n\n\tgetMovie() {\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getRelated();\n\t\tif (!this.props.mediabutler.movie_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.movie(id);\n\t\t}\n\t}\n\n\tshowTrailer() {\n\t\tthis.setState({\n\t\t\ttrailer: this.state.trailer ? false : true,\n\t\t});\n\t}\n\n\ttimeConvert(n) {\n\t\tvar num = n;\n\t\tvar hours = num / 60;\n\t\tvar rhours = Math.floor(hours);\n\t\tvar minutes = (hours - rhours) * 60;\n\t\tvar rminutes = Math.round(minutes);\n\t\tvar hrs =\n\t\t\trhours < 1 ? '' : rhours === 1 ? 'hr' : rhours > 1 ? 'hrs' : '';\n\t\treturn `${rhours >= 1 ? rhours : ''} ${hrs} ${rminutes} mins`;\n\t}\n\n\tfindNested(obj, key, value) {\n\t\t// Base case\n\t\tif (obj[key] === value) {\n\t\t\treturn obj;\n\t\t} else {\n\t\t\tfor (var i = 0, len = Object.keys(obj).length; i < len; i++) {\n\t\t\t\tif (typeof obj[i] == 'object') {\n\t\t\t\t\tvar found = this.findNested(obj[i], key, value);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\t// If the object was found in the recursive call, bubble it up.\n\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.state.id;\n\t\tlet movieData = null;\n\t\tif (this.props.mediabutler.movie_lookup[id])\n\t\t\tmovieData = this.props.mediabutler.movie_lookup[id];\n\n\t\tif (!movieData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet related = null;\n\t\tlet relatedItems = null;\n\t\tif (this.state.related) {\n\t\t\trelatedItems = this.state.related.map((id) => {\n\t\t\t\tif (this.props.mediabutler.movie_lookup[id]) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"related--item\" key={`related-${id}`}>\n\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\tmovie={this.props.mediabutler.movie_lookup[id]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\trelated = (\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Related Movies</h3>\n\t\t\t\t\t<Carousel>{relatedItems}</Carousel>\n\t\t\t\t</section>\n\t\t\t);\n\t\t}\n\n\t\tlet requestBtn = this.state.onServer ? (\n\t\t\t<div className=\"btn btn__square good\">\n\t\t\t\t<CheckIcon />\n\t\t\t\tOn Plex\n\t\t\t</div>\n\t\t) : this.state.requested ? (\n\t\t\t<button className=\"btn btn__square blue\" onClick={this.request}>\n\t\t\t\t{`Requested by ${this.state.requested} \n\t\t\t\t${this.state.requested > 1 ? 'users' : 'user'}`}\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className=\"btn btn__square\" onClick={this.request}>\n\t\t\t\t<RequestIcon />\n\t\t\t\tRequest\n\t\t\t</button>\n\t\t);\n\n\t\tlet watchBtn = this.state.onServer ? (\n\t\t\t<button className=\"btn btn__square good\">\n\t\t\t\t<WatchIcon />\n\t\t\t\tPlay\n\t\t\t</button>\n\t\t) : null;\n\n\t\tlet reportBtn = (\n\t\t\t<button className=\"btn btn__square\" onClick={this.props.openIssues}>\n\t\t\t\t<ReportIcon />\n\t\t\t\tReport an issue\n\t\t\t</button>\n\t\t);\n\n\t\tlet criticRating = movieData.vote_average;\n\n\t\tlet director = this.findNested(\n\t\t\tmovieData.credits.crew,\n\t\t\t'job',\n\t\t\t'Director'\n\t\t);\n\n\t\tlet screenplay = this.findNested(\n\t\t\tmovieData.credits.crew,\n\t\t\t'job',\n\t\t\t'Screenplay'\n\t\t);\n\n\t\tlet video = movieData.videos.results\n\t\t\t? movieData.videos.results[0]\n\t\t\t: false;\n\n\t\tif (video) {\n\t\t\tif (video.site !== 'YouTube') {\n\t\t\t\tvideo = false;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"movie-wrap\"\n\t\t\t\tdata-id={movieData.imdb_id}\n\t\t\t\tkey={`${movieData.title}__wrap`}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`movie-top ${\n\t\t\t\t\t\tthis.state.trailer ? 'show-trailer' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"movie-backdrop\"\n\t\t\t\t\t\tkey={`${movieData.title}__backdrop`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{video && this.state.trailer ? (\n\t\t\t\t\t\t\t<div className=\"series-trailer\">\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\tsrc={`https://youtube.com/embed/${video.key}?autoplay=1&controls=0&rel=0`}\n\t\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{movieData.backdrop_path ? (\n\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w1280/' +\n\t\t\t\t\t\t\t\t\tmovieData.backdrop_path\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\talt={movieData.title}\n\t\t\t\t\t\t\t\teffect=\"blur\"\n\t\t\t\t\t\t\t\tkey={`${movieData.title}__backdrop`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"no-backdrop\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: 'url(/p-seamless.png)',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"movie-poster\">\n\t\t\t\t\t\t<div className=\"movie-poster--inner\">\n\t\t\t\t\t\t\t{movieData.poster_path ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w500/' +\n\t\t\t\t\t\t\t\t\t\tmovieData.poster_path\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\talt={movieData.title}\n\t\t\t\t\t\t\t\t\teffect=\"blur\"\n\t\t\t\t\t\t\t\t\tkey={`${movieData.title}__poster`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"movie-details\">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<div className=\"movie-details--top\">\n\t\t\t\t\t\t\t{movieData.logo ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tclassName=\"movie-logo\"\n\t\t\t\t\t\t\t\t\tsrc={movieData.logo}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<h1 className=\"movie-title\">\n\t\t\t\t\t\t\t\t\t{movieData.title}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"movie--actions\">\n\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"movie-content\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"quick-view\">\n\t\t\t\t\t\t\t<div className=\"side-content\">\n\t\t\t\t\t\t\t\t<div className=\"movie-action\">\n\t\t\t\t\t\t\t\t\t{video ? (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.showTrailer}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TrailerIcon />\n\t\t\t\t\t\t\t\t\t\t\tTrailer\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn__square\">\n\t\t\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\t\t\tReview\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<div className=\"details\">\n\t\t\t\t\t\t\t\t\t<p className=\"year\">\n\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\tmovieData.release_date\n\t\t\t\t\t\t\t\t\t\t).getFullYear()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p className=\"runtime\">\n\t\t\t\t\t\t\t\t\t\t{this.timeConvert(movieData.runtime)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{movieData.genres.map((genre, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\ti ===\n\t\t\t\t\t\t\t\t\t\t\t\tmovieData.genres.length - 1\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\treturn genre.name;\n\t\t\t\t\t\t\t\t\t\t\treturn genre.name + ' / ';\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tRating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`color-${\n\t\t\t\t\t\t\t\t\t\t\t\tcriticRating > 7.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 6.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 4.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'orange'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'red'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{criticRating}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tUser Rating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span className=\"color-green\">95%</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"movie-action__mobile\">\n\t\t\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"movie-crew\">\n\t\t\t\t\t\t\t\t\t{director ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"movie-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tDirector\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${director.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{director.name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t{screenplay ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"movie-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tScreenplay\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${screenplay.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{screenplay.name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"sub-title mb--1\">Synopsis</p>\n\t\t\t\t\t\t\t\t<p className=\"overview\">{movieData.overview}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Cast</h3>\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{movieData.credits.cast.map((cast, key) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\tkey={`person--${cast.name}`}\n\t\t\t\t\t\t\t\t\t\tperson={cast}\n\t\t\t\t\t\t\t\t\t\tcharacter={cast.character}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t\t{related}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nMovie = withRouter(Movie);\n\nfunction MovieContainer(props) {\n\treturn (\n\t\t<Movie mediabutler={props.mediabutler} openIssues={props.openIssues} />\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(MovieContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport MovieCard from '../components/MovieCard';\nimport TvCard from '../components/TvCard';\nimport Carousel from '../components/Carousel';\n\nclass Actor extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.getActor = this.getActor.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getActor(id);\n\t}\n\n\tgetActor(id) {\n\t\tif (!this.props.mediabutler.person_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.person(id);\n\t\t}\n\n\t\tMediabutler.personCredits(id);\n\t}\n\n\trender() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet personData = this.props.mediabutler.person_lookup[id];\n\n\t\tif (!personData) {\n\t\t\treturn <div className=\"page-wrap\"></div>;\n\t\t}\n\n\t\tlet banner = false;\n\t\tlet bWidth = 0;\n\n\t\t// Credits Movie\n\t\tlet movieCredits = this.props.mediabutler.actor_movie[id];\n\t\tlet movieActing = false;\n\t\tlet movieProduction = false;\n\n\t\tif (movieCredits) {\n\t\t\tmovieActing = movieCredits.cast;\n\t\t\tmovieProduction = movieCredits.crew;\n\t\t}\n\n\t\t// Credits TV\n\t\tlet tvCredits = this.props.mediabutler.actor_series[id];\n\t\tlet tvActing = false;\n\t\tlet tvProduction = false;\n\n\t\tif (tvCredits) {\n\t\t\ttvActing = tvCredits.cast;\n\t\t\ttvProduction = tvCredits.crew;\n\t\t}\n\n\t\tif (!personData.images) {\n\t\t\tbanner = false;\n\t\t\tbWidth = 0;\n\t\t} else {\n\t\t\tpersonData.images.profiles.forEach((image) => {\n\t\t\t\tif (image.width > bWidth) {\n\t\t\t\t\tbanner = image;\n\t\t\t\t\tbWidth = image.width;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"person--banner\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage: `url(https://image.tmdb.org/t/p/original/${banner.file_path})`,\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t<div className=\"person--top\">\n\t\t\t\t\t\t<div className=\"person--thumb\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w1280/${personData.profile_path}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"person--details\">\n\t\t\t\t\t\t\t<h1 className=\"main-title\">{personData.name}</h1>\n\t\t\t\t\t\t\t<p>{personData.place_of_birth}</p>\n\t\t\t\t\t\t\t<p>{personData.known_for_department}</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* {personData.images.profiles.map((image) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w1280/${image.file_path}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})} */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Biography</h3>\n\t\t\t\t\t\t<div class=\"person--bio\">\n\t\t\t\t\t\t\t<p className=\"bio\">{personData.biography}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t{movieActing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Movies (Acting)</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(movieActing).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = movieActing[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tmovie={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.character}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{movieProduction ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">\n\t\t\t\t\t\t\t\tMovies (Production)\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(movieProduction).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = movieProduction[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tmovie={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.job}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{tvActing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Shows (Acting)</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(tvActing).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = tvActing[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tseries={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.character}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{tvProduction ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">\n\t\t\t\t\t\t\t\tShows (Production)\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(tvProduction).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = tvProduction[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tseries={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.job}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nActor = withRouter(Actor);\n\nfunction ActorContainer(props) {\n\treturn <Actor mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(ActorContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass Issues extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid: false,\n\t\t\topen: this.props.open,\n\t\t\ttype: '',\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.close();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.id !== this.props.match.params.id) {\n\t\t\tlet type;\n\t\t\tswitch (this.props.match.path) {\n\t\t\t\tcase '/movie/:id':\n\t\t\t\t\ttype = 'movie';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '/series/:id':\n\t\t\t\t\ttype = 'series';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\ttype = 'unknown';\n\t\t\t}\n\t\t\tthis.props.close();\n\t\t\tthis.setState({\n\t\t\t\tid: this.props.match.params.id,\n\t\t\t\ttype: type,\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.open !== this.state.open) {\n\t\t\tthis.setState({\n\t\t\t\topen: this.props.open,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`issue-sidebar ${this.state.open ? 'open' : ''}`}>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"issue-sidebar--close\"\n\t\t\t\t\tonClick={this.props.close}\n\t\t\t\t></button>\n\t\t\t\t<p className=\"main-title mb--2\">Report an issue</p>\n\t\t\t\t<section>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tWe try our best to provide good quality content without\n\t\t\t\t\t\tany problems, but sometimes things go wrong. Please use\n\t\t\t\t\t\tthis form to let us know of any issues you've had whilst\n\t\t\t\t\t\twatching Plex and we will do our best to fix them!\n\t\t\t\t\t</p>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<p className=\"sub-title mb--1\">Details</p>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\tname=\"id\"\n\t\t\t\t\t\tdefaultValue={this.state.id}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\tdefaultValue={this.state.type}\n\t\t\t\t\t/>\n\t\t\t\t\t<input type=\"text\" name=\"title\" value={this.state.id} />\n\t\t\t\t\t<select>\n\t\t\t\t\t\t<option value=\"\">Choose an option</option>\n\t\t\t\t\t\t<option value=\"1\">Issue type 1</option>\n\t\t\t\t\t\t<option value=\"2\">Issue type 1</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<textarea defaultValue=\"Notes\"></textarea>\n\t\t\t\t</section>\n\t\t\t\t<button className=\"btn btn__square\">Submit</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Issues);\n","import React from 'react';\nimport { HashRouter, Switch, Route, Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Plex from './data/Plex';\nimport Mediabutler from './data/Mediabutler';\nimport Sidebar from './components/Sidebar';\nimport ConfigSetup from './components/ConfigSetup';\nimport Search from './pages/Search';\nimport Series from './pages/Series';\nimport Season from './pages/Season';\nimport Movie from './pages/Movie';\nimport Actor from './pages/Actor';\nimport Issues from './components/Issues';\n\n/* eslint-disable */\nconst popupCenter = (url, title, w, h) => {\n\t// Fixes dual-screen position                             Most browsers      Firefox\n\tvar dualScreenLeft =\n\t\twindow.screenLeft != undefined ? window.screenLeft : window.screenX;\n\tvar dualScreenTop =\n\t\twindow.screenTop != undefined ? window.screenTop : window.screenY;\n\n\tvar width = window.innerWidth\n\t\t? window.innerWidth\n\t\t: document.documentElement.clientWidth\n\t\t? document.documentElement.clientWidth\n\t\t: screen.width;\n\tvar height = window.innerHeight\n\t\t? window.innerHeight\n\t\t: document.documentElement.clientHeight\n\t\t? document.documentElement.clientHeight\n\t\t: screen.height;\n\n\tvar left = width / 2 - w / 2 + dualScreenLeft;\n\tvar top = height / 2 - h / 2 + dualScreenTop;\n\tvar newWindow = window.open(\n\t\turl,\n\t\ttitle,\n\t\t'scrollbars=yes, width=' +\n\t\t\tw +\n\t\t\t', height=' +\n\t\t\th +\n\t\t\t', top=' +\n\t\t\ttop +\n\t\t\t', left=' +\n\t\t\tleft\n\t);\n\n\tconsole.log(\n\t\t'scrollbars=yes, width=' +\n\t\t\tw +\n\t\t\t', height=' +\n\t\t\th +\n\t\t\t', top=' +\n\t\t\ttop +\n\t\t\t', left=' +\n\t\t\tleft\n\t);\n\n\tif (window.focus) newWindow.focus();\n\treturn newWindow;\n};\n/* eslint-enable */\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmb_login: false,\n\t\t\tactiveServerCheck: false,\n\t\t\tissuesOpen: false,\n\t\t};\n\n\t\tthis.loginOauth = this.loginOauth.bind(this);\n\t\tthis.loginMb = this.loginMb.bind(this);\n\t\tthis.loginLocal = this.loginLocal.bind(this);\n\t\tthis.openIssues = this.openIssues.bind(this);\n\t\tthis.closeIssues = this.closeIssues.bind(this);\n\t}\n\n\tloginOauth(e) {\n\t\te.preventDefault();\n\t\tlet plexWindow = popupCenter('', 'Login with Plex', 500, 500);\n\t\tPlex.plexAuth(plexWindow);\n\t}\n\n\tloginMb() {\n\t\tif (this.props.plex.token) {\n\t\t\tconsole.log('ran');\n\t\t\tthis.setState({\n\t\t\t\tmb_login: true,\n\t\t\t});\n\t\t\tMediabutler.login(this.props.plex.token);\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (\n\t\t\t!this.props.mediabutler.logged_in &&\n\t\t\tthis.props.plex.token &&\n\t\t\t!this.state.mb_login\n\t\t) {\n\t\t\tthis.loginMb();\n\t\t}\n\n\t\tif (\n\t\t\tthis.props.mediabutler.servers &&\n\t\t\tthis.props.mediabutler.config &&\n\t\t\t!this.state.activeServerCheck\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tactiveServerCheck: true,\n\t\t\t});\n\t\t\tMediabutler.activeServer(\n\t\t\t\tthis.props.mediabutler.servers,\n\t\t\t\tthis.props.mediabutler.config\n\t\t\t);\n\t\t}\n\t}\n\n\tloginLocal() {\n\t\tif (localStorage.getItem('petio_user')) {\n\t\t\tMediabutler.parseLocal(localStorage.getItem('petio_user'));\n\t\t}\n\t}\n\n\topenIssues() {\n\t\tthis.setState({\n\t\t\topenIssues: true,\n\t\t});\n\t}\n\n\tcloseIssues() {\n\t\tthis.setState({\n\t\t\topenIssues: false,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tMediabutler.getConfig();\n\t\tthis.loginLocal();\n\t\tif (this.state.openIssues) {\n\t\t\tthis.setState({\n\t\t\t\topenIssues: false,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet user = this.props.mediabutler.current_user;\n\t\tif (!this.props.mediabutler.logged_in) {\n\t\t\treturn (\n\t\t\t\t<div className=\"login-wrap\">\n\t\t\t\t\t<div className=\"login--inner\">\n\t\t\t\t\t\t<h1 className=\"logo\">\n\t\t\t\t\t\t\tPet<span>io</span>\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<p className=\"main-title\">Login</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tLog in securely with your Plex username and password\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button onClick={this.loginOauth} className=\"btn\">\n\t\t\t\t\t\t\tLogin with Plex\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"powered-by\">\n\t\t\t\t\t\tPowered by{' '}\n\t\t\t\t\t\t<a href=\"https://github.com/MediaButler/Server\">\n\t\t\t\t\t\t\tMediabutler\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"page\">\n\t\t\t\t\t<HashRouter>\n\t\t\t\t\t\t<div className=\"sidebar\">\n\t\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/movie/:id\">\n\t\t\t\t\t\t\t\t<Issues\n\t\t\t\t\t\t\t\t\topen={this.state.openIssues}\n\t\t\t\t\t\t\t\t\tclose={this.closeIssues}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Movie openIssues={this.openIssues} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/series/:id\">\n\t\t\t\t\t\t\t\t<Issues\n\t\t\t\t\t\t\t\t\topen={this.state.openIssues}\n\t\t\t\t\t\t\t\t\tclose={this.closeIssues}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Series openIssues={this.openIssues} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/series/:id/season/:season\">\n\t\t\t\t\t\t\t\t<Issues\n\t\t\t\t\t\t\t\t\topen={this.state.openIssues}\n\t\t\t\t\t\t\t\t\tclose={this.closeIssues}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Season openIssues={this.openIssues} />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route path=\"/person/:id\">\n\t\t\t\t\t\t\t\t<Actor />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</HashRouter>\n\t\t\t\t\t{!this.props.mediabutler.config ? <ConfigSetup /> : null}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nfunction AppContainer(props) {\n\treturn <App plex={props.plex} mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tplex: state.plex,\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(AppContainer);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { initStore, store } from './data/store';\nimport { Provider } from 'react-redux';\nimport './styles/main.scss';\n\nconst startApp = () => {\n\tinitStore();\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t);\n};\n\nif (!window.cordova) {\n\tstartApp();\n} else {\n\tdocument.addEventListener('deviceready', startApp, false);\n}\nserviceWorker.unregister();\n"],"sourceRoot":""}