(this.webpackJsonppetio=this.webpackJsonppetio||[]).push([[0],{44:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r,n=a(0),s=a.n(n),c=a(23),l=a.n(c),i=a(6),o=a(7),u=a(2),m=a(9),p=a(8),d=a(3),v=a(11),h=a(10),f=a(4),b=a.n(f),E=a(12),g=a(20),y=a(19),O=a(1),w=Object(g.combineReducers)({plex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLEX_TOKEN":return Object(O.a)(Object(O.a)({},e),{},{token:t.token});default:return e}},mediabutler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user_roles:{permissions:[],rules:[],seen_clients:[],blocked_clients:[],_id:!1,username:!1,owner:!1,__v:0},logged_in:!1,servers:!1,config:"pending",activeServer:!1,popular:{},movie_lookup:{},series_lookup:{},season_lookup:{},person_lookup:{},search_results:{movies:[],series:[],people:[]},actor_movie:{},actor_series:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MB_LOGIN":return Object(O.a)(Object(O.a)({},e),{},{current_user:{username:t.username,email:t.email,thumb:t.thumb},servers:t.servers,logged_in:!0});case"MB_USER_ROLES":return Object(O.a)(Object(O.a)({},e),{},{user_roles:t.user});case"MB_CONFIG_SETUP_START":return Object(O.a)(Object(O.a)({},e),{},{config:!1});case"MB_CONFIG_LOADED":case"MB_CONFIG_SETUP_END":return Object(O.a)(Object(O.a)({},e),{},{config:t.config});case"MB_ACTIVE_SERVER":return Object(O.a)(Object(O.a)({},e),{},{activeServer:t.server});case"POPULAR":return Object(O.a)(Object(O.a)({},e),{},{popular:t.popular,updated:!0});case"SEARCH":return Object(O.a)(Object(O.a)({},e),{},{search_results:{movies:t.movies,series:t.series,people:t.people}});case"MOVIE_LOOKUP":var a={};return t.movie&&Object.keys(t.movie.credits).forEach((function(e){Object.keys(t.movie.credits[e]).forEach((function(r){a[t.movie.credits[e][r].id]=t.movie.credits[e][r]}))})),Object(O.a)(Object(O.a)({},e),{},{movie_lookup:Object(O.a)(Object(O.a)({},e.movie_lookup),{},Object(y.a)({},t.id,t.movie)),actor_cache:{creditCache:a},updated:!0});case"PERSON_LOOKUP":return Object(O.a)(Object(O.a)({},e),{},{person_lookup:Object(O.a)(Object(O.a)({},e.movie_lookup),{},Object(y.a)({},t.id,t.person)),updated:!0});case"SERIES_LOOKUP":var r={};return t.series&&Object.keys(t.series.credits).forEach((function(e){Object.keys(t.series.credits[e]).forEach((function(a){r[t.series.credits[e][a].id]=t.series.credits[e][a]}))})),Object(O.a)(Object(O.a)({},e),{},{series_lookup:Object(O.a)(Object(O.a)({},e.series_lookup),{},Object(y.a)({},t.id,t.series)),actor_cache:{creditCacheS:r},updated:!0});case"SEASON_LOOKUP":return Object(O.a)(Object(O.a)({},e),{},{season_lookup:Object(O.a)(Object(O.a)({},e.season_lookup),{},Object(y.a)({},"".concat(t.series,"_s").concat(t.season),t.data))});case"STORE_ACTOR_MOVIE":return Object(O.a)(Object(O.a)({},e),{},{actor_movie:Object(O.a)(Object(O.a)({},e.actor_movie),{},Object(y.a)({},t.id,{cast:t.cast,crew:t.crew})),updated:!0});case"STORE_ACTOR_SERIES":return Object(O.a)(Object(O.a)({},e),{},{actor_series:Object(O.a)(Object(O.a)({},e.actor_series),{},Object(y.a)({},t.id,{cast:t.cast,crew:t.crew})),updated:!0});default:return e}}}),j=a(42),N=a(43);var k={"Content-Type":"application/json",Accept:"application/json","X-Plex-Device":"API","X-Plex-Device-Name":"DeviceName","X-Plex-Product":"MediaButler","X-Plex-Version":"v1.0","X-Plex-Platform-Version":"v1.0","X-Plex-Client-Identifier":"df9e71a5-a6cd-488e-8730-aaa9195f7435"};function _(e){return S("https://plex.tv/api/v2/pins/".concat(e),k,"get").then((function(e){return e.json()}))}function S(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n={method:a,headers:t};return"post"===a&&(n.body=r),fetch(e,n)}function x(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!!e&&r.dispatch(e)}({type:"PLEX_TOKEN",token:e})}function R(e,t){return C.apply(this,arguments)}function C(){return(C=Object(E.a)(b.a.mark((function e(t,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a);case 2:r=e.sent,console.log(r),r.authToken?(t.close(),x(r.authToken)):t.closed?alert("Unable to login please try again"):setTimeout((function(){R(t,a)}),1e3);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I={plexAuth:function(e){e.document.body.innerHTML='<style>.login-loader-container {font-family: "Open Sans", Arial, sans-serif;position: absolute;top: 0;right: 0;bottom: 0;left: 0;}.login-loader-message {color: #282A2D;text-align: center;position: absolute;left: 50%;top: 25%;transform: translate(-50%, -50%);}.login-loader {border: 5px solid #ccc;-webkit-animation: spin 1s linear infinite;animation: spin 1s linear infinite;border-top: 5px solid #282A2D;border-radius: 50%;width: 50px;height: 50px;position: relative;left: calc(50% - 25px);}@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}</style><div class="login-loader-container"><div class="login-loader-message"><div class="login-loader"></div><br>Redirecting to the Plex login page...</div></div>',S("https://plex.tv/api/v2/pins?strong=true",k,"post").then((function(e){return e.json()})).then((function(t){e.location.href="https://app.plex.tv/auth/#!?clientID=df9e71a5-a6cd-488e-8730-aaa9195f7435&code=".concat(t.code),R(e,t.id)})).catch((function(){alert("Unable to open popout window, please make sure to allow pop-ups!")}))}},P=a(28),M=a.n(P),T={"MB-Client-Identifier":"3b04605f-93cc-4300-b1d6-c23a4282a9a6","Content-Type":"application/json",Accept:"application/json"},L="https://api.themoviedb.org/3/";function q(e){return J("https://auth.mediabutler.app/login",T,"post",{authToken:e})}function z(){return J("/config.json",{"Content-Type":"application/json",Accept:"application/json"},"get")}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(E.a)(b.a.mark((function e(t,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(L,"trending/").concat(t,"/week?api_key=").concat(a),e.abrupt("return",J(r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(E.a)(b.a.mark((function e(t,a,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(L).concat(r,"/").concat(t,"/recommendations?api_key=").concat(a),e.abrupt("return",J(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=L+"movie/";return!!e&&(a+="".concat(e),J(a+="?api_key=".concat(t,"&append_to_response=credits,videos")).then((function(e){return e.json()})))}function H(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=L+"tv/";return!!e&&(a+="".concat(e),J(a+="?api_key=".concat(t,"&append_to_response=credits,videos")).then((function(e){return e.json()})))}function U(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=L+"person/";return!!e&&(a+="".concat(e),J(a+="?api_key=".concat(t,"&append_to_response=images")).then((function(e){return e.json()})))}function W(){return F.apply(this,arguments)}function F(){return(F=Object(E.a)(b.a.mark((function e(){var t,a,r,n,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],a=s.length>1&&void 0!==s[1]&&s[1],r=s.length>2?s[2]:void 0,n=L+"search/",a){e.next=6;break}return e.abrupt("return",!1);case 6:if(n+=a,!t){e.next=11;break}n+="?query=".concat(encodeURI(t)),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:return n+="&include_adult=false",n+="&api_key=".concat(r),e.abrupt("return",J(n).then((function(e){return e.json()})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(E.a)(b.a.mark((function e(t,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://webservice.fanart.tv/v3/".concat(a,"/").concat(t,"?api_key=930d724053d35fcc01a1a6da58fbb80a"),e.abrupt("return",J(r).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return J("".concat(L,"tv/").concat(e,"/external_ids?api_key=").concat(t)).then((function(e){return e.json()}))}function G(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=L+"person/";return!!t&&(!!e&&(r+="".concat(e,"/"),r+="".concat(t,"_credits"),J(r+="?api_key=".concat(a)).then((function(e){return e.json()}))))}function J(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n={method:a,headers:t};return"post"===a&&(n.body=JSON.stringify(r)),fetch(e,n)}var Z="a9a99e29e94d33f6a9a3bb78c7a450f7";function Q(e){return $.apply(this,arguments)}function $(){return($=Object(E.a)(b.a.mark((function e(t){var a,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]&&r[1],q(t).then((function(e){return e.json()})).then((function(e){ne({type:"MB_LOGIN",email:e.email,thumb:e.thumb,username:e.username,servers:e.servers}),a||se(t)})).catch((function(e){console.log(e),alert("Error: Login failed!")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){setTimeout((function(){(function(e){var t=Object(O.a)(Object(O.a)({},T),{},{Authorization:"Bearer ".concat(e)});return M.a.get("https://onemedia.club/mediabutler/user/@me",{headers:t})})(e).then((function(e){ne({type:"MB_USER_ROLES",user:e})}))}),1e3)}function te(){return(te=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae("config.json",JSON.stringify({config:t})),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function re(){return(re=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().then((function(e){return e.json()})).then((function(e){return console.log(e),e.config?(ne({type:"MB_CONFIG_LOADED",config:e.config}),e.config):(ne({type:"MB_CONFIG_SETUP_START"}),!1)})).catch((function(e){return console.log(e),alert("error can't access config!"),!1})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!e&&r.dispatch(e)}function se(e){var t=Date.now(),a=btoa("4691456702"+btoa("".concat(e,"--").concat(t)));console.log(a),localStorage.setItem("petio_user",a)}function ce(){return(ce=Object(E.a)(b.a.mark((function e(){var t,a,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z,e.next=3,A("movie",t);case 3:return e.next=5,e.sent.json();case 5:return a=e.sent,e.next=8,A("tv",t);case 8:return e.next=10,e.sent.json();case 10:return r=e.sent,e.next=13,A("person",t);case 13:return e.next=15,e.sent.json();case 15:n=e.sent,a&&r&&n&&ne({type:"POPULAR",popular:{movies:a.results,tv:r.results,people:n.results}});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){var t=!1;return e.forEach((function(e){"en"!==e.lang||t||(t=e.url)})),t}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(E.a)(b.a.mark((function e(t){var a,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Z,e.next=3,K(t,"movies");case 3:return r=e.sent,e.next=6,V(t,a);case 6:if(n=e.sent,r&&r.hdmovielogo&&(n.logo=le(r.hdmovielogo)),n.id){e.next=10;break}return e.abrupt("return",!1);case 10:ne({type:"MOVIE_LOOKUP",movie:n,id:t});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(E.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(E.a)(b.a.mark((function e(t){var a,r,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Z,e.next=3,X(t,a);case 3:return r=e.sent,e.next=6,K(r.tvdb_id,"tv");case 6:return n=e.sent,e.next=9,H(t,a);case 9:if(s=e.sent,n&&n.hdtvlogo&&(s.logo=le(n.hdtvlogo)),s.id){e.next=13;break}return e.abrupt("return",!1);case 13:ne({type:"SERIES_LOOKUP",series:s,id:t});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z,e.next=3,U(t,"a9a99e29e94d33f6a9a3bb78c7a450f7");case 3:a=e.sent,console.log(a),ne({type:"PERSON_LOOKUP",person:a,id:t});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=Object(E.a)(b.a.mark((function e(t){var a,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"movie",Z);case 2:return a=e.sent,e.next=5,W(t,"tv",Z);case 5:return r=e.sent,e.next=8,W(t,"person",Z);case 8:n=e.sent,ne({type:"SEARCH",movies:a.results,series:r.results,people:n.results});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(E.a)(b.a.mark((function e(t){var a,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Z,e.next=3,G(t,"movie",a);case 3:return r=e.sent,e.next=6,G(t,"tv",a);case 6:n=e.sent,0===r.length?ne({type:"STORE_ACTOR_MOVIE",cast:{},crew:{},id:t}):ne({type:"STORE_ACTOR_MOVIE",cast:r.cast,crew:r.crew,id:t}),0===n.length?ne({type:"STORE_ACTOR_SERIES",cast:{},crew:{},id:t}):ne({type:"STORE_ACTOR_SERIES",cast:n.cast,crew:n.crew,id:t});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe={login:Q,parseLocal:function(e,t){var a=new Date;a.setDate(a.getDate()-7),a.setHours(0,0,0),a.setMilliseconds(0),a=a/1e3|0;var r=atob(atob(e).replace("4691456702","")).split("--"),n=r[0];r[1]>a?Q(n,!0):localStorage.removeItem("petio_user")},getUser:ee,getConfig:function(){return re.apply(this,arguments)},saveConfig:function(e){return te.apply(this,arguments)},activeServer:function(e,t){for(var a=!1,r=0;r<e.length;r++)e[r].machineId===t&&(a=e[r]);a&&(ne({type:"MB_ACTIVE_SERVER",server:a}),ee(a.token))},getPopular:function(){return ce.apply(this,arguments)},movie:ie,series:me,season:function(e,t){return new Promise((function(a,r){(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return!(!t||!e)&&J("".concat(L,"tv/").concat(e,"/season/").concat(t,"?api_key=").concat(a))})(e,t,"a9a99e29e94d33f6a9a3bb78c7a450f7").then((function(e){return e.json()})).then((function(n){n?a(ne({type:"SEASON_LOOKUP",series:e,season:t,data:n})):r("Error")}))}))},search:function(e){return ve.apply(this,arguments)},clearSearch:function(){ne({type:"SEARCH",movies:[],series:[],people:[]})},getRelated:function(e,t){var a=Z;return new Promise((function(r,n){e&&t||n("Missing args"),function(e,t,a){return B.apply(this,arguments)}(e,a,t).then((function(e){return e.json()})).then((function(e){if(!e.results)return!1;var a=e.results;Object.keys(a).map((function(e,r){"movie"===t?ie(a[e].id):me(a[e].id)})),r(a)})).catch((function(e){n(e)}))}))},externalIdTV:function(e){return new Promise((function(t,a){X(e,"a9a99e29e94d33f6a9a3bb78c7a450f7").then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(){a()}))}))},fanart:function(e,t){return ue.apply(this,arguments)},person:function(e){return de.apply(this,arguments)},personCredits:function(e){return he.apply(this,arguments)}};function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ge=s.a.createElement("path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}),ye=function(e){var t=e.svgRef,a=e.title,r=Ee(e,["svgRef","title"]);return s.a.createElement("svg",be({viewBox:"0 0 560 560",strokeMiterlimit:1.414,strokeLinejoin:"round",id:"plex-icon-search-560","aria-hidden":"true",className:"PlexIcon-plexIcon-8Tamaj QuickSearchInput-searchIcon-38PAh5",ref:t},r),a?s.a.createElement("title",null,a):null,ge)},Oe=s.a.forwardRef((function(e,t){return s.a.createElement(ye,be({svgRef:t},e))}));a.p;function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function je(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ne=s.a.createElement("path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}),ke=function(e){var t=e.svgRef,a=e.title,r=je(e,["svgRef","title"]);return s.a.createElement("svg",we({viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560","aria-hidden":"true",className:"PlexIcon-plexIcon-8Tamaj",ref:t},r),a?s.a.createElement("title",null,a):null,Ne)},_e=s.a.forwardRef((function(e,t){return s.a.createElement(ke,we({svgRef:t},e))}));a.p;function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Re=s.a.createElement("path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}),Ce=function(e){var t=e.svgRef,a=e.title,r=xe(e,["svgRef","title"]);return s.a.createElement("svg",Se({viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560","aria-hidden":"true",className:"PlexIcon-plexIcon-8Tamaj",ref:t},r),a?s.a.createElement("title",null,a):null,Re)},Ie=s.a.forwardRef((function(e,t){return s.a.createElement(Ce,Se({svgRef:t},e))}));a.p;function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Te=s.a.createElement("path",{fill:"currentColor",d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}),Le=function(e){var t=e.svgRef,a=e.title,r=Me(e,["svgRef","title"]);return s.a.createElement("svg",Pe({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"users",className:"svg-inline--fa fa-users fa-w-20",role:"img",viewBox:"0 0 640 512",ref:t},r),a?s.a.createElement("title",null,a):null,Te)},qe=s.a.forwardRef((function(e,t){return s.a.createElement(Le,Pe({svgRef:t},e))}));a.p;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var De=s.a.createElement("path",{fill:"currentColor",d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"}),Be=function(e){var t=e.svgRef,a=e.title,r=Ae(e,["svgRef","title"]);return s.a.createElement("svg",ze({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"bookmark",className:"svg-inline--fa fa-bookmark fa-w-12",role:"img",viewBox:"0 0 384 512",ref:t},r),a?s.a.createElement("title",null,a):null,De)},Ve=s.a.forwardRef((function(e,t){return s.a.createElement(Be,ze({svgRef:t},e))}));a.p;function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var We=s.a.createElement("path",{fill:"currentColor",d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"}),Fe=function(e){var t=e.svgRef,a=e.title,r=Ue(e,["svgRef","title"]);return s.a.createElement("svg",He({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"tools",className:"svg-inline--fa fa-tools fa-w-16",role:"img",viewBox:"0 0 512 512",ref:t},r),a?s.a.createElement("title",null,a):null,We)},Ke=s.a.forwardRef((function(e,t){return s.a.createElement(Fe,He({svgRef:t},e))})),Ye=(a.p,function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.location.pathname,t=this.props.mediabutler.current_user;return s.a.createElement("div",{className:"sidebar--inner"},s.a.createElement(d.b,{to:"/",className:"logo"},s.a.createElement("p",{className:"logo-text",title:"Petio"},"Pet",s.a.createElement("span",null,"io"))),s.a.createElement("div",{className:"sidebar--scroll"},s.a.createElement(d.b,{to:"/user",className:"sidebar--item user-profile "+("/user"===e||e.startsWith("/user/")?"active":"")},s.a.createElement("p",null,t.username),s.a.createElement("div",{className:"icon"},s.a.createElement("div",{className:"thumb",style:{backgroundImage:"url("+t.thumb+")",color:"red"}}))),s.a.createElement(d.b,{to:"/",className:"sidebar--item "+("/"===e||e.startsWith("/search/")?"active":"")},s.a.createElement("p",null,"Search"),s.a.createElement("div",{className:"icon"},s.a.createElement(Oe,null))),s.a.createElement(d.b,{to:"/movies",className:"sidebar--item "+("/movies"===e||e.startsWith("/movie/")?"active":"")},s.a.createElement("p",null,"Movies"),s.a.createElement("div",{className:"icon"},s.a.createElement(_e,null))),s.a.createElement(d.b,{to:"/tv",className:"sidebar--item "+("/tv"===e||e.startsWith("/series/")?"active":"")},s.a.createElement("p",null,"TV Shows"),s.a.createElement("div",{className:"icon"},s.a.createElement(Ie,null))),s.a.createElement(d.b,{to:"/people",className:"sidebar--item "+("/people"===e||e.startsWith("/person/")?"active":"")},s.a.createElement("p",null,"People"),s.a.createElement("div",{className:"icon"},s.a.createElement(qe,null))),s.a.createElement(d.b,{to:"/requests",className:"sidebar--item "+("/requests"===e||e.startsWith("/requests/")?"active":"")},s.a.createElement("p",null,"Requests"),s.a.createElement("div",{className:"icon"},s.a.createElement(Ve,null))),t.is_admin?s.a.createElement(d.b,{to:"/admin",className:"sidebar--item "+("/admin"===e||e.startsWith("/admin/")?"active":"")},s.a.createElement("p",null,"Admin"),s.a.createElement("div",{className:"icon"},s.a.createElement(Ke,null))):null))}}]),a}(s.a.Component));Ye=Object(v.f)(Ye);var Xe=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(Ye,{mediabutler:e.mediabutler})}));function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ze=s.a.createElement("path",{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}),Qe=function(e){var t=e.svgRef,a=e.title,r=Je(e,["svgRef","title"]);return s.a.createElement("svg",Ge({viewBox:"0 0 512 512",ref:t},r),a?s.a.createElement("title",null,a):null,Ze)},$e=s.a.forwardRef((function(e,t){return s.a.createElement(Qe,Ge({svgRef:t},e))})),et=(a.p,function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={display:!1,selectedServer:!1,configReady:!1},r.selectServer=r.selectServer.bind(Object(u.a)(r)),r.saveConfig=r.saveConfig.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({display:!0})}),500)}},{key:"selectServer",value:function(e){var t=e.currentTarget.dataset.id;this.setState({selectedServer:t})}},{key:"saveConfig",value:function(){var e=this;this.state.selectedServer&&fe.saveConfig(this.state.selectedServer).then((function(){e.setState({configReady:!0})}))}},{key:"render",value:function(){var e=this,t=s.a.createElement("p",null,"Your config file should have auto downloaded, place this config file in the root of your Petio install and then refresh the page."),a=s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Choose your server from the options below. This will lock this install of Petio to a specific server running Mediabutler. Servers not running Mediabutler will be greyed out."),s.a.createElement("h3",{className:"sub-title"},"Servers"),s.a.createElement("div",{className:"server-list"},this.props.mediabutler.servers.map((function(t){return s.a.createElement("div",{className:"server-list--item",key:t.machineId},s.a.createElement("div",{className:"server-list--item-inner ".concat(t.url?"":"disabled"," ").concat(e.state.selectedServer===t.machineId?"active":""),"data-id":t.machineId,onClick:e.selectServer},s.a.createElement("div",{className:"icon"},s.a.createElement($e,null)),t.name))}))));return s.a.createElement("div",{className:"config-setup ".concat(this.state.display?"loaded":"")},s.a.createElement("div",{className:"config-setup--inner"},s.a.createElement("h1",{className:"main-title"},"Config Setup"),this.state.configReady?t:a,this.state.selectedServer&&!this.state.configReady?s.a.createElement("button",{className:"btn",onClick:this.saveConfig},"Submit"):null))}}]),a}(s.a.Component));var tt=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(et,{mediabutler:e.mediabutler})})),at=a(14),rt=(a(22),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={onServer:!1,imdbId:!1,tmdbId:!1},r.getMovie=r.getMovie.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMovie()}},{key:"getMovie",value:function(){var e=this.props.movie.id;if(!this.props.mediabutler.movie_lookup[e]){if(!e)return!1;fe.movie(e)}}},{key:"render",value:function(){var e=this.props.movie.id,t=this.props.mediabutler.movie_lookup[e];if(!t)return s.a.createElement("div",{key:e,"data-key":e,className:"card type--movie-tv "},s.a.createElement("div",{className:"card--inner"},s.a.createElement(d.b,{to:"/movie/".concat(e),className:"full-link"}),s.a.createElement("div",{className:"image-wrap"},s.a.createElement("div",{className:"no-poster"})),s.a.createElement("div",{className:"text-wrap"},s.a.createElement("p",{className:"title"},"Loading...",s.a.createElement("span",{className:"year"})))));var a=t.poster_path?s.a.createElement(at.LazyLoadImage,{alt:t.title,src:"https://image.tmdb.org/t/p/w200/".concat(t.poster_path)}):s.a.createElement("div",{className:"no-poster"});return s.a.createElement("div",{key:t.id,"data-key":t.id,className:"card type--movie-tv "+(this.state.onServer?"on-server":"")},s.a.createElement("div",{className:"card--inner"},s.a.createElement(d.b,{to:"/movie/".concat(t.id),className:"full-link"}),s.a.createElement("div",{className:"image-wrap"},a),s.a.createElement("div",{className:"text-wrap"},s.a.createElement("p",{className:"title",title:t.title},t.title,s.a.createElement("span",{className:"year"},this.props.character?this.props.character:t.release_date?"("+new Date(t.release_date).getFullYear()+")":null)))))}}]),a}(s.a.Component));rt=Object(v.f)(rt);var nt=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(rt,{mediabutler:e.mediabutler,movie:e.movie,character:e.character})})),st=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={onServer:!1,imdbId:!1,tmdbId:!1},r.getMovie=r.getSeries.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getSeries()}},{key:"getSeries",value:function(){var e=this.props.series.id;if(!this.props.mediabutler.series_lookup[e]){if(!e)return!1;fe.series(e)}}},{key:"render",value:function(){var e=this.props.series.id,t=this.props.mediabutler.series_lookup[e];if(!t)return s.a.createElement("div",{key:e,"data-key":e,className:"card type--movie-tv "},s.a.createElement("div",{className:"card--inner"},s.a.createElement(d.b,{to:"/series/".concat(e),className:"full-link"}),s.a.createElement("div",{className:"image-wrap"},s.a.createElement("div",{className:"no-poster"})),s.a.createElement("div",{className:"text-wrap"},s.a.createElement("p",{className:"title"},"Loading...",s.a.createElement("span",{className:"year"})))));var a=t.poster_path?s.a.createElement(at.LazyLoadImage,{alt:t.title,src:"https://image.tmdb.org/t/p/w200/".concat(t.poster_path)}):s.a.createElement("div",{className:"no-poster"});return s.a.createElement("div",{key:t.id,"data-key":t.id,className:"card type--movie-tv "+(this.state.onServer?"on-server":"")},s.a.createElement("div",{className:"card--inner"},s.a.createElement(d.b,{to:"/series/".concat(t.id),className:"full-link"}),s.a.createElement("div",{className:"image-wrap"},a),s.a.createElement("div",{className:"text-wrap"},s.a.createElement("p",{className:"title"},t.name,s.a.createElement("span",{className:"year"},this.props.character?this.props.character:"("+new Date(t.first_air_date).getFullYear()+")")))))}}]),a}(s.a.Component);st=Object(v.f)(st);var ct=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(st,{mediabutler:e.mediabutler,series:e.series,character:e.character})})),lt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"carousel"},s.a.createElement("div",{className:"carousel--inner"},this.props.children))}}]),a}(s.a.Component),it=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.person;return e.known_for&&e.known_for.map((function(e,t){return s.a.createElement(d.b,{to:"/movie/".concat(e.id)},e.title)})),s.a.createElement("div",{key:e.id,className:"card person-card"},s.a.createElement("div",{className:"card--inner"},s.a.createElement(d.b,{to:"/person/".concat(e.id),className:"full-link"}),s.a.createElement("div",{className:"image-wrap"},e.profile_path?s.a.createElement(at.LazyLoadImage,{alt:e.name,src:"https://image.tmdb.org/t/p/w200/".concat(e.profile_path)}):s.a.createElement("div",{className:"no-poster"})),s.a.createElement("div",{className:"text-wrap"},s.a.createElement("p",{className:"title"},e.name),null,this.props.character?s.a.createElement("p",{className:"character"},this.props.character):null)))}}]),a}(s.a.Component),ot=Object(v.f)(it),ut=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={searchTerm:"",searchActive:!1},r.handleChange=r.handleChange.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=this;if(e.currentTarget.value.length>2){var a=e.currentTarget.value;setTimeout((function(){a===t.state.searchTerm&&fe.search(a)}),50),this.setState({searchTerm:e.currentTarget.value,searchActive:!0})}else fe.clearSearch(),this.setState({searchTerm:e.currentTarget.value,searchActive:!1})}},{key:"componentDidMount",value:function(){fe.getPopular(),document.querySelectorAll(".page-wrap")[0].scrollTop=0,window.scrollTo(0,0)}},{key:"render",value:function(){var e=s.a.createElement(s.a.Fragment,null,s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Movies"),this.props.mediabutler.search_results.movies.length>0?s.a.createElement(lt,null,this.props.mediabutler.search_results.movies.map((function(e){return s.a.createElement(nt,{key:e.id,movie:e})}))):s.a.createElement("p",null,"No results")),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Shows"),this.props.mediabutler.search_results.series.length>0?s.a.createElement(lt,null,this.props.mediabutler.search_results.series.map((function(e){return s.a.createElement(ct,{key:e.id,series:e})}))):s.a.createElement("p",null,"No results")),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"People"),this.props.mediabutler.search_results.people.length>0?s.a.createElement(lt,null,this.props.mediabutler.search_results.people.map((function(e){return s.a.createElement(ot,{key:e.id,person:e})}))):s.a.createElement("p",null,"No results"))),t=s.a.createElement(s.a.Fragment,null,s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Trending Movies"),s.a.createElement(lt,null,Object.keys(this.props.mediabutler.popular).length>0?this.props.mediabutler.popular.movies.map((function(e){return s.a.createElement(nt,{key:e.id,movie:e})})):null)),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Trending Shows"),s.a.createElement(lt,null,Object.keys(this.props.mediabutler.popular).length>0?this.props.mediabutler.popular.tv.map((function(e){return s.a.createElement(ct,{key:e.id,series:e})})):null)),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Trending People"),s.a.createElement(lt,null,Object.keys(this.props.mediabutler.popular).length>0?this.props.mediabutler.popular.people.map((function(e){return s.a.createElement(ot,{key:e.id,person:e})})):null)));return s.a.createElement("div",{className:"search-wrap"},s.a.createElement("section",null,s.a.createElement("h1",{className:"main-title mb--1"},"Search"),s.a.createElement("div",{className:"search-form"},s.a.createElement("input",{type:"text",placeholder:"Search",value:this.state.searchTerm,onChange:this.handleChange}),s.a.createElement("button",{className:"search-btn"},s.a.createElement(Oe,null)))),this.state.searchActive?e:t)}}]),a}(s.a.Component);ut=Object(v.f)(ut);var mt=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(ut,{mediabutler:e.mediabutler})}));function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var vt=s.a.createElement("path",{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}),ht=function(e){var t=e.svgRef,a=e.title,r=dt(e,["svgRef","title"]);return s.a.createElement("svg",pt({viewBox:"0 0 512 512",ref:t},r),a?s.a.createElement("title",null,a):null,vt)},ft=s.a.forwardRef((function(e,t){return s.a.createElement(ht,pt({svgRef:t},e))}));a.p;function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var gt=s.a.createElement("path",{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"}),yt=function(e){var t=e.svgRef,a=e.title,r=Et(e,["svgRef","title"]);return s.a.createElement("svg",bt({viewBox:"0 0 512 512",ref:t},r),a?s.a.createElement("title",null,a):null,gt)},Ot=s.a.forwardRef((function(e,t){return s.a.createElement(yt,bt({svgRef:t},e))}));a.p;function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Nt=s.a.createElement("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}),kt=function(e){var t=e.svgRef,a=e.title,r=jt(e,["svgRef","title"]);return s.a.createElement("svg",wt({viewBox:"0 0 448 512",ref:t},r),a?s.a.createElement("title",null,a):null,Nt)},_t=s.a.forwardRef((function(e,t){return s.a.createElement(kt,wt({svgRef:t},e))}));a.p;function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function xt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Rt=s.a.createElement("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}),Ct=function(e){var t=e.svgRef,a=e.title,r=xt(e,["svgRef","title"]);return s.a.createElement("svg",St({viewBox:"0 0 512 512",ref:t},r),a?s.a.createElement("title",null,a):null,Rt)},It=s.a.forwardRef((function(e,t){return s.a.createElement(Ct,St({svgRef:t},e))}));a.p;function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Tt=s.a.createElement("path",{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}),Lt=function(e){var t=e.svgRef,a=e.title,r=Mt(e,["svgRef","title"]);return s.a.createElement("svg",Pt({viewBox:"0 0 576 512",ref:t},r),a?s.a.createElement("title",null,a):null,Tt)},qt=s.a.forwardRef((function(e,t){return s.a.createElement(Lt,Pt({svgRef:t},e))}));a.p;function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function At(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Dt=s.a.createElement("path",{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}),Bt=function(e){var t=e.svgRef,a=e.title,r=At(e,["svgRef","title"]);return s.a.createElement("svg",zt({viewBox:"0 0 576 512",ref:t},r),a?s.a.createElement("title",null,a):null,Dt)},Vt=s.a.forwardRef((function(e,t){return s.a.createElement(Bt,zt({svgRef:t},e))}));a.p;a.p;var Ht=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={onServer:!1,id:r.props.match.params.id,requested:!1,related:!1,trailer:!1},r.getSeries=r.getSeries.bind(Object(u.a)(r)),r.onServer=r.onServer.bind(Object(u.a)(r)),r.request=r.request.bind(Object(u.a)(r)),r.getRequests=r.getRequests.bind(Object(u.a)(r)),r.getRelated=r.getRelated.bind(Object(u.a)(r)),r.init=r.init.bind(Object(u.a)(r)),r.showTrailer=r.showTrailer.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.getRequests(),this.props.match.params.id!==this.state.id&&(this.setState({onServer:!1,id:this.props.match.params.id,requested:!1,related:!1}),this.init())}},{key:"init",value:function(){document.querySelectorAll(".page-wrap")[0].scrollTop=0,window.scrollTo(0,0);var e=this.props.match.params.id;this.getSeries(e),this.getRequests()}},{key:"componentDidMount",value:function(){this.init()}},{key:"getRelated",value:function(){var e=this,t=this.props.match.params.id;t&&fe.getRelated(t,"tv").then((function(t){var a=[];t.map((function(e,t){a[t]=e.id})),e.setState({related:a})}))}},{key:"getRequests",value:function(){return!1}},{key:"request",value:function(){return!1}},{key:"getSeries",value:function(){var e=this.props.match.params.id;this.getRelated(),this.props.mediabutler.series_lookup[e]||fe.series(e)}},{key:"onServer",value:function(e,t,a){}},{key:"timeConvert",value:function(e){var t=e/60,a=Math.floor(t),r=60*(t-a),n=Math.round(r),s=a<1?"":1===a?"hr":a>1?"hrs":"";return"".concat(a>=1?a:""," ").concat(s," ").concat(n," mins")}},{key:"findNested",value:function(e,t,a){if(e[t]===a)return e;for(var r=0,n=Object.keys(e).length;r<n;r++)if("object"==typeof e[r]){var s=this.findNested(e[r],t,a);if(s)return s}}},{key:"showTrailer",value:function(){this.setState({trailer:!this.state.trailer})}},{key:"render",value:function(){var e=this,t=this.state.id,a=this.props.mediabutler.series_lookup[t];if(!a)return null;var r=null,n=null;this.state.related&&(n=this.state.related.map((function(t){if(e.props.mediabutler.series_lookup[t])return s.a.createElement("div",{className:"related--item",key:"related-".concat(t)},s.a.createElement(ct,{series:e.props.mediabutler.series_lookup[t]}))})),r=s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Related Shows"),s.a.createElement(lt,null,n)));var c=this.state.onServer?s.a.createElement("div",{className:"btn btn__square good"},s.a.createElement(It,null),"On Plex"):this.state.requested?s.a.createElement("button",{className:"btn btn__square blue",onClick:this.request},"Requested by ".concat(this.state.requested," \n\t\t\t\t").concat(this.state.requested>1?"users":"user")):s.a.createElement("button",{className:"btn btn__square",onClick:this.request},s.a.createElement(ft,null),"Request"),l=this.state.onServer?s.a.createElement("button",{className:"btn btn__square good"},s.a.createElement(_t,null),"Play"):null,i=s.a.createElement("button",{className:"btn btn__square",onClick:this.props.openIssues},s.a.createElement(Ot,null),"Report an issue"),o=a.seasons,u=a.vote_average,m=!!a.videos.results&&a.videos.results[0];return m&&"YouTube"!==m.site&&(m=!1),s.a.createElement("div",{className:"series-wrap","data-id":a.imdb_id,key:"".concat(a.title,"__wrap")},s.a.createElement("div",{className:"series-top ".concat(this.state.trailer?"show-trailer":"")},s.a.createElement("div",{className:"series-backdrop",key:"".concat(a.title,"__backdrop")},m&&this.state.trailer?s.a.createElement("div",{className:"series-trailer"},s.a.createElement("iframe",{frameBorder:"0",height:"100%",width:"100%",src:"https://youtube.com/embed/".concat(m.key,"?autoplay=1&controls=0&showinfo=0&autohide=1&loop=1&modestbranding=1&playsinline=1&playlist=").concat(m.key)})):null,a.backdrop_path?s.a.createElement(at.LazyLoadImage,{src:"https://image.tmdb.org/t/p/w1280/"+a.backdrop_path}):s.a.createElement("div",{className:"no-backdrop",style:{backgroundImage:"url(/p-seamless.png)"}})),s.a.createElement("div",{className:"series-poster",key:"".concat(a.title,"__poster")},s.a.createElement("div",{className:"series-poster--inner"},a.poster_path?s.a.createElement(at.LazyLoadImage,{src:"https://image.tmdb.org/t/p/w500/"+a.poster_path}):null)),s.a.createElement("div",{className:"series-details"},s.a.createElement("span",null),s.a.createElement("div",{className:"series-details--top"},a.logo?s.a.createElement(at.LazyLoadImage,{className:"series-logo",src:a.logo}):s.a.createElement("h1",{className:"series-title"},a.original_name)),s.a.createElement("div",{className:"series--actions"},l,c,i))),s.a.createElement("div",{className:"series-content"},s.a.createElement("section",null,s.a.createElement("div",{className:"quick-view"},s.a.createElement("div",{className:"side-content"},s.a.createElement("div",{className:"series-action"},s.a.createElement("button",{onClick:this.showTrailer,className:"btn btn__square"},s.a.createElement(Vt,null),"Trailer"),s.a.createElement("button",{className:"btn btn__square"},s.a.createElement(qt,null),"Review"))),s.a.createElement("div",{className:"info"},s.a.createElement("div",{className:"details"},s.a.createElement("p",{className:"year"},new Date(a.first_air_date).getFullYear()+" - "+new Date(a.last_air_date).getFullYear()),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",{className:"network"},a.networks[0].name),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",null,a.genres.map((function(e,t){return t===a.genres.length-1?e.name:e.name+" / "}))),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",null,"Rating:"," ",s.a.createElement("span",{className:"color-".concat(u>7.9?"green":u>6.9?"blue":u>4.9?"orange":"red")},u)),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",null,"User Rating:"," ",s.a.createElement("span",{className:"color-green"},"95%"))),s.a.createElement("div",{className:"series-action__mobile"},l,c,i),s.a.createElement("div",{className:"series-crew"},a.created_by[0]?s.a.createElement("div",{className:"series-crew--item"},s.a.createElement("p",{className:"sub-title"},"Created by"),s.a.createElement(d.b,{to:"/person/".concat(a.created_by[0].id),className:"crew-credit"},a.created_by[0].name)):null,a.created_by[1]?s.a.createElement("div",{className:"series-crew--item"},s.a.createElement("p",{className:"sub-title"},"Created By"),s.a.createElement(d.b,{to:"/person/".concat(a.created_by[1].id),className:"crew-credit"},a.created_by[1].name)):null),s.a.createElement("p",{className:"sub-title mb--1"},"Synopsis"),s.a.createElement("p",{className:"overview"},a.overview)))),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Seasons"),s.a.createElement(lt,null,o.map((function(e){return s.a.createElement("div",{className:"card type--movie-tv",key:"season--".concat(e.season_number).concat(t)},s.a.createElement("div",{className:"card--inner"},s.a.createElement(d.b,{to:"/series/".concat(t,"/season/").concat(e.season_number),className:"full-link"}),s.a.createElement("div",{className:"image-wrap"},e.poster_path?s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:e.name}):a.poster_path?s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(a.poster_path),alt:e.name}):null),s.a.createElement("div",{className:"text-wrap"},s.a.createElement("p",{className:"title"},e.name,s.a.createElement("span",{className:"year"},e.air_date?"("+new Date(e.air_date).getFullYear()+")":"")))))})))),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Cast"),s.a.createElement(lt,null,a.credits.cast.map((function(e,t){return s.a.createElement(ot,{key:"".concat(e.name,"--").concat(e.character),person:e,character:e.character})})))),r))}}]),a}(s.a.Component);Ht=Object(v.f)(Ht);var Ut=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(Ht,{mediabutler:e.mediabutler,openIssues:e.openIssues})})),Wt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={onServer:!1,show:r.props.match.params.id,season:r.props.match.params.season,requested:!1},r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.querySelectorAll(".page-wrap")[0].scrollTop=0,window.scrollTo(0,0);var e=this.props.match.params.id,t=this.props.match.params.season;this.props.mediabutler.series_lookup[e]||fe.series(e),this.props.mediabutler.season_lookup["".concat(e,"_s").concat(t)]||fe.season(e,t)}},{key:"render",value:function(){var e=this.props.match.params.id,t=this.props.match.params.season,a=this.props.mediabutler.series_lookup[e],r=this.props.mediabutler.season_lookup["".concat(e,"_s").concat(t)];return a&&r?s.a.createElement("div",{className:"page-wrap season-wrap",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/"+a.backdrop_path+")"}},s.a.createElement("div",{className:"season-inner"},s.a.createElement("div",{className:"season-details"},s.a.createElement("div",{className:"stick"},s.a.createElement("div",null,s.a.createElement(d.b,{to:"/series/".concat(e),className:"btn btn__square"},a.name)),a.logo?s.a.createElement("div",null,s.a.createElement("img",{class:"series-logo__small",src:a.logo})):null,s.a.createElement("h1",{className:"main-title"},r.name),s.a.createElement("p",{className:"overview"},r.overview))),s.a.createElement("div",{className:"season-episodes"},s.a.createElement("div",{className:"season-episodes-inner"},r.episodes.map((function(e){return s.a.createElement("div",{className:"season-episode"},s.a.createElement("div",{className:"season-episode--img"},s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.still_path)})),s.a.createElement("div",{className:"season-episode--info"},s.a.createElement("p",{className:"upper small ep-num"},"Season"," ",e.season_number,": Episode"," ",e.episode_number),s.a.createElement("h4",{className:"sub-title"},e.name),s.a.createElement("p",{className:"small detail"},e.overview)),s.a.createElement("div",{className:"season-episode--actions"},s.a.createElement("button",{className:"btn btn__square"},"Request"),s.a.createElement("button",{className:"btn btn__square"},"Report an issue")))})))))):s.a.createElement("div",{className:"page-wrap"},s.a.createElement("p",null,"Loading..."))}}]),a}(s.a.Component);Wt=Object(v.f)(Wt);var Ft=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(Wt,{mediabutler:e.mediabutler})})),Kt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={onServer:!1,id:r.props.match.params.id,requested:!1,related:!1,trailer:!1},r.getMovie=r.getMovie.bind(Object(u.a)(r)),r.request=r.request.bind(Object(u.a)(r)),r.getRequests=r.getRequests.bind(Object(u.a)(r)),r.getRelated=r.getRelated.bind(Object(u.a)(r)),r.init=r.init.bind(Object(u.a)(r)),r.showTrailer=r.showTrailer.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.getRequests(),this.props.match.params.id!==this.state.id&&(this.setState({onServer:!1,id:this.props.match.params.id,requested:!1,related:!1,trailer:!1}),this.init())}},{key:"init",value:function(){document.querySelectorAll(".page-wrap")[0].scrollTop=0,window.scrollTo(0,0);var e=this.props.match.params.id;this.getMovie(e),this.getRequests()}},{key:"componentDidMount",value:function(){this.init()}},{key:"getRelated",value:function(){var e=this,t=this.props.match.params.id;t&&fe.getRelated(t,"movie").then((function(t){var a=[];t.map((function(e,t){a[t]=e.id})),e.setState({related:a})}))}},{key:"getRequests",value:function(){return!1}},{key:"request",value:function(){return!1}},{key:"getMovie",value:function(){var e=this.props.match.params.id;this.getRelated(),this.props.mediabutler.movie_lookup[e]||fe.movie(e)}},{key:"showTrailer",value:function(){this.setState({trailer:!this.state.trailer})}},{key:"timeConvert",value:function(e){var t=e/60,a=Math.floor(t),r=60*(t-a),n=Math.round(r),s=a<1?"":1===a?"hr":a>1?"hrs":"";return"".concat(a>=1?a:""," ").concat(s," ").concat(n," mins")}},{key:"findNested",value:function(e,t,a){if(e[t]===a)return e;for(var r=0,n=Object.keys(e).length;r<n;r++)if("object"==typeof e[r]){var s=this.findNested(e[r],t,a);if(s)return s}}},{key:"render",value:function(){var e=this,t=this.state.id,a=null;if(this.props.mediabutler.movie_lookup[t]&&(a=this.props.mediabutler.movie_lookup[t]),!a)return null;var r=null,n=null;this.state.related&&(n=this.state.related.map((function(t){if(e.props.mediabutler.movie_lookup[t])return s.a.createElement("div",{className:"related--item",key:"related-".concat(t)},s.a.createElement(nt,{movie:e.props.mediabutler.movie_lookup[t]}))})),r=s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Related Movies"),s.a.createElement(lt,null,n)));var c=this.state.onServer?s.a.createElement("div",{className:"btn btn__square good"},s.a.createElement(It,null),"On Plex"):this.state.requested?s.a.createElement("button",{className:"btn btn__square blue",onClick:this.request},"Requested by ".concat(this.state.requested," \n\t\t\t\t").concat(this.state.requested>1?"users":"user")):s.a.createElement("button",{className:"btn btn__square",onClick:this.request},s.a.createElement(ft,null),"Request"),l=this.state.onServer?s.a.createElement("button",{className:"btn btn__square good"},s.a.createElement(_t,null),"Play"):null,i=s.a.createElement("button",{className:"btn btn__square",onClick:this.props.openIssues},s.a.createElement(Ot,null),"Report an issue"),o=a.vote_average,u=this.findNested(a.credits.crew,"job","Director"),m=this.findNested(a.credits.crew,"job","Screenplay"),p=!!a.videos.results&&a.videos.results[0];return p&&"YouTube"!==p.site&&(p=!1),s.a.createElement("div",{className:"movie-wrap","data-id":a.imdb_id,key:"".concat(a.title,"__wrap")},s.a.createElement("div",{className:"movie-top ".concat(this.state.trailer?"show-trailer":"")},s.a.createElement("div",{className:"movie-backdrop",key:"".concat(a.title,"__backdrop")},p&&this.state.trailer?s.a.createElement("div",{className:"series-trailer"},s.a.createElement("iframe",{frameBorder:"0",height:"100%",width:"100%",src:"https://youtube.com/embed/".concat(p.key,"?autoplay=1&controls=0&rel=0")})):null,a.backdrop_path?s.a.createElement(at.LazyLoadImage,{src:"https://image.tmdb.org/t/p/w1280/"+a.backdrop_path,alt:a.title,effect:"blur",key:"".concat(a.title,"__backdrop")}):s.a.createElement("div",{className:"no-backdrop",style:{backgroundImage:"url(/p-seamless.png)"}})),s.a.createElement("div",{className:"movie-poster"},s.a.createElement("div",{className:"movie-poster--inner"},a.poster_path?s.a.createElement(at.LazyLoadImage,{src:"https://image.tmdb.org/t/p/w500/"+a.poster_path,alt:a.title,effect:"blur",key:"".concat(a.title,"__poster")}):null)),s.a.createElement("div",{className:"movie-details"},s.a.createElement("span",null),s.a.createElement("div",{className:"movie-details--top"},a.logo?s.a.createElement(at.LazyLoadImage,{className:"movie-logo",src:a.logo}):s.a.createElement("h1",{className:"movie-title"},a.title)),s.a.createElement("div",{className:"movie--actions"},l,c,i))),s.a.createElement("div",{className:"movie-content"},s.a.createElement("section",null,s.a.createElement("div",{className:"quick-view"},s.a.createElement("div",{className:"side-content"},s.a.createElement("div",{className:"movie-action"},p?s.a.createElement("button",{onClick:this.showTrailer,className:"btn btn__square"},s.a.createElement(Vt,null),"Trailer"):null,s.a.createElement("button",{className:"btn btn__square"},s.a.createElement(qt,null),"Review"))),s.a.createElement("div",{className:"info"},s.a.createElement("div",{className:"details"},s.a.createElement("p",{className:"year"},new Date(a.release_date).getFullYear()),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",{className:"runtime"},this.timeConvert(a.runtime)),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",null,a.genres.map((function(e,t){return t===a.genres.length-1?e.name:e.name+" / "}))),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",null,"Rating:"," ",s.a.createElement("span",{className:"color-".concat(o>7.9?"green":o>6.9?"blue":o>4.9?"orange":"red")},o)),s.a.createElement("p",{className:"spacer"},"|"),s.a.createElement("p",null,"User Rating:"," ",s.a.createElement("span",{className:"color-green"},"95%"))),s.a.createElement("div",{className:"movie-action__mobile"},l,c,i),s.a.createElement("div",{className:"movie-crew"},u?s.a.createElement("div",{className:"movie-crew--item"},s.a.createElement("p",{className:"sub-title"},"Director"),s.a.createElement(d.b,{to:"/person/".concat(u.id),className:"crew-credit"},u.name)):null,m?s.a.createElement("div",{className:"movie-crew--item"},s.a.createElement("p",{className:"sub-title"},"Screenplay"),s.a.createElement(d.b,{to:"/person/".concat(m.id),className:"crew-credit"},m.name)):null),s.a.createElement("p",{className:"sub-title mb--1"},"Synopsis"),s.a.createElement("p",{className:"overview"},a.overview)))),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Cast"),s.a.createElement(lt,null,a.credits.cast.map((function(e,t){return s.a.createElement(ot,{key:"person--".concat(e.name),person:e,character:e.character})})))),r))}}]),a}(s.a.Component);Kt=Object(v.f)(Kt);var Yt=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(Kt,{mediabutler:e.mediabutler,openIssues:e.openIssues})})),Xt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).getActor=r.getActor.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.querySelectorAll(".page-wrap")[0].scrollTop=0,window.scrollTo(0,0);var e=this.props.match.params.id;this.getActor(e)}},{key:"getActor",value:function(e){this.props.mediabutler.person_lookup[e]||fe.person(e),fe.personCredits(e)}},{key:"render",value:function(){var e=this.props.match.params.id,t=this.props.mediabutler.person_lookup[e];if(!t)return s.a.createElement("div",{className:"page-wrap"});var a=!1,r=0,n=this.props.mediabutler.actor_movie[e],c=!1,l=!1;n&&(c=n.cast,l=n.crew);var i=this.props.mediabutler.actor_series[e],o=!1,u=!1;return i&&(o=i.cast,u=i.crew),t.images?t.images.profiles.forEach((function(e){e.width>r&&(a=e,r=e.width)})):(a=!1,r=0),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"person--banner",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(a.file_path,")")}}),s.a.createElement("div",{className:"page-wrap"},s.a.createElement("div",{className:"person--top"},s.a.createElement("div",{className:"person--thumb"},s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w1280/".concat(t.profile_path)})),s.a.createElement("div",{className:"person--details"},s.a.createElement("h1",{className:"main-title"},t.name),s.a.createElement("p",null,t.place_of_birth),s.a.createElement("p",null,t.known_for_department))),s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Biography"),s.a.createElement("div",{class:"person--bio"},s.a.createElement("p",{className:"bio"},t.biography))),c?s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Movies (Acting)"),s.a.createElement(lt,null,Object.keys(c).map((function(e,t){var a=c[e];return a.popularity<10?null:s.a.createElement(nt,{key:a.id+"-cast-"+t,movie:a,character:a.character})})))):null,l?s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Movies (Production)"),s.a.createElement(lt,null,Object.keys(l).map((function(e,t){var a=l[e];return a.popularity<10?null:s.a.createElement(nt,{key:a.id+"-cast-"+t,movie:a,character:a.job})})))):null,o?s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Shows (Acting)"),s.a.createElement(lt,null,Object.keys(o).map((function(e,t){var a=o[e];return a.popularity<10?null:s.a.createElement(ct,{key:a.id+"-cast-"+t,series:a,character:a.character})})))):null,u?s.a.createElement("section",null,s.a.createElement("h3",{className:"sub-title mb--1"},"Shows (Production)"),s.a.createElement(lt,null,Object.keys(u).map((function(e,t){var a=u[e];return a.popularity<10?null:s.a.createElement(ct,{key:a.id+"-cast-"+t,series:a,character:a.job})})))):null))}}]),a}(s.a.Component);Xt=Object(v.f)(Xt);var Gt=Object(h.b)((function(e){return{mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(Xt,{mediabutler:e.mediabutler})})),Jt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={id:!1,open:r.props.open,type:""},r}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.props.close()}},{key:"componentDidUpdate",value:function(){if(this.state.id!==this.props.match.params.id){var e;switch(this.props.match.path){case"/movie/:id":e="movie";break;case"/series/:id":e="series";break;default:e="unknown"}this.props.close(),this.setState({id:this.props.match.params.id,type:e})}this.props.open!==this.state.open&&this.setState({open:this.props.open})}},{key:"render",value:function(){return s.a.createElement("div",{className:"issue-sidebar ".concat(this.state.open?"open":"")},s.a.createElement("button",{className:"issue-sidebar--close",onClick:this.props.close}),s.a.createElement("p",{className:"main-title mb--2"},"Report an issue"),s.a.createElement("section",null,s.a.createElement("p",null,"We try our best to provide good quality content without any problems, but sometimes things go wrong. Please use this form to let us know of any issues you've had whilst watching Plex and we will do our best to fix them!")),s.a.createElement("section",null,s.a.createElement("p",{className:"sub-title mb--1"},"Details"),s.a.createElement("input",{type:"hidden",name:"id",defaultValue:this.state.id}),s.a.createElement("input",{type:"text",name:"type",defaultValue:this.state.type}),s.a.createElement("input",{type:"text",name:"title",value:this.state.id}),s.a.createElement("select",null,s.a.createElement("option",{value:""},"Choose an option"),s.a.createElement("option",{value:"1"},"Issue type 1"),s.a.createElement("option",{value:"2"},"Issue type 1")),s.a.createElement("textarea",{defaultValue:"Notes"})),s.a.createElement("button",{className:"btn btn__square"},"Submit"))}}]),a}(s.a.Component),Zt=Object(v.f)(Jt),Qt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={mb_login:!1,activeServerCheck:!1,issuesOpen:!1},r.loginOauth=r.loginOauth.bind(Object(u.a)(r)),r.loginMb=r.loginMb.bind(Object(u.a)(r)),r.loginLocal=r.loginLocal.bind(Object(u.a)(r)),r.openIssues=r.openIssues.bind(Object(u.a)(r)),r.closeIssues=r.closeIssues.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"loginOauth",value:function(e){e.preventDefault();var t=function(e,t,a,r){var n=void 0!=window.screenLeft?window.screenLeft:window.screenX,s=void 0!=window.screenTop?window.screenTop:window.screenY,c=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-a/2+n,l=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+s,i=window.open(e,t,"scrollbars=yes, width="+a+", height="+r+", top="+l+", left="+c);return console.log("scrollbars=yes, width="+a+", height="+r+", top="+l+", left="+c),window.focus&&i.focus(),i}("","Login with Plex",500,500);I.plexAuth(t)}},{key:"loginMb",value:function(){this.props.plex.token&&(console.log("ran"),this.setState({mb_login:!0}),fe.login(this.props.plex.token))}},{key:"componentDidUpdate",value:function(){this.props.mediabutler.logged_in||!this.props.plex.token||this.state.mb_login||this.loginMb(),this.props.mediabutler.servers&&this.props.mediabutler.config&&!this.state.activeServerCheck&&(this.setState({activeServerCheck:!0}),fe.activeServer(this.props.mediabutler.servers,this.props.mediabutler.config))}},{key:"loginLocal",value:function(){localStorage.getItem("petio_user")&&fe.parseLocal(localStorage.getItem("petio_user"))}},{key:"openIssues",value:function(){this.setState({openIssues:!0})}},{key:"closeIssues",value:function(){this.setState({openIssues:!1})}},{key:"componentDidMount",value:function(){fe.getConfig(),this.loginLocal(),this.state.openIssues&&this.setState({openIssues:!1})}},{key:"render",value:function(){this.props.mediabutler.current_user;return this.props.mediabutler.logged_in?s.a.createElement("div",{className:"page"},s.a.createElement(d.a,null,s.a.createElement("div",{className:"sidebar"},s.a.createElement(Xe,null)),s.a.createElement(v.c,null,s.a.createElement(v.a,{exact:!0,path:"/"},s.a.createElement("div",{className:"page-wrap"},s.a.createElement(mt,null))),s.a.createElement(v.a,{exact:!0,path:"/movie/:id"},s.a.createElement(Zt,{open:this.state.openIssues,close:this.closeIssues}),s.a.createElement("div",{className:"page-wrap"},s.a.createElement(Yt,{openIssues:this.openIssues}))),s.a.createElement(v.a,{exact:!0,path:"/series/:id"},s.a.createElement(Zt,{open:this.state.openIssues,close:this.closeIssues}),s.a.createElement("div",{className:"page-wrap"},s.a.createElement(Ut,{openIssues:this.openIssues}))),s.a.createElement(v.a,{exact:!0,path:"/series/:id/season/:season"},s.a.createElement(Zt,{open:this.state.openIssues,close:this.closeIssues}),s.a.createElement(Ft,{openIssues:this.openIssues})),s.a.createElement(v.a,{path:"/person/:id"},s.a.createElement(Gt,null)))),this.props.mediabutler.config?null:s.a.createElement(tt,null)):s.a.createElement("div",{className:"login-wrap"},s.a.createElement("div",{className:"login--inner"},s.a.createElement("h1",{className:"logo"},"Pet",s.a.createElement("span",null,"io")),s.a.createElement("p",{className:"main-title"},"Login"),s.a.createElement("p",null,"Log in securely with your Plex username and password"),s.a.createElement("button",{onClick:this.loginOauth,className:"btn"},"Login with Plex")),s.a.createElement("p",{className:"powered-by"},"Powered by"," ",s.a.createElement("a",{href:"https://github.com/MediaButler/Server"},"Mediabutler")))}}]),a}(s.a.Component);var $t=Object(h.b)((function(e){return{plex:e.plex,mediabutler:e.mediabutler}}))((function(e){return s.a.createElement(Qt,{plex:e.plex,mediabutler:e.mediabutler})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(72);var ea=function(){var e;r=Object(g.createStore)(w,Object(N.composeWithDevTools)(),e,Object(g.applyMiddleware)(j.a)),l.a.render(s.a.createElement(h.a,{store:r},s.a.createElement($t,null)),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",ea,!1):ea(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.487fc5b4.chunk.js.map