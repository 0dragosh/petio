{"version":3,"sources":["data/store.js","data/reducers.js","data/Plex/reducer.js","data/actionTypes.js","data/Mediabutler/reducer.js","data/User/reducer.js","data/auth/index.js","data/User/api.js","data/User/actions.js","data/User/index.js","data/Mediabutler/api.js","data/Mediabutler/actions.js","data/Mediabutler/index.js","assets/svg/search.svg","assets/svg/movie.svg","assets/svg/tv.svg","assets/svg/people.svg","assets/svg/bookmark.svg","assets/svg/settings.svg","components/Sidebar.js","assets/svg/server.svg","components/ConfigSetup.js","components/MovieCard.js","components/TvCard.js","components/Carousel.js","components/PersonCard.js","components/CarouselLoading.js","components/CarouselLoadingPerson.js","pages/Search.js","assets/svg/request.svg","assets/svg/report.svg","assets/svg/play.svg","assets/svg/check.svg","assets/svg/star.svg","assets/svg/video.svg","assets/svg/person-circle.svg","components/Review.js","components/ReviewsLists.js","components/MovieShowLoading.js","pages/Series.js","pages/Season.js","assets/svg/720p.svg","assets/svg/1080p.svg","assets/svg/4k.svg","pages/Movie.js","assets/svg/spinner.svg","pages/Actor.js","components/Issues.js","components/History.js","pages/Profile.js","components/Popular.js","pages/Movies.js","components/RequestCard.js","pages/Requests.js","pages/Shows.js","App.js","serviceWorker.js","index.js"],"names":["store","rootReducer","combineReducers","plex","state","token","action","type","mediabutler","user_roles","permissions","rules","seen_clients","blocked_clients","_id","username","owner","__v","logged_in","servers","config","activeServer","popular","movie_lookup","series_lookup","season_lookup","person_lookup","search_results","movies","series","people","actor_movie","actor_series","current_user","email","thumb","user","server","updated","creditCache","movie","credits","Object","keys","forEach","key","skey","id","actor_cache","person","creditCacheS","season","data","cast","crew","current","credentials","library_index","requests","libraries","plexToken","reviews","initAuth","fetch","then","res","json","conf","finalise","api","PlexRequestApi","PlexRequestApiPort","catch","getAuth","getState","dispatch","login","password","admin","console","log","request","headers","process","authToken","url","method","body","args","JSON","stringify","pass","cookie","Promise","resolve","reject","ls_raw","localStorage","getItem","parsed","window","atob","ls_user","btoa","title","setItem","loggedIn","alert","error","err","logout","req","getRequests","review","item","getReviews","a","history","user_id","minified","search","encodeURI","actor","isMinified","tv","shows","info","length","term","searchResults","getPopular","clearSearch","top","sorted","values","sort","b","globalViewCount","reverse","get_plex_media","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref","svgRef","props","viewBox","strokeMiterlimit","strokeLinejoin","className","ref","ForwardRef","forwardRef","fill","focusable","role","Sidebar","location","pathname","to","startsWith","style","backgroundImage","color","is_admin","React","Component","withRouter","connect","ConfigSetup","display","selectedServer","configReady","selectServer","bind","saveConfig","setTimeout","setState","e","currentTarget","dataset","Mediabutler","configNext","serverSelect","map","machineId","data-id","onClick","name","MovieCard","onServer","imdbId","tmdbId","getMovie","data-key","img","poster_path","alt","src","on_server","character","release_date","Date","getFullYear","TvCard","getSeries","first_air_date","Carousel","children","PersonCard","known_for","profile_path","CarouselLoading","CarouselLoadingPerson","Search","searchTerm","searchActive","isLoading","handleChange","value","document","querySelectorAll","scrollTop","scrollTo","trending","placeholder","onChange","Review","rating","setRating","saveReview","score","comment","User","closeReview","stars","push","data-rating","active","ReviewsList","dateFormat","date","MovieShowLoading","Series","match","params","requested","related","trailer","reviewOpen","init","showTrailer","openReview","requestUsers","users","tmdb_id","tvdb_id","imdb_id","n","hours","rhours","Math","floor","minutes","rminutes","round","hrs","obj","len","found","findNested","seriesData","relatedItems","recommendations","requestBtn","watchBtn","reportBtn","openIssues","reviewBtn","hasReviewed","seasons","criticRating","vote_average","video","videos","results","site","userRating","userRatingVal","ratingsUser","r","toFixed","frameBorder","height","width","backdrop_path","logo","original_name","last_air_date","networks","genres","genre","created_by","overview","season_number","air_date","Season","show","daysTillAir","airDate","secondDate","firstDate","days","abs","setHours","seasonData","now","class","episodes","episode","parse","still_path","episode_number","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","x","y","enableBackground","xmlSpace","points","Movie","movieData","director","screenplay","effect","available_resolutions","includes","timeConvert","runtime","cx","cy","stroke","strokeWidth","strokeLinecap","attributeName","repeatCount","dur","keyTimes","margin","preserveAspectRatio","Actor","getActor","handleScroll","banner","poster","offset","offsetHeight","posterOffset","backgroundPosition","transform","personData","bWidth","movieCredits","movieActing","movieProduction","tvCredits","tvActing","tvProduction","images","profiles","image","onScroll","file_path","place_of_birth","known_for_department","biography","split","str","result","popularity","job","Issues","open","close","path","defaultValue","readOnly","History","historyData","text","getHistory","t","Profile","open4kmodal","open4k","close4k","href","uhd","Popular","topData","getTop","Movies","RequestCard","tmdb","Requests","loaded","pending","yourRequests","Shows","App","mb_login","activeServerCheck","issuesOpen","adminLogin","isLoggedIn","isAdmin","loading","closeIssues","adminToggle","loginForm","inputChange","preventDefault","removeItem","loginLocal","exact","onSubmit","autoComplete","Boolean","hostname","startApp","initialState","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById","cordova","addEventListener","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.1c06b433.chunk.js","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\nimport rootReducer from './reducers';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nvar store;\n\nfunction initStore(initialState) {\n\tstore = createStore(\n\t\trootReducer,\n\t\tcomposeWithDevTools(),\n\t\tinitialState,\n\t\tapplyMiddleware(thunk)\n\t);\n}\n\nexport { store, initStore };\n","import { combineReducers } from 'redux';\nimport mediabutler from './Mediabutler/reducer';\nimport plex from './Plex/reducer';\nimport user from './User/reducer';\n\nconst rootReducer = combineReducers({\n\tplex,\n\tmediabutler,\n\tuser,\n});\n\nexport default rootReducer;\n","import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\ttoken: false,\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.PLEX_TOKEN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: action.token,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","// Plex\nexport const PLEX_TOKEN = 'PLEX_TOKEN';\n\n// MB\nexport const MB_LOGIN = 'MB_LOGIN';\nexport const MB_USER_ROLES = 'MB_USER_ROLES';\nexport const MB_CONFIG_SETUP_START = 'MB_CONFIG_SETUP_START';\nexport const MB_CONFIG_SETUP_END = 'MB_CONFIG_SETUP_END';\nexport const MB_CONFIG_LOADED = 'MB_CONFIG_LOADED';\nexport const MB_ACTIVE_SERVER = 'MB_ACTIVE_SERVER';\n\n// Metadata\nexport const POPULAR = 'POPULAR';\nexport const SEARCH = 'SEARCH';\nexport const MOVIE_LOOKUP = 'MOVIE_LOOKUP';\nexport const SERIES_LOOKUP = 'SERIES_LOOKUP';\nexport const PERSON_LOOKUP = 'PERSON_LOOKUP';\nexport const SEASON_LOOKUP = 'SEASON_LOOKUP';\nexport const STORE_ACTOR_MOVIE = 'STORE_ACTOR_MOVIE';\nexport const STORE_ACTOR_SERIES = 'STORE_ACTOR_SERIES';\n\nexport const LIBRARIES_INDEX = 'LIBRARIES_INDEX';\nexport const LIBRARY_ALLOWED = 'LIBRARY_ALLOWED';\n\n// Request\nexport const GET_REQUESTS = 'GET_REQUESTS';\n\n// Reviews\nexport const GET_REVIEWS = 'GET_REVIEWS';\n\n// User\nexport const LOGIN_ADMIN = 'LOGIN_ADMIN';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const CREDENTIALS = 'CREDENTIALS';\nexport const CREDENTIALS_EMAIL = 'CREDENTIALS_EMAIL';\n","import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\tuser_roles: {\n\t\t\tpermissions: [],\n\t\t\trules: [],\n\t\t\tseen_clients: [],\n\t\t\tblocked_clients: [],\n\t\t\t_id: false,\n\t\t\tusername: false,\n\t\t\towner: false,\n\t\t\t__v: 0,\n\t\t},\n\t\tlogged_in: false,\n\t\tservers: false,\n\t\tconfig: 'pending',\n\t\tactiveServer: false,\n\t\tpopular: {},\n\t\tmovie_lookup: {},\n\t\tseries_lookup: {},\n\t\tseason_lookup: {},\n\t\tperson_lookup: {},\n\t\tsearch_results: {\n\t\t\tmovies: [],\n\t\t\tseries: [],\n\t\t\tpeople: [],\n\t\t},\n\t\tactor_movie: {},\n\t\tactor_series: {},\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.MB_LOGIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent_user: {\n\t\t\t\t\tusername: action.username,\n\t\t\t\t\temail: action.email,\n\t\t\t\t\tthumb: action.thumb,\n\t\t\t\t},\n\t\t\t\tservers: action.servers,\n\t\t\t\tlogged_in: true,\n\t\t\t};\n\n\t\tcase types.MB_USER_ROLES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser_roles: action.user,\n\t\t\t};\n\n\t\tcase types.MB_CONFIG_SETUP_START:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: false,\n\t\t\t};\n\n\t\tcase types.MB_CONFIG_LOADED:\n\t\tcase types.MB_CONFIG_SETUP_END:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: action.config,\n\t\t\t};\n\n\t\tcase types.MB_ACTIVE_SERVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveServer: action.server,\n\t\t\t};\n\n\t\tcase types.POPULAR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpopular: action.popular,\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SEARCH:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch_results: {\n\t\t\t\t\tmovies: action.movies,\n\t\t\t\t\tseries: action.series,\n\t\t\t\t\tpeople: action.people,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase types.MOVIE_LOOKUP:\n\t\t\tlet creditCache = {};\n\t\t\tif (action.movie) {\n\t\t\t\tif (action.movie.credits) {\n\t\t\t\t\tObject.keys(action.movie.credits).forEach((key) => {\n\t\t\t\t\t\tObject.keys(action.movie.credits[key]).forEach(\n\t\t\t\t\t\t\t(skey) => {\n\t\t\t\t\t\t\t\tcreditCache[\n\t\t\t\t\t\t\t\t\taction.movie.credits[key][skey].id\n\t\t\t\t\t\t\t\t] = action.movie.credits[key][skey];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovie_lookup: {\n\t\t\t\t\t...state.movie_lookup,\n\t\t\t\t\t[action.id]: action.movie,\n\t\t\t\t},\n\t\t\t\tactor_cache: {\n\t\t\t\t\tcreditCache,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.PERSON_LOOKUP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tperson_lookup: {\n\t\t\t\t\t...state.movie_lookup,\n\t\t\t\t\t[action.id]: action.person,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SERIES_LOOKUP:\n\t\t\tlet creditCacheS = {};\n\t\t\tif (action.series)\n\t\t\t\tif (action.series.credits) {\n\t\t\t\t\tObject.keys(action.series.credits).forEach((key) => {\n\t\t\t\t\t\tObject.keys(action.series.credits[key]).forEach(\n\t\t\t\t\t\t\t(skey) => {\n\t\t\t\t\t\t\t\tcreditCacheS[\n\t\t\t\t\t\t\t\t\taction.series.credits[key][skey].id\n\t\t\t\t\t\t\t\t] = action.series.credits[key][skey];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseries_lookup: {\n\t\t\t\t\t...state.series_lookup,\n\t\t\t\t\t[action.id]: action.series,\n\t\t\t\t},\n\t\t\t\tactor_cache: {\n\t\t\t\t\tcreditCacheS,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SEASON_LOOKUP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseason_lookup: {\n\t\t\t\t\t...state.season_lookup,\n\t\t\t\t\t[`${action.series}_s${action.season}`]: action.data,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase types.STORE_ACTOR_MOVIE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactor_movie: {\n\t\t\t\t\t...state.actor_movie,\n\t\t\t\t\t[action.id]: {\n\t\t\t\t\t\tcast: action.cast,\n\t\t\t\t\t\tcrew: action.crew,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.STORE_ACTOR_SERIES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactor_series: {\n\t\t\t\t\t...state.actor_series,\n\t\t\t\t\t[action.id]: {\n\t\t\t\t\t\tcast: action.cast,\n\t\t\t\t\t\tcrew: action.crew,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\tcurrent: false,\n\t\tlogged_in: false,\n\t\tcredentials: false,\n\t\tlibrary_index: false,\n\t\trequests: false,\n\t\temail: false,\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.LOGIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent: action.data.user,\n\t\t\t\tlogged_in: true,\n\t\t\t};\n\n\t\tcase types.LOGOUT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent: false,\n\t\t\t\tlogged_in: false,\n\t\t\t\tcredentials: false,\n\t\t\t};\n\n\t\tcase types.CREDENTIALS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcredentials: action.credentials,\n\t\t\t};\n\n\t\tcase types.CREDENTIALS_EMAIL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\temail: action.credentials,\n\t\t\t};\n\n\t\tcase types.LIBRARIES_INDEX:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlibrary_index: action.libraries,\n\t\t\t};\n\n\t\tcase types.LOGIN_ADMIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlogged_in: true,\n\t\t\t\tcredentials: {\n\t\t\t\t\tplexToken: action.credentials.token,\n\t\t\t\t},\n\t\t\t\tcurrent: action.credentials.username,\n\t\t\t};\n\n\t\tcase types.GET_REQUESTS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trequests: action.requests,\n\t\t\t};\n\n\t\tcase types.GET_REVIEWS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treviews: {\n\t\t\t\t\t...state.reviews,\n\t\t\t\t\t[action.id]: action.reviews,\n\t\t\t\t},\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { store } from '../store';\nimport * as types from '../actionTypes';\n\nconst PlexRequestApi = 'http://localhost';\nconst PlexRequestApiPort = '32600';\n\nexport function initAuth() {\n\tfetch('./config.json')\n\t\t.then((res) => res.json())\n\t\t.then((conf) => {\n\t\t\tfinalise({\n\t\t\t\ttype: types.CREDENTIALS,\n\t\t\t\tcredentials: {\n\t\t\t\t\tapi: conf.PlexRequestApi + ':' + conf.PlexRequestApiPort,\n\t\t\t\t},\n\t\t\t});\n\t\t})\n\t\t.catch(() => {\n\t\t\tfinalise({\n\t\t\t\ttype: types.CREDENTIALS,\n\t\t\t\tcredentials: {\n\t\t\t\t\tapi: PlexRequestApi + ':' + PlexRequestApiPort,\n\t\t\t\t},\n\t\t\t});\n\t\t});\n}\n\nexport function getAuth() {\n\treturn store.getState().user.credentials;\n}\n\nfunction finalise(data = false) {\n\tif (!data) return false;\n\treturn store.dispatch(data);\n}\n","import { getAuth } from '../auth';\n\nexport function login(username, password, admin = false, token = false) {\n\tconsole.log(getAuth().api);\n\tlet request = `${getAuth().api}/login`;\n\tlet headers = {\n\t\t'Content-Type': 'application/json',\n\t};\n\treturn process(request, 'post', headers, {\n\t\tusername: username,\n\t\tpassword: password,\n\t\tadmin: admin,\n\t\tauthToken: token,\n\t}).then((res) => res.json());\n}\n\nexport let request = (req, user) => {\n\tlet request = `${getAuth().api}/request/add`;\n\tlet headers = {\n\t\t'Content-Type': 'application/json',\n\t};\n\treturn process(request, 'post', headers, {\n\t\trequest: req,\n\t\tuser: user,\n\t}).then((res) => res.json());\n};\n\nexport let review = (item, id, review) => {\n\tlet request = `${getAuth().api}/review/add`;\n\tlet headers = {\n\t\t'Content-Type': 'application/json',\n\t};\n\tlet itemMin = {\n\t\ttitle: item.title,\n\t\tthumb: item.thumb,\n\t\tid: item.id,\n\t};\n\treturn process(request, 'post', headers, {\n\t\titem: itemMin,\n\t\tuser: id,\n\t\treview: review,\n\t}).then((res) => res.json());\n};\n\nexport let getRequests = () => {\n\tlet request = `${getAuth().api}/request/all`;\n\tlet headers = {\n\t\t'Content-Type': 'application/json',\n\t};\n\treturn process(request, 'get', headers).then((res) => res.json());\n};\n\nexport let getReviews = (id) => {\n\tif (!id) return;\n\tlet request = `${getAuth().api}/review/all/${id}`;\n\tlet headers = {\n\t\t'Content-Type': 'application/json',\n\t};\n\treturn process(request, 'get', headers).then((res) => res.json());\n};\n\nfunction process(url, method, headers, body = null) {\n\tlet args = {\n\t\theaders: headers,\n\t\tmethod: method,\n\t};\n\n\tif (method === 'post') {\n\t\targs.body = JSON.stringify(body);\n\t}\n\n\treturn fetch(url, args);\n}\n","import { store } from '../store';\nimport * as types from '../actionTypes';\nimport * as api from './api';\nimport { initAuth } from '../auth';\n\nexport function login(user, pass = false, cookie = false, admin) {\n\treturn new Promise((resolve, reject) => {\n\t\tlet username = user,\n\t\t\tpassword = pass;\n\t\tlet authToken = false;\n\t\tif (cookie) {\n\t\t\tlet ls_raw = localStorage.getItem('loggedin');\n\t\t\tlet parsed = window.atob(ls_raw);\n\t\t\tif (admin) {\n\t\t\t\tauthToken = parsed;\n\t\t\t} else {\n\t\t\t\tusername = parsed;\n\t\t\t}\n\t\t}\n\n\t\tapi.login(username, password, admin, authToken)\n\t\t\t.then((data) => {\n\t\t\t\tif (data.user) {\n\t\t\t\t\tlet ls_user = window.btoa(data.user.title);\n\t\t\t\t\tif (data.admin) {\n\t\t\t\t\t\tdata.user.admin = true;\n\t\t\t\t\t\tls_user = window.btoa(data.user.authToken);\n\t\t\t\t\t\tlocalStorage.setItem('adminloggedin', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocalStorage.setItem('adminloggedin', false);\n\t\t\t\t\t}\n\t\t\t\t\tif (data.loggedIn || data.admin) {\n\t\t\t\t\t\tif (!cookie) {\n\t\t\t\t\t\t\tlocalStorage.setItem('loggedin', ls_user);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfinalise({\n\t\t\t\t\t\t\ttype: types.LOGIN,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('Invalid Login');\n\t\t\t\t\t\tresolve({ error: 'User not found' });\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresolve({ error: 'User not found' });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\talert(err);\n\t\t\t\treject('Error');\n\t\t\t});\n\t});\n}\n\nexport function logout() {\n\tfinalise({\n\t\ttype: types.LOGOUT,\n\t});\n\tinitAuth();\n}\n\nexport function request(req, user) {\n\treturn new Promise((resolve, reject) => {\n\t\tapi.request(req, user).then((data) => {\n\t\t\tif (data && !data.error) {\n\t\t\t\tresolve(\n\t\t\t\t\tfinalise({\n\t\t\t\t\t\ttype: types.GET_REQUESTS,\n\t\t\t\t\t\trequests: data,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treject('Error');\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport function getRequests() {\n\treturn new Promise((resolve, reject) => {\n\t\tapi.getRequests().then((data) => {\n\t\t\tif (data && !data.error) {\n\t\t\t\tresolve(\n\t\t\t\t\tfinalise({\n\t\t\t\t\t\ttype: types.GET_REQUESTS,\n\t\t\t\t\t\trequests: data,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treject('Error');\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport function getReviews(id) {\n\treturn new Promise((resolve, reject) => {\n\t\tapi.getReviews(id).then((data) => {\n\t\t\tif (data && !data.error) {\n\t\t\t\tresolve(\n\t\t\t\t\tfinalise({\n\t\t\t\t\t\ttype: types.GET_REVIEWS,\n\t\t\t\t\t\treviews: data,\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treject('Error');\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction finalise(data = false) {\n\tif (!data) return false;\n\treturn store.dispatch(data);\n}\n\nexport function review(item, id, review) {\n\tapi.review(item, id, review);\n}\n","import {\n\tlogin,\n\t// loginAdmin,\n\tlogout,\n\trequest,\n\tgetRequests,\n\treview,\n\tgetReviews,\n} from './actions';\n\nexport default {\n\tlogin,\n\t// loginAdmin,\n\tlogout,\n\trequest,\n\tgetRequests,\n\treview,\n\tgetReviews,\n};\n","import { getAuth } from '../auth';\n\nexport async function popular() {\n\tlet request = `${getAuth().api}/trending`;\n\treturn process(request).then((res) => res.json());\n}\n\nexport function top(type) {\n\tlet request = `${getAuth().api}/top/shows`;\n\tif (type === 'movie') {\n\t\trequest = `${getAuth().api}/top/movies`;\n\t}\n\treturn process(request).then((res) => res.json());\n}\n\nexport function history(user_id, type) {\n\tlet body = {\n\t\tid: user_id,\n\t\ttype: type,\n\t};\n\tlet headers = { 'Content-Type': 'application/json' };\n\tlet request = `${getAuth().api}/history`;\n\treturn process(request, headers, 'post', body).then((res) => res.json());\n}\n\nexport function get_plex_media(id, type) {\n\tlet request = `${getAuth().api}/plex/lookup/${type}/${id}`;\n\treturn process(request).then((res) => res.json());\n}\n\nexport function movie(id = false, minified) {\n\tif (!id) {\n\t\treturn false;\n\t}\n\tlet request = `${getAuth().api}/movie/lookup/${id}`;\n\tif (minified) {\n\t\trequest = `${getAuth().api}/movie/lookup/${id}/minified`;\n\t}\n\treturn process(request).then((res) => res.json());\n}\n\nexport function series(id = false, minified) {\n\tif (!id) {\n\t\treturn false;\n\t}\n\tlet request = `${getAuth().api}/show/lookup/${id}`;\n\tif (minified) {\n\t\trequest = `${getAuth().api}/show/lookup/${id}/minified`;\n\t}\n\treturn process(request).then((res) => res.json());\n}\n\nexport function person(id = false) {\n\tif (!id) {\n\t\treturn false;\n\t}\n\tlet request = `${getAuth().api}/person/lookup/${id}`;\n\treturn process(request).then((res) => res.json());\n}\n\nexport async function search(title = false) {\n\tlet request = `${getAuth().api}/search/${encodeURI(title)}`;\n\treturn process(request).then((res) => res.json());\n}\n\nexport function actor(id = false) {\n\tif (!id) {\n\t\treturn false;\n\t}\n\tlet request = `${getAuth().api}/person/lookup/${id}`;\n\treturn process(request).then((res) => res.json());\n}\n\nfunction process(url, headers, method, body = null) {\n\tlet args = {\n\t\tmethod: method,\n\t\theaders: headers,\n\t};\n\n\tif (method === 'post') {\n\t\targs.body = JSON.stringify(body);\n\t}\n\n\treturn fetch(url, args);\n}\n","import { store } from '../store';\nimport * as types from '../actionTypes';\nimport * as api from './api';\n\nfunction download(filename, text) {\n\tvar element = document.createElement('a');\n\telement.setAttribute(\n\t\t'href',\n\t\t'data:text/plain;charset=utf-8,' + encodeURIComponent(text)\n\t);\n\telement.setAttribute('download', filename);\n\n\telement.style.display = 'none';\n\tdocument.body.appendChild(element);\n\n\telement.click();\n\n\tdocument.body.removeChild(element);\n}\n\nfunction finalise(data = false) {\n\tif (!data) return false;\n\treturn store.dispatch(data);\n}\n\nexport async function getPopular() {\n\tlet popular = await api.popular();\n\n\tif (popular) {\n\t\tpopular.movies.forEach((movie) => {\n\t\t\tmovie.isMinified = true;\n\t\t\tfinalise({\n\t\t\t\ttype: types.MOVIE_LOOKUP,\n\t\t\t\tmovie: movie,\n\t\t\t\tid: movie.id,\n\t\t\t});\n\t\t});\n\n\t\tpopular.tv.forEach((series) => {\n\t\t\tseries.isMinified = true;\n\t\t\tfinalise({\n\t\t\t\ttype: types.SERIES_LOOKUP,\n\t\t\t\tseries: series,\n\t\t\t\tid: series.id,\n\t\t\t});\n\t\t});\n\n\t\tfinalise({\n\t\t\ttype: types.POPULAR,\n\t\t\tpopular: {\n\t\t\t\tmovies: popular.movies,\n\t\t\t\ttv: popular.tv,\n\t\t\t\tpeople: popular.people,\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport async function movie(id, minified = false) {\n\tlet movie = await api.movie(id, minified);\n\n\tmovie.isMinified = minified;\n\n\tfinalise({\n\t\ttype: types.MOVIE_LOOKUP,\n\t\tmovie: movie,\n\t\tid: id,\n\t});\n}\n\nexport async function series(id, minified = false) {\n\tlet series = await api.series(id, minified);\n\n\tif (!series.id) {\n\t\treturn false;\n\t}\n\n\tseries.isMinified = minified;\n\n\tfinalise({\n\t\ttype: types.SERIES_LOOKUP,\n\t\tseries: series,\n\t\tid: id,\n\t});\n}\n\nexport async function person(id) {\n\tlet data = await api.actor(id);\n\n\tlet movies = data.movies;\n\tlet shows = data.tv;\n\tlet info = data.info;\n\n\tfinalise({\n\t\ttype: types.PERSON_LOOKUP,\n\t\tperson: info,\n\t\tid: id,\n\t});\n\n\tif (movies.length === 0) {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_MOVIE,\n\t\t\tcast: {},\n\t\t\tcrew: {},\n\t\t\tid: id,\n\t\t});\n\t} else {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_MOVIE,\n\t\t\tcast: movies.cast,\n\t\t\tcrew: movies.crew,\n\t\t\tid: id,\n\t\t});\n\t}\n\tif (shows.length === 0) {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_SERIES,\n\t\t\tcast: {},\n\t\t\tcrew: {},\n\t\t\tid: id,\n\t\t});\n\t} else {\n\t\tfinalise({\n\t\t\ttype: types.STORE_ACTOR_SERIES,\n\t\t\tcast: shows.cast,\n\t\t\tcrew: shows.crew,\n\t\t\tid: id,\n\t\t});\n\t}\n}\n\nexport async function search(term) {\n\tlet searchResults = await api.search(term);\n\n\treturn new Promise((resolve, reject) => {\n\t\tif (!searchResults) {\n\t\t\treject();\n\t\t}\n\t\tsearchResults.movies.forEach((movie) => {\n\t\t\tmovie.isMinified = true;\n\t\t\tfinalise({\n\t\t\t\ttype: types.MOVIE_LOOKUP,\n\t\t\t\tmovie: movie,\n\t\t\t\tid: movie.id,\n\t\t\t});\n\t\t});\n\n\t\tsearchResults.shows.forEach((series) => {\n\t\t\t// console.log(series);\n\t\t\tseries.isMinified = true;\n\t\t\tfinalise({\n\t\t\t\ttype: types.SERIES_LOOKUP,\n\t\t\t\tseries: series,\n\t\t\t\tid: series.id,\n\t\t\t});\n\t\t});\n\n\t\tfinalise({\n\t\t\ttype: types.SEARCH,\n\t\t\tmovies: searchResults.movies,\n\t\t\tseries: searchResults.shows,\n\t\t\tpeople: searchResults.people,\n\t\t});\n\n\t\tresolve();\n\t});\n}\n\nexport function clearSearch() {\n\tfinalise({\n\t\ttype: types.SEARCH,\n\t\tmovies: [],\n\t\tseries: [],\n\t\tpeople: [],\n\t});\n}\n\nexport let top = (type) => {\n\treturn new Promise((resolve, reject) => {\n\t\tapi.top(type)\n\t\t\t.then((data) => {\n\t\t\t\tconst sorted = Object.values(data)\n\t\t\t\t\t.sort((a, b) => a.globalViewCount - b.globalViewCount)\n\t\t\t\t\t.reverse();\n\n\t\t\t\tresolve(sorted);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\treject('Error getting plex movies');\n\t\t\t});\n\t});\n};\n\nexport async function history(user_id, type) {\n\treturn new Promise((resolve, reject) => {\n\t\tapi.history(user_id, type)\n\t\t\t.then((data) => {\n\t\t\t\tresolve(data);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\treject('Error getting plex movies');\n\t\t\t});\n\t});\n}\n\nexport let get_plex_media = (id, type) => {\n\treturn new Promise((resolve, reject) => {\n\t\tapi.get_plex_media(id, type)\n\t\t\t.then((res) => {\n\t\t\t\tresolve(res);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n};\n\nfunction sortObject(data, attr) {\n\tvar arr = [];\n\tfor (var prop in data) {\n\t\tif (data.hasOwnProperty(prop)) {\n\t\t\tvar obj = {};\n\t\t\tobj[prop] = data[prop];\n\t\t\tobj.tempSortName = data[prop][attr].toLowerCase();\n\t\t\tarr.push(obj);\n\t\t}\n\t}\n\n\tarr.sort(function (a, b) {\n\t\treturn a > b ? 1 : a < b ? -1 : 0;\n\t});\n\n\tvar result = [];\n\tfor (var i = 0, l = arr.length; i < l; i++) {\n\t\tvar obj = arr[i];\n\t\tdelete obj.tempSortName;\n\t\tfor (var prop in obj) {\n\t\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\t\tvar id = prop;\n\t\t\t}\n\t\t}\n\t\tvar item = obj[id];\n\t\tresult.push(item);\n\t}\n\treturn result;\n}\n","import {\n\tgetPopular,\n\tmovie,\n\tseries,\n\tsearch,\n\tclearSearch,\n\tperson,\n\ttop,\n\thistory,\n\tget_plex_media,\n} from './actions';\n\nexport default {\n\tgetPopular,\n\tmovie,\n\tseries,\n\tsearch,\n\tclearSearch,\n\tperson,\n\ttop,\n\thistory,\n\tget_plex_media,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z\"\n});\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 560 560\",\n    strokeMiterlimit: 1.414,\n    strokeLinejoin: \"round\",\n    id: \"plex-icon-search-560\",\n    \"aria-hidden\": \"true\",\n    className: \"PlexIcon-plexIcon-8Tamaj QuickSearchInput-searchIcon-38PAh5\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.f46f03ff.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z\"\n});\n\nvar SvgMovie = function SvgMovie(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 560 560\",\n    id: \"plex-icon-sidebar-movies-560\",\n    \"aria-hidden\": \"true\",\n    className: \"PlexIcon-plexIcon-8Tamaj\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMovie, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/movie.e227f7ae.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z\"\n});\n\nvar SvgTv = function SvgTv(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 560 560\",\n    id: \"plex-icon-sidebar-shows-560\",\n    \"aria-hidden\": \"true\",\n    className: \"PlexIcon-plexIcon-8Tamaj\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTv, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tv.94ef2ee4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z\"\n});\n\nvar SvgPeople = function SvgPeople(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"users\",\n    className: \"svg-inline--fa fa-users fa-w-20\",\n    role: \"img\",\n    viewBox: \"0 0 640 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPeople, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/people.22e09537.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"\n});\n\nvar SvgBookmark = function SvgBookmark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"bookmark\",\n    className: \"svg-inline--fa fa-bookmark fa-w-12\",\n    role: \"img\",\n    viewBox: \"0 0 384 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBookmark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bookmark.a20eda43.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z\"\n});\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"tools\",\n    className: \"svg-inline--fa fa-tools fa-w-16\",\n    role: \"img\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.d6d3c47f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ReactComponent as SearchIcon } from '../assets/svg/search.svg';\nimport { ReactComponent as MovieIcon } from '../assets/svg/movie.svg';\nimport { ReactComponent as TvIcon } from '../assets/svg/tv.svg';\nimport { ReactComponent as PersonIcon } from '../assets/svg/people.svg';\nimport { ReactComponent as RequestIcon } from '../assets/svg/bookmark.svg';\nimport { ReactComponent as SettingsIcon } from '../assets/svg/settings.svg';\nimport User from '../data/User';\n\nclass Sidebar extends React.Component {\n\t// constructor(props) {\n\t// \tsuper(props);\n\n\t// }\n\trender() {\n\t\tlet current = this.props.location.pathname;\n\t\tlet user = this.props.user.current;\n\t\treturn (\n\t\t\t<div className=\"sidebar--inner\">\n\t\t\t\t<Link to=\"/\" className=\"logo\">\n\t\t\t\t\t<p className=\"logo-text\" title=\"Petio\">\n\t\t\t\t\t\tPet<span>io</span>\n\t\t\t\t\t</p>\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"sidebar--scroll\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/user\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item user-profile ' +\n\t\t\t\t\t\t\t(current === '/user' || current.startsWith('/user/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>{user.title}</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"thumb\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: 'url(' + user.thumb + ')',\n\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/' || current.startsWith('/search/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Search</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/movies\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/movies' ||\n\t\t\t\t\t\t\tcurrent.startsWith('/movie/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Movies</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<MovieIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/tv\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/tv' || current.startsWith('/series/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>TV Shows</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<TvIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/people\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/people' ||\n\t\t\t\t\t\t\tcurrent.startsWith('/person/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>People</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/requests\"\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t(current === '/requests' ||\n\t\t\t\t\t\t\tcurrent.startsWith('/requests/')\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>Requests</p>\n\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t<RequestIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t{user.is_admin ? (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"/admin\"\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'sidebar--item ' +\n\t\t\t\t\t\t\t\t(current === '/admin' ||\n\t\t\t\t\t\t\t\tcurrent.startsWith('/admin/')\n\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p>Admin</p>\n\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t<SettingsIcon />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSidebar = withRouter(Sidebar);\n\nfunction SidebarContainer(props) {\n\treturn <Sidebar mediabutler={props.mediabutler} user={props.user} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(SidebarContainer);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z\"\n});\n\nvar SvgServer = function SvgServer(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgServer, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/server.ee2001fb.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ReactComponent as ServerIcon } from '../assets/svg/server.svg';\nimport Mediabutler from '../data/Mediabutler';\n\nclass ConfigSetup extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdisplay: false,\n\t\t\tselectedServer: false,\n\t\t\tconfigReady: false,\n\t\t};\n\n\t\tthis.selectServer = this.selectServer.bind(this);\n\t\tthis.saveConfig = this.saveConfig.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\tdisplay: true,\n\t\t\t});\n\t\t}, 500);\n\t}\n\n\tselectServer(e) {\n\t\tlet server = e.currentTarget.dataset.id;\n\t\tthis.setState({\n\t\t\tselectedServer: server,\n\t\t});\n\t}\n\n\tsaveConfig() {\n\t\tif (!this.state.selectedServer) return;\n\t\tMediabutler.saveConfig(this.state.selectedServer).then(() => {\n\t\t\tthis.setState({\n\t\t\t\tconfigReady: true,\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tlet configNext = (\n\t\t\t<p>\n\t\t\t\tYour config file should have auto downloaded, place this config\n\t\t\t\tfile in the root of your Petio install and then refresh the\n\t\t\t\tpage.\n\t\t\t</p>\n\t\t);\n\t\tlet serverSelect = (\n\t\t\t<>\n\t\t\t\t<p>\n\t\t\t\t\tChoose your server from the options below. This will lock\n\t\t\t\t\tthis install of Petio to a specific server running\n\t\t\t\t\tMediabutler. Servers not running Mediabutler will be greyed\n\t\t\t\t\tout.\n\t\t\t\t</p>\n\t\t\t\t<h3 className=\"sub-title\">Servers</h3>\n\t\t\t\t<div className=\"server-list\">\n\t\t\t\t\t{this.props.mediabutler.servers.map((server) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"server-list--item\"\n\t\t\t\t\t\t\t\tkey={server.machineId}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`server-list--item-inner ${\n\t\t\t\t\t\t\t\t\t\t!server.url ? 'disabled' : ''\n\t\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\t\tthis.state.selectedServer ===\n\t\t\t\t\t\t\t\t\t\tserver.machineId\n\t\t\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tdata-id={server.machineId}\n\t\t\t\t\t\t\t\t\tonClick={this.selectServer}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t\t\t<ServerIcon />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{server.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`config-setup ${this.state.display ? 'loaded' : ''}`}\n\t\t\t>\n\t\t\t\t<div className=\"config-setup--inner\">\n\t\t\t\t\t<h1 className=\"main-title\">Config Setup</h1>\n\t\t\t\t\t{this.state.configReady ? configNext : serverSelect}\n\n\t\t\t\t\t{this.state.selectedServer && !this.state.configReady ? (\n\t\t\t\t\t\t<button className=\"btn\" onClick={this.saveConfig}>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction ConfigSetupContainer(props) {\n\treturn <ConfigSetup mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(ConfigSetupContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass MovieCard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\timdbId: false,\n\t\t\ttmdbId: false,\n\t\t};\n\t\tthis.getMovie = this.getMovie.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getMovie();\n\t}\n\n\tgetMovie() {\n\t\tlet movie = this.props.movie;\n\t\tlet id = movie.id;\n\t\tif (!this.props.mediabutler.movie_lookup[id]) {\n\t\t\t// check for cached\n\n\t\t\tif (!id) return false;\n\t\t\tMediabutler.movie(id, true);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.props.movie.id;\n\t\tlet movie = this.props.mediabutler.movie_lookup[id];\n\t\tif (!id || id === 'false') {\n\t\t\treturn null;\n\t\t}\n\t\tif (!movie) {\n\t\t\treturn (\n\t\t\t\t<div key={id} data-key={id} className={'card type--movie-tv '}>\n\t\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t\t<Link to={`/movie/${id}`} className=\"full-link\"></Link>\n\t\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t\t<div className=\"no-poster\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tlet img = movie.poster_path ? (\n\t\t\t<LazyLoadImage\n\t\t\t\talt={movie.title}\n\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n\t\t\t\t// effect=\"blur\"\n\t\t\t/>\n\t\t) : (\n\t\t\t<div className=\"no-poster\"></div>\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={movie.id}\n\t\t\t\tdata-key={movie.id}\n\t\t\t\tclassName={\n\t\t\t\t\t'card type--movie-tv ' +\n\t\t\t\t\t(movie.on_server ? 'on-server' : '')\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/movie/${movie.id}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\n\t\t\t\t\t<div className=\"image-wrap\">{img}</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\" title={movie.title}>\n\t\t\t\t\t\t\t{movie.title}\n\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t{this.props.character\n\t\t\t\t\t\t\t\t\t? this.props.character\n\t\t\t\t\t\t\t\t\t: movie.release_date\n\t\t\t\t\t\t\t\t\t? '(' +\n\t\t\t\t\t\t\t\t\t  new Date(\n\t\t\t\t\t\t\t\t\t\t\tmovie.release_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear() +\n\t\t\t\t\t\t\t\t\t  ')'\n\t\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nMovieCard = withRouter(MovieCard);\n\nfunction MovieCardContainer(props) {\n\treturn (\n\t\t<MovieCard\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tmovie={props.movie}\n\t\t\tcharacter={props.character}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(MovieCardContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass TvCard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\timdbId: false,\n\t\t\ttmdbId: false,\n\t\t};\n\t\tthis.getMovie = this.getSeries.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getSeries();\n\t}\n\n\tgetSeries() {\n\t\tlet series = this.props.series;\n\t\tlet id = series.id;\n\t\tif (!this.props.mediabutler.series_lookup[id]) {\n\t\t\t// check for cached\n\n\t\t\tif (!id) return false;\n\t\t\tMediabutler.series(id, true);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.props.series.id;\n\t\tif (!id || id === 'false') {\n\t\t\treturn null;\n\t\t}\n\t\tlet series = this.props.mediabutler.series_lookup[id];\n\t\tif (!series) {\n\t\t\treturn (\n\t\t\t\t<div key={id} data-key={id} className={'card type--movie-tv '}>\n\t\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t\t<Link to={`/series/${id}`} className=\"full-link\"></Link>\n\t\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t\t<div className=\"no-poster\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tlet img = series.poster_path ? (\n\t\t\t<LazyLoadImage\n\t\t\t\talt={series.title}\n\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${series.poster_path}`}\n\t\t\t\t// effect=\"blur\"\n\t\t\t/>\n\t\t) : (\n\t\t\t<div className=\"no-poster\"></div>\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={series.id}\n\t\t\t\tdata-key={series.id}\n\t\t\t\tclassName={\n\t\t\t\t\t'card type--movie-tv ' +\n\t\t\t\t\t(series.on_server ? 'on-server' : '')\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/series/${series.id}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\n\t\t\t\t\t<div className=\"image-wrap\">{img}</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t{series.name}\n\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t{this.props.character\n\t\t\t\t\t\t\t\t\t? this.props.character\n\t\t\t\t\t\t\t\t\t: '(' +\n\t\t\t\t\t\t\t\t\t  new Date(\n\t\t\t\t\t\t\t\t\t\t\tseries.first_air_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear() +\n\t\t\t\t\t\t\t\t\t  ')'}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTvCard = withRouter(TvCard);\n\nfunction TvCardContainer(props) {\n\treturn (\n\t\t<TvCard\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tseries={props.series}\n\t\t\tcharacter={props.character}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(TvCardContainer);\n","import React from 'react';\n\nconst widths = {\n\tsmall: 0,\n\tmedium: 0,\n\tlarge: 160,\n};\n\nclass Carousel extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={`carousel`}>\n\t\t\t\t<div className=\"carousel--inner\">{this.props.children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Carousel;\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\n\nclass PersonCard extends React.Component {\n\trender() {\n\t\tlet knownFor = null;\n\t\tlet person = this.props.person;\n\t\tif (!person) {\n\t\t\treturn null;\n\t\t}\n\t\tif (person.known_for) {\n\t\t\tperson.known_for.map((item, key) => {\n\t\t\t\treturn <Link to={`/movie/${item.id}`}>{item.title}</Link>;\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<div key={person.id} className=\"card person-card\">\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/person/${person.id}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t{person.profile_path ? (\n\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\talt={person.name}\n\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${person.profile_path}`}\n\t\t\t\t\t\t\t\t// effect=\"blur\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"no-poster\"></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">{person.name}</p>\n\t\t\t\t\t\t{knownFor ? (\n\t\t\t\t\t\t\t<p className=\"known-for\">{knownFor}</p>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{this.props.character ? (\n\t\t\t\t\t\t\t<p className=\"character\">{this.props.character}</p>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(PersonCard);\n","import React from 'react';\n\nclass CarouselLoading extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"carousel-loading\">\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-1\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-2\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-3\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-4\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-5\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-6\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CarouselLoading;\n","import React from 'react';\n\nclass CarouselLoadingPerson extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"carousel-loading carousel-loading-person\">\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-1\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-2\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-3\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-4\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-5\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"carousel-loading-item carousel-loading-item-6\">\n\t\t\t\t\t<div className=\"carousel-loading-item--inner\"></div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t<span className=\"year\"></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CarouselLoadingPerson;\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport { ReactComponent as SearchIcon } from '../assets/svg/search.svg';\nimport MovieCard from '../components/MovieCard';\nimport TvCard from '../components/TvCard';\nimport Carousel from '../components/Carousel';\nimport PersonCard from '../components/PersonCard';\nimport CarouselLoading from '../components/CarouselLoading';\nimport CarouselLoadingPerson from '../components/CarouselLoadingPerson';\n\nclass Search extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsearchTerm: '',\n\t\t\tsearchActive: false,\n\t\t\tisLoading: false,\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(e) {\n\t\tif (e.currentTarget.value.length > 2) {\n\t\t\tlet term = e.currentTarget.value;\n\t\t\tthis.setState({\n\t\t\t\tisLoading: true,\n\t\t\t});\n\t\t\t// throttle search lookup during constant typing\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (term === this.state.searchTerm) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoading: true,\n\t\t\t\t\t});\n\t\t\t\t\tMediabutler.search(term)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tisLoading: false,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tisLoading: false,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t\tthis.setState({\n\t\t\t\tsearchTerm: e.currentTarget.value,\n\t\t\t\tsearchActive: true,\n\t\t\t});\n\t\t} else {\n\t\t\tMediabutler.clearSearch();\n\t\t\tthis.setState({\n\t\t\t\tsearchTerm: e.currentTarget.value,\n\t\t\t\tsearchActive: false,\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tMediabutler.getPopular();\n\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\trender() {\n\t\tlet searchResults = (\n\t\t\t<>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Movies</h3>\n\t\t\t\t\t{this.props.mediabutler.search_results.movies.length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{this.props.mediabutler.search_results.movies.map(\n\t\t\t\t\t\t\t\t(movie) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\tkey={movie.id}\n\t\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : this.state.isLoading ? (\n\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No results</p>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Shows</h3>\n\t\t\t\t\t{this.props.mediabutler.search_results.series.length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{this.props.mediabutler.search_results.series.map(\n\t\t\t\t\t\t\t\t(series) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\tkey={series.id}\n\t\t\t\t\t\t\t\t\t\t\tseries={series}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : this.state.isLoading ? (\n\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No results</p>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">People</h3>\n\t\t\t\t\t{this.props.mediabutler.search_results.people.length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{this.props.mediabutler.search_results.people.map(\n\t\t\t\t\t\t\t\t(person) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\t\tkey={person.id}\n\t\t\t\t\t\t\t\t\t\t\tperson={person}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : this.state.isLoading ? (\n\t\t\t\t\t\t<CarouselLoadingPerson />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No results</p>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t\tlet trending = (\n\t\t\t<>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending Movies</h3>\n\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular)\n\t\t\t\t\t\t\t\t.length > 0\n\t\t\t\t\t\t\t\t? this.props.mediabutler.popular.movies.map(\n\t\t\t\t\t\t\t\t\t\t(movie) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={movie.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending Shows</h3>\n\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0 ? (\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular)\n\t\t\t\t\t\t\t\t.length > 0\n\t\t\t\t\t\t\t\t? this.props.mediabutler.popular.tv.map(\n\t\t\t\t\t\t\t\t\t\t(series) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={series.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tseries={series}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending People</h3>\n\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0\n\t\t\t\t\t\t\t? this.props.mediabutler.popular.people.map(\n\t\t\t\t\t\t\t\t\t(person) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={person.id}\n\t\t\t\t\t\t\t\t\t\t\t\tperson={person}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t\treturn (\n\t\t\t<div className=\"search-wrap\">\n\t\t\t\t<section>\n\t\t\t\t\t<h1 className=\"main-title mb--1\">Search</h1>\n\t\t\t\t\t<div className=\"search-form\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button className=\"search-btn\">\n\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t{this.state.searchActive ? searchResults : trending}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSearch = withRouter(Search);\n\nfunction SearchContainer(props) {\n\treturn <Search mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(SearchContainer);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z\"\n});\n\nvar SvgRequest = function SvgRequest(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRequest, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/request.aaa018a5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z\"\n});\n\nvar SvgReport = function SvgReport(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgReport, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/report.bed2a709.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z\"\n});\n\nvar SvgPlay = function SvgPlay(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 448 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlay, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play.1cc909e8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\"\n});\n\nvar SvgCheck = function SvgCheck(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCheck, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/check.6dc82634.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\n});\n\nvar SvgStar = function SvgStar(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 576 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStar, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star.0e6d7ada.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z\"\n});\n\nvar SvgVideo = function SvgVideo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 576 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgVideo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/video.10850792.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z\"\n});\n\nvar SvgPersonCircle = function SvgPersonCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 496 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPersonCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/person-circle.6eb38020.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { ReactComponent as StarIcon } from '../assets/svg/star.svg';\nimport User from '../data/User';\n\nclass Review extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid: this.props.id,\n\t\t\tuser: this.props.user,\n\t\t\trating: 0,\n\t\t};\n\n\t\tthis.setRating = this.setRating.bind(this);\n\t\tthis.saveReview = this.saveReview.bind(this);\n\t}\n\n\tsetRating(e) {\n\t\tthis.setState({\n\t\t\trating: e.currentTarget.dataset.rating,\n\t\t});\n\t}\n\n\tsaveReview() {\n\t\tlet review = {\n\t\t\tscore: this.state.rating,\n\t\t\tcomment: '',\n\t\t};\n\t\tUser.review(this.props.item, this.props.user._id, review);\n\t\tsetTimeout(() => {\n\t\t\tthis.props.closeReview();\n\t\t\tthis.props.getReviews();\n\t\t\tthis.setState({\n\t\t\t\trating: 0,\n\t\t\t});\n\t\t}, 1000);\n\t}\n\n\trender() {\n\t\tlet stars = [];\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tstars.push(\n\t\t\t\t<div\n\t\t\t\t\tkey={`star__${i}`}\n\t\t\t\t\tclassName={`stars-1 star ${\n\t\t\t\t\t\tthis.state.rating >= i + 1 ? 'active' : ''\n\t\t\t\t\t}`}\n\t\t\t\t\tdata-rating={i + 1}\n\t\t\t\t\tonClick={this.setRating}\n\t\t\t\t>\n\t\t\t\t\t<StarIcon />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`review--wrap ${this.props.active ? 'active' : ''}`}\n\t\t\t>\n\t\t\t\t<div className=\"review--inner\">\n\t\t\t\t\t<div className=\"review--top\">\n\t\t\t\t\t\t<h3>What did you think?</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"review--main\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tLet other users know what you thought. Please note\n\t\t\t\t\t\t\tthe review is not related to quality or issues, for\n\t\t\t\t\t\t\tissues please report an issue.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"stars-wrap\">{stars}</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"btn btn__square bad close-review\"\n\t\t\t\t\t\t\tonClick={this.props.closeReview}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"btn btn__square save-review\"\n\t\t\t\t\t\t\tonClick={this.saveReview}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Review;\n","import React from 'react';\nimport { ReactComponent as StarIcon } from '../assets/svg/star.svg';\nimport User from '../data/User';\nimport dateFormat from 'dateformat';\nimport { getAuth } from '../data/auth';\n\nclass ReviewsList extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"reviews-list--wrap\">\n\t\t\t\t{this.props.reviews ? (\n\t\t\t\t\tthis.props.reviews.length > 0 ? (\n\t\t\t\t\t\tthis.props.reviews.map((review) => {\n\t\t\t\t\t\t\tlet stars = [];\n\t\t\t\t\t\t\tfor (let i = 0; i < 10; i++) {\n\t\t\t\t\t\t\t\tstars.push(\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`${review._id}__${i}`}\n\t\t\t\t\t\t\t\t\t\tclassName={`stars-1 star ${\n\t\t\t\t\t\t\t\t\t\t\treview.score > i ? 'active' : ''\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet thumb = `${getAuth().api}/user/thumb/${\n\t\t\t\t\t\t\t\treview.user\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"reviews-list--item\"\n\t\t\t\t\t\t\t\t\tkey={review._id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"reviews-list--thumb\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"thumb\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t\t\t\t\t\t'url(' + thumb + ')',\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"reviews-list--content\">\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t{dateFormat(\n\t\t\t\t\t\t\t\t\t\t\t\treview.date,\n\t\t\t\t\t\t\t\t\t\t\t\t'dddd, mmmm dS, yyyy, h:MMtt'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<div className=\"stars-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t{stars}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No reviews</p>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<p>No reviews</p>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ReviewsList;\n","import React from 'react';\nimport CarouselLoading from '../components/CarouselLoading';\nimport CarouselLoadingPerson from '../components/CarouselLoadingPerson';\n\nclass MovieShowLoading extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"movie-wrap\">\n\t\t\t\t<div className=\"movie-top\">\n\t\t\t\t\t<div className=\"movie-backdrop\">\n\t\t\t\t\t\t<div className=\"no-backdrop\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"movie-poster\">\n\t\t\t\t\t\t<div className=\"movie-poster--inner\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"movie-details\">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<div className=\"movie-details--top\">\n\t\t\t\t\t\t\t<div className=\"movie-logo placeholder\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"movie--actions\">\n\t\t\t\t\t\t\t<div className=\"btn btn__square placeholder\"></div>\n\t\t\t\t\t\t\t<div className=\"btn btn__square placeholder\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"movie-content\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"quick-view\">\n\t\t\t\t\t\t\t<div className=\"side-content\">\n\t\t\t\t\t\t\t\t<div className=\"movie-action\">\n\t\t\t\t\t\t\t\t\t<div className=\"btn btn__square placeholder\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"btn btn__square placeholder\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<div className=\"details text-placeholder\"></div>\n\t\t\t\t\t\t\t\t<div className=\"movie-action__mobile\">\n\t\t\t\t\t\t\t\t\t<div className=\"btn btn__square placeholder\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"btn btn__square placeholder\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"movie-crew\">\n\t\t\t\t\t\t\t\t\t<div className=\"movie-crew--item text-placeholder\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"movie-crew--item text-placeholder\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"sub-title mb--1 text-placeholder\"></div>\n\t\t\t\t\t\t\t\t<div className=\"overview text-placeholder\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1 text-placeholder\"></h3>\n\t\t\t\t\t\t<CarouselLoadingPerson />\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1 text-placeholder\"></h3>\n\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MovieShowLoading;\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PersonCard from '../components/PersonCard';\nimport TvCard from '../components/TvCard';\nimport Mediabutler from '../data/Mediabutler';\nimport Carousel from '../components/Carousel';\nimport { ReactComponent as RequestIcon } from '../assets/svg/request.svg';\nimport { ReactComponent as ReportIcon } from '../assets/svg/report.svg';\nimport { ReactComponent as WatchIcon } from '../assets/svg/play.svg';\nimport { ReactComponent as CheckIcon } from '../assets/svg/check.svg';\nimport { ReactComponent as StarIcon } from '../assets/svg/star.svg';\nimport { ReactComponent as TrailerIcon } from '../assets/svg/video.svg';\nimport { ReactComponent as PersonCircleIcon } from '../assets/svg/person-circle.svg';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport User from '../data/User';\nimport Review from '../components/Review';\nimport ReviewsList from '../components/ReviewsLists';\nimport MovieShowLoading from '../components/MovieShowLoading';\n\nclass Series extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\tid: this.props.match.params.id,\n\t\t\trequested: false,\n\t\t\trelated: false,\n\t\t\ttrailer: false,\n\t\t\treviewOpen: false,\n\t\t};\n\n\t\tthis.getSeries = this.getSeries.bind(this);\n\t\tthis.request = this.request.bind(this);\n\t\tthis.getRequests = this.getRequests.bind(this);\n\t\t// this.getRelated = this.getRelated.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t\tthis.showTrailer = this.showTrailer.bind(this);\n\t\tthis.openReview = this.openReview.bind(this);\n\t\tthis.closeReview = this.closeReview.bind(this);\n\t\tthis.getReviews = this.getReviews.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getRequests();\n\t\tif (this.props.match.params.id !== this.state.id) {\n\t\t\tthis.setState({\n\t\t\t\tonServer: false,\n\t\t\t\tid: this.props.match.params.id,\n\t\t\t\trequested: false,\n\t\t\t\trelated: false,\n\t\t\t});\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getSeries(id);\n\t\tthis.getRequests();\n\t\tthis.getReviews();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\tgetRequests() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet requests = this.props.user.requests;\n\t\tif (!requests) return;\n\t\tif (!requests[id]) {\n\t\t\tif (this.state.requested) {\n\t\t\t\tthis.setState({\n\t\t\t\t\trequested: false,\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tlet requestUsers = Object.keys(requests[id].users).length;\n\t\tif (\n\t\t\tthis.props.user.requests[id] &&\n\t\t\trequestUsers !== this.state.requested\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\trequested: requestUsers,\n\t\t\t});\n\t\t} else if (!requests[id] && this.state.requested) {\n\t\t\tthis.setState({\n\t\t\t\trequested: false,\n\t\t\t});\n\t\t}\n\t}\n\n\trequest() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet series = this.props.mediabutler.series_lookup[id];\n\t\tlet request = {\n\t\t\tid: series.id,\n\t\t\ttmdb_id: series.id,\n\t\t\ttvdb_id: series.tvdb_id,\n\t\t\timdb_id: series.imdb_id,\n\t\t\ttitle: series.name,\n\t\t\ttype: 'tv',\n\t\t\tthumb: series.poster_path,\n\t\t};\n\t\tUser.request(request, this.props.user.current).then(() => {\n\t\t\tUser.getRequests();\n\t\t});\n\t}\n\n\tgetReviews() {\n\t\tlet id = this.props.match.params.id;\n\t\tUser.getReviews(id);\n\t}\n\n\tgetSeries() {\n\t\tlet id = this.props.match.params.id;\n\n\t\tif (!this.props.mediabutler.series_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.series(id);\n\t\t} else if (this.props.mediabutler.series_lookup[id].isMinified) {\n\t\t\tMediabutler.series(id);\n\t\t}\n\t}\n\n\ttimeConvert(n) {\n\t\tvar num = n;\n\t\tvar hours = num / 60;\n\t\tvar rhours = Math.floor(hours);\n\t\tvar minutes = (hours - rhours) * 60;\n\t\tvar rminutes = Math.round(minutes);\n\t\tvar hrs =\n\t\t\trhours < 1 ? '' : rhours === 1 ? 'hr' : rhours > 1 ? 'hrs' : '';\n\t\treturn `${rhours >= 1 ? rhours : ''} ${hrs} ${rminutes} mins`;\n\t}\n\n\tfindNested(obj, key, value) {\n\t\t// Base case\n\t\tif (obj[key] === value) {\n\t\t\treturn obj;\n\t\t} else {\n\t\t\tfor (var i = 0, len = Object.keys(obj).length; i < len; i++) {\n\t\t\t\tif (typeof obj[i] == 'object') {\n\t\t\t\t\tvar found = this.findNested(obj[i], key, value);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\t// If the object was found in the recursive call, bubble it up.\n\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\topenReview() {\n\t\tthis.setState({\n\t\t\treviewOpen: true,\n\t\t});\n\t}\n\n\tcloseReview() {\n\t\tthis.setState({\n\t\t\treviewOpen: false,\n\t\t});\n\t}\n\n\tshowTrailer() {\n\t\tthis.setState({\n\t\t\ttrailer: this.state.trailer ? false : true,\n\t\t});\n\t}\n\n\trender() {\n\t\tlet id = this.state.id;\n\t\tlet seriesData = this.props.mediabutler.series_lookup[id];\n\n\t\tif (!seriesData) {\n\t\t\treturn <MovieShowLoading />;\n\t\t}\n\n\t\tif (seriesData.isMinified) {\n\t\t\treturn <MovieShowLoading />;\n\t\t}\n\n\t\tlet related = null;\n\t\tlet relatedItems = null;\n\t\tif (seriesData.recommendations) {\n\t\t\trelatedItems = seriesData.recommendations.map((key) => {\n\t\t\t\t// if (this.props.mediabutler.series_lookup[id]) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"related--item\" key={`related-${key}`}>\n\t\t\t\t\t\t<TvCard series={{ id: key }} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\t// }\n\t\t\t});\n\t\t\trelated = (\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Related Shows</h3>\n\t\t\t\t\t<Carousel>{relatedItems}</Carousel>\n\t\t\t\t</section>\n\t\t\t);\n\t\t}\n\n\t\tlet requestBtn = seriesData.on_server ? (\n\t\t\t<div className=\"btn btn__square good\">\n\t\t\t\t<CheckIcon />\n\t\t\t\tOn Plex\n\t\t\t</div>\n\t\t) : this.state.requested ? (\n\t\t\t<button className=\"btn btn__square blue\" onClick={this.request}>\n\t\t\t\t{`Requested by ${this.state.requested} \n\t\t\t\t${this.state.requested > 1 ? 'users' : 'user'}`}\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className=\"btn btn__square\" onClick={this.request}>\n\t\t\t\t<RequestIcon />\n\t\t\t\tRequest\n\t\t\t</button>\n\t\t);\n\n\t\tlet watchBtn = this.state.onServer ? (\n\t\t\t<button className=\"btn btn__square good\">\n\t\t\t\t<WatchIcon />\n\t\t\t\tPlay\n\t\t\t</button>\n\t\t) : null;\n\n\t\tlet reportBtn = (\n\t\t\t<button className=\"btn btn__square\" onClick={this.props.openIssues}>\n\t\t\t\t<ReportIcon />\n\t\t\t\tReport an issue\n\t\t\t</button>\n\t\t);\n\n\t\tlet reviewBtn = null;\n\n\t\tif (this.props.user.reviews) {\n\t\t\tif (this.props.user.reviews[this.props.match.params.id]) {\n\t\t\t\tvar hasReviewed = false;\n\t\t\t\tfor (\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\ti <\n\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id].length;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id][i]\n\t\t\t\t\t\t\t.user == this.props.user.current._id\n\t\t\t\t\t) {\n\t\t\t\t\t\thasReviewed = this.props.user.reviews[\n\t\t\t\t\t\t\tthis.props.match.params.id\n\t\t\t\t\t\t][i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treviewBtn = (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\tonClick={this.openReview}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!hasReviewed ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\tReview\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\tReviewed {(hasReviewed.score / 10) * 100}%\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet seasons = seriesData.seasons;\n\n\t\tlet criticRating = seriesData.vote_average;\n\n\t\tlet video = seriesData.videos.results\n\t\t\t? seriesData.videos.results[0]\n\t\t\t: false;\n\n\t\tif (video) {\n\t\t\tif (video.site !== 'YouTube') {\n\t\t\t\tvideo = false;\n\t\t\t}\n\t\t}\n\n\t\tlet userRating = 'Not Reviewed';\n\t\tlet userRatingVal = 0;\n\n\t\tif (this.props.user.reviews) {\n\t\t\tif (this.props.user.reviews[this.props.match.params.id]) {\n\t\t\t\tif (\n\t\t\t\t\tObject.keys(\n\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t).length\n\t\t\t\t) {\n\t\t\t\t\tlet ratingsUser = 0;\n\n\t\t\t\t\tObject.keys(\n\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t).map((r) => {\n\t\t\t\t\t\tratingsUser +=\n\t\t\t\t\t\t\t(this.props.user.reviews[\n\t\t\t\t\t\t\t\tthis.props.match.params.id\n\t\t\t\t\t\t\t][r].score /\n\t\t\t\t\t\t\t\t10) *\n\t\t\t\t\t\t\t100;\n\t\t\t\t\t});\n\n\t\t\t\t\tuserRating = `${(\n\t\t\t\t\t\tratingsUser /\n\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t\t).length\n\t\t\t\t\t).toFixed(0)}% (${\n\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t\t).length\n\t\t\t\t\t} reviews)`;\n\t\t\t\t\tuserRatingVal =\n\t\t\t\t\t\tratingsUser /\n\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t\t).length;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"series-wrap\"\n\t\t\t\tdata-id={seriesData.imdb_id}\n\t\t\t\tkey={`${seriesData.title}__wrap`}\n\t\t\t>\n\t\t\t\t<Review\n\t\t\t\t\tid={this.props.match.params.id}\n\t\t\t\t\tuser={this.props.user.current}\n\t\t\t\t\tactive={this.state.reviewOpen}\n\t\t\t\t\tcloseReview={this.closeReview}\n\t\t\t\t\tgetReviews={this.getReviews}\n\t\t\t\t\titem={seriesData}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`series-top ${\n\t\t\t\t\t\tthis.state.trailer ? 'show-trailer' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`series-backdrop`}\n\t\t\t\t\t\tkey={`${seriesData.title}__backdrop`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{video && this.state.trailer ? (\n\t\t\t\t\t\t\t<div className=\"series-trailer\">\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\tsrc={`https://youtube.com/embed/${video.key}?autoplay=1&controls=0&showinfo=0&autohide=1&loop=1&modestbranding=1&playsinline=1&playlist=${video.key}`}\n\t\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{seriesData.backdrop_path ? (\n\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w1280/' +\n\t\t\t\t\t\t\t\t\tseriesData.backdrop_path\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"no-backdrop\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: 'url(/p-seamless.png)',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"series-poster\"\n\t\t\t\t\t\tkey={`${seriesData.title}__poster`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"series-poster--inner\">\n\t\t\t\t\t\t\t{seriesData.poster_path ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w500/' +\n\t\t\t\t\t\t\t\t\t\tseriesData.poster_path\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"series-details\">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<div className=\"series-details--top\">\n\t\t\t\t\t\t\t{seriesData.logo ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tclassName=\"series-logo\"\n\t\t\t\t\t\t\t\t\tsrc={seriesData.logo}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<h1 className=\"single-title\">\n\t\t\t\t\t\t\t\t\t{seriesData.original_name}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"series--actions\">\n\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"series-content\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"quick-view\">\n\t\t\t\t\t\t\t<div className=\"side-content\">\n\t\t\t\t\t\t\t\t<div className=\"series-action\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={this.showTrailer}\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TrailerIcon />\n\t\t\t\t\t\t\t\t\t\tTrailer\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{reviewBtn}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<div className=\"details\">\n\t\t\t\t\t\t\t\t\t<p className=\"year\">\n\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\tseriesData.first_air_date\n\t\t\t\t\t\t\t\t\t\t).getFullYear() +\n\t\t\t\t\t\t\t\t\t\t\t' - ' +\n\t\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\t\tseriesData.last_air_date\n\t\t\t\t\t\t\t\t\t\t\t).getFullYear()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p className=\"network\">\n\t\t\t\t\t\t\t\t\t\t{seriesData.networks[0]\n\t\t\t\t\t\t\t\t\t\t\t? seriesData.networks[0].name\n\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p className=\"genre\">\n\t\t\t\t\t\t\t\t\t\t{seriesData.genres.map((genre, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\ti ===\n\t\t\t\t\t\t\t\t\t\t\t\tseriesData.genres.length - 1\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\treturn genre.name;\n\t\t\t\t\t\t\t\t\t\t\treturn genre.name + ' / ';\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer hide-mb\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tRating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`color-${\n\t\t\t\t\t\t\t\t\t\t\t\tcriticRating > 7.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 6.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 4.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'orange'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'red'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{criticRating}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tUser Rating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`color-${\n\t\t\t\t\t\t\t\t\t\t\t\tuserRatingVal > 79\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: userRatingVal > 69\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: userRatingVal > 49\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'orange'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'red'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{userRating}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"series-action__mobile\">\n\t\t\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t\t\t\t{reviewBtn}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"series-crew\">\n\t\t\t\t\t\t\t\t\t{seriesData.created_by[0] ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"series-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreated by\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${seriesData.created_by[0].id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{seriesData.created_by[0].name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t{seriesData.created_by[1] ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"series-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tCreated By\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${seriesData.created_by[1].id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{seriesData.created_by[1].name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"sub-title mb--1\">Synopsis</p>\n\t\t\t\t\t\t\t\t<p className=\"overview\">\n\t\t\t\t\t\t\t\t\t{seriesData.overview}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Seasons</h3>\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{seasons.map((season) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"card type--movie-tv\"\n\t\t\t\t\t\t\t\t\t\tkey={`season--${season.season_number}${id}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/series/${id}/season/${season.season_number}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t\t\t\t\t\t\t></Link>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t{season.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${season.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={season.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : seriesData.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w500/${seriesData.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={season.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{season.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{season.air_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '(' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tseason.air_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ).getFullYear() +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ')'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Cast</h3>\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{seriesData.credits.cast.map((cast, key) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\tkey={`${cast.name}--${cast.character}`}\n\t\t\t\t\t\t\t\t\t\tperson={cast}\n\t\t\t\t\t\t\t\t\t\tcharacter={cast.character}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t\t{related}\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Reviews</h3>\n\t\t\t\t\t\t{this.props.user.reviews ? (\n\t\t\t\t\t\t\t<ReviewsList\n\t\t\t\t\t\t\t\treviews={this.props.user.reviews[id]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSeries = withRouter(Series);\n\nfunction SeriesContainer(props) {\n\treturn (\n\t\t<Series\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tuser={props.user}\n\t\t\topenIssues={props.openIssues}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(SeriesContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\n\nclass Season extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\tshow: this.props.match.params.id,\n\t\t\tseason: this.props.match.params.season,\n\t\t\trequested: false,\n\t\t};\n\n\t\tthis.daysTillAir = this.daysTillAir.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\t\tlet season = this.props.match.params.season;\n\n\t\tif (!this.props.mediabutler.series_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.series(id);\n\t\t} else if (this.props.mediabutler.series_lookup[id].isMinified) {\n\t\t\tMediabutler.series(id);\n\t\t}\n\t}\n\n\tdaysTillAir(airDate) {\n\t\tvar oneDay = 24 * 60 * 60 * 1000;\n\t\tvar secondDate = new Date();\n\t\tvar firstDate = new Date(airDate);\n\t\tlet days = Math.round(\n\t\t\tMath.abs(\n\t\t\t\t(firstDate.setHours(0, 0, 0, 0) -\n\t\t\t\t\tsecondDate.setHours(0, 0, 0, 0)) /\n\t\t\t\t\toneDay\n\t\t\t)\n\t\t);\n\n\t\tif (firstDate < secondDate) {\n\t\t\treturn 'Has aired on tv';\n\t\t}\n\n\t\treturn days < 100\n\t\t\t? 'airs in ' + days + ' ' + (days > 1 ? 'days' : 'day')\n\t\t\t: 'Not yet aired';\n\t}\n\n\trender() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet season = this.props.match.params.season;\n\t\tlet seriesData = this.props.mediabutler.series_lookup[id];\n\t\tlet seasonData = this.props.mediabutler.series_lookup[id]\n\t\t\t? this.props.mediabutler.series_lookup[id].seasonData[season]\n\t\t\t: false;\n\t\tconsole.log(seasonData);\n\t\tlet now = new Date();\n\t\tnow.setHours(0, 0, 0, 0);\n\t\tif (!seriesData || !seasonData) {\n\t\t\treturn (\n\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t<p>Loading...</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tif (seriesData.isMinified) {\n\t\t\t\treturn <p>Loading...</p>;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"page-wrap season-wrap\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t'url(https://image.tmdb.org/t/p/original/' +\n\t\t\t\t\t\t\tseriesData.backdrop_path +\n\t\t\t\t\t\t\t')',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"season-inner\">\n\t\t\t\t\t\t<div className=\"season-details\">\n\t\t\t\t\t\t\t<div className=\"stick\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tto={`/series/${id}`}\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{seriesData.name}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{seriesData.logo ? (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclass=\"series-logo__small\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={seriesData.logo}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<h1 className=\"main-title\">\n\t\t\t\t\t\t\t\t\t{seasonData.name}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<p className=\"overview\">\n\t\t\t\t\t\t\t\t\t{seasonData.overview}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"season-episodes\">\n\t\t\t\t\t\t\t<div className=\"season-episodes-inner\">\n\t\t\t\t\t\t\t\t{seasonData.episodes.map((episode) => {\n\t\t\t\t\t\t\t\t\tlet airDate = episode.air_date\n\t\t\t\t\t\t\t\t\t\t? Date.parse(episode.air_date)\n\t\t\t\t\t\t\t\t\t\t: false;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t'season-episode ' +\n\t\t\t\t\t\t\t\t\t\t\t\t(airDate < now\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'aired'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'not-aired')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode--img\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w500/${episode.still_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode--info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"upper small ep-num\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSeason{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.season_number}:\n\t\t\t\t\t\t\t\t\t\t\t\t\tEpisode{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.episode_number} -{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.daysTillAir(airDate)}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"small detail\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{episode.overview}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"season-episode--actions\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn__square\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRequest\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn__square\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tReport an issue\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nSeason = withRouter(Season);\n\nfunction SeasonContainer(props) {\n\treturn <Season mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(SeasonContainer);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"_x34_9-HD_icon\",\n  d: \"M278.743,33.612H11.519C5.157,33.612,0,38.77,0,45.131v200c0,6.361,5.157,11.519,11.519,11.519h267.225 c6.361,0,11.519-5.157,11.519-11.519v-200C290.262,38.77,285.104,33.612,278.743,33.612z M104.063,190.131l9.989-34.973H76.771 l-9.993,34.973H43.896l25.709-90h22.888L81.914,137.16h37.279l10.579-37.029h22.89l-25.715,90H104.063z M244.33,145.131 c-7.604,26.613-32.658,45-61.585,45h-37.796l16.986-59.461h22.882l-11.768,41.199h16.327c14.014,0,27.128-10.797,31.644-26.607 c4.555-15.945-2.865-26.871-17.393-26.871h-38.188l5.217-18.26h38.7C237.641,100.131,251.965,118.391,244.33,145.131z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar Svg720P = function Svg720P(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 290.262 290.262\",\n    style: {\n      enableBackground: \"new 0 0 290.262 290.262\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(Svg720P, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/720p.d5030fc5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"_x34_2-_1080_Full_HD\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M278.743,29.29H11.519C5.157,29.29,0,34.447,0,40.809v128.645v11.355v68.645c0,6.361,5.157,11.519,11.519,11.519h267.225 c6.361,0,11.519-5.157,11.519-11.519v-68.645v-11.355V40.809C290.262,34.447,285.104,29.29,278.743,29.29z M56.563,185.959H33.751 v15.375H54.19v4.813H33.751v18.748h-4.996v-43.748h27.809V185.959z M99.69,206.895c0,11.375-6.875,18.252-18.313,18.252 c-11.5,0-18.436-6.877-18.436-18.252v-25.748h5v25.748c0,8.5,5.122,13.439,13.436,13.439c8.313,0,13.313-4.939,13.313-13.439 v-25.748h5V206.895z M136.13,224.895h-24.188v-43.748h5v39.002h19.188V224.895z M168.444,224.895h-24.187v-43.748h4.998v39.002 h19.189V224.895z M214.693,224.895h-11.126v-16.998h-18.121v16.998h-11.127v-43.748h11.127v18h18.121v-18h11.126V224.895z  M241.822,224.895h-18.376v-25.201h11.125v16.33h7.939c6.811,0,11.688-5.254,11.688-12.939c0-7.754-5.126-13.063-12.189-13.063 h-18.563v-8.875h18.813c13.75,0,23.248,8.875,23.248,21.873C265.507,215.957,255.882,224.895,241.822,224.895z M267.225,157.935 H23.037V52.327h244.188V157.935z\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"53.415,128.666 66.592,128.666 66.592,76.775 43.866,76.775 43.866,87.363 53.415,87.363  \"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.901,129.037c14.656,0,22.873-9.404,22.873-26.354c0-16.877-8.217-26.279-22.873-26.279 c-14.805,0-23.021,9.402-23.021,26.279C76.88,119.633,85.097,129.037,99.901,129.037z M99.901,86.029c6.514,0,9.4,4.813,9.4,16.654 s-2.887,16.729-9.4,16.729c-6.664,0-9.475-4.887-9.475-16.729S93.237,86.029,99.901,86.029z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M128.401,114.232c0,9.178,8.29,15.025,21.246,15.025c12.951,0,21.243-5.922,21.243-15.25 c0-5.771-3.552-10.732-9.253-13.102c4.072-2.221,6.514-6.217,6.514-10.734c0-8.512-7.18-13.914-18.58-13.914 c-11.25,0-18.505,5.258-18.505,13.549c0,4.512,2.814,8.656,7.18,11.1C132.251,103.275,128.401,108.307,128.401,114.232z  M149.647,84.918c4.811,0,7.475,2.148,7.475,5.994c0,3.703-2.664,5.777-7.475,5.777c-4.813,0-7.477-2.074-7.477-5.777 C142.17,87.066,144.835,84.918,149.647,84.918z M149.647,106.164c5.697,0,8.881,2.441,8.881,6.736c0,4.441-3.184,6.811-8.881,6.811 c-5.701,0-8.809-2.445-8.809-6.811C140.839,108.605,143.946,106.164,149.647,106.164z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M199.466,129.037c14.655,0,22.872-9.404,22.872-26.354c0-16.877-8.217-26.279-22.872-26.279 c-14.805,0-23.023,9.402-23.023,26.279C176.443,119.633,184.661,129.037,199.466,129.037z M199.466,86.029 c6.514,0,9.398,4.813,9.398,16.654s-2.885,16.729-9.398,16.729c-6.662,0-9.475-4.887-9.475-16.729S192.804,86.029,199.466,86.029z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M234.948,121.119h4.865c6.857,0,10.803-3.641,10.803-9.924c0-5.973-3.945-9.346-10.803-9.346h-11.682v26.816h6.816V121.119 z M234.948,107.213h4.521c2.987,0,4.712,1.414,4.712,4.217c0,2.832-1.725,4.326-4.712,4.326h-4.521V107.213z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar Svg1080P = function Svg1080P(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 290.262 290.262\",\n    style: {\n      enableBackground: \"new 0 0 290.262 290.262\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(Svg1080P, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/1080p.d402a4a1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"_x34_3-4k_Full_HD\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M278.743,29.29H11.519C5.157,29.29,0,34.447,0,40.809v128.645v11.355v68.645c0,6.361,5.157,11.519,11.519,11.519h267.225 c6.361,0,11.519-5.157,11.519-11.519v-68.645v-11.355V40.809C290.262,34.447,285.104,29.29,278.743,29.29z M56.563,185.959H33.751 v15.375H54.19v4.813H33.751v18.748h-4.996v-43.748h27.809V185.959z M99.69,206.895c0,11.375-6.875,18.252-18.313,18.252 c-11.5,0-18.436-6.877-18.436-18.252v-25.748h5v25.748c0,8.5,5.122,13.439,13.436,13.439c8.313,0,13.313-4.939,13.313-13.439 v-25.748h5V206.895z M136.13,224.895h-24.188v-43.748h5v39.002h19.188V224.895z M168.444,224.895h-24.188v-43.748h4.998v39.002 h19.189V224.895z M214.693,224.895h-11.126v-16.998h-18.121v16.998h-11.127v-43.748h11.127v18h18.121v-18h11.126V224.895z  M241.822,224.895h-18.376v-25.201h11.125v16.33h7.938c6.812,0,11.688-5.254,11.688-12.939c0-7.754-5.126-13.063-12.188-13.063 h-18.563v-8.875h18.813c13.75,0,23.248,8.875,23.248,21.873C265.507,215.957,255.882,224.895,241.822,224.895z M267.225,157.935 H23.037V52.327h244.188V157.935z\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"106.752,143.336 125.882,143.336 125.882,125.48 136.895,125.48 136.895,109.83 125.882,109.83 125.882,92.439  106.752,92.439 106.752,109.83 89.594,109.83 113.708,62.18 93.883,62.18 68.261,111.686 68.261,125.48 106.752,125.48  \"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"167.275,123.395 178.057,111.453 199.505,143.336 224.199,143.336 192.085,95.801 222.229,62.18 198.346,62.18  167.275,97.309 167.275,62.18 146.638,62.18 146.638,143.336 167.275,143.336  \"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar Svg4K = function Svg4K(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 290.262 290.262\",\n    style: {\n      enableBackground: \"new 0 0 290.262 290.262\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(Svg4K, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/4k.c17d6f2d.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PersonCard from '../components/PersonCard';\nimport MovieCard from '../components/MovieCard';\nimport Mediabutler from '../data/Mediabutler';\nimport Carousel from '../components/Carousel';\nimport { ReactComponent as RequestIcon } from '../assets/svg/request.svg';\nimport { ReactComponent as ReportIcon } from '../assets/svg/report.svg';\nimport { ReactComponent as WatchIcon } from '../assets/svg/play.svg';\nimport { ReactComponent as CheckIcon } from '../assets/svg/check.svg';\nimport { ReactComponent as StarIcon } from '../assets/svg/star.svg';\nimport { ReactComponent as TrailerIcon } from '../assets/svg/video.svg';\nimport { ReactComponent as ResIconHd } from '../assets/svg/720p.svg';\nimport { ReactComponent as ResIconFHd } from '../assets/svg/1080p.svg';\nimport { ReactComponent as ResIconUHd } from '../assets/svg/4k.svg';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport User from '../data/User';\nimport Review from '../components/Review';\nimport ReviewsList from '../components/ReviewsLists';\nimport MovieShowLoading from '../components/MovieShowLoading';\n\nclass Movie extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonServer: false,\n\t\t\tid: this.props.match.params.id,\n\t\t\trequested: false,\n\t\t\trelated: false,\n\t\t\ttrailer: false,\n\t\t\treviewOpen: false,\n\t\t};\n\n\t\tthis.getMovie = this.getMovie.bind(this);\n\t\tthis.request = this.request.bind(this);\n\t\tthis.getRequests = this.getRequests.bind(this);\n\t\t// this.getRelated = this.getRelated.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t\tthis.showTrailer = this.showTrailer.bind(this);\n\t\tthis.openReview = this.openReview.bind(this);\n\t\tthis.closeReview = this.closeReview.bind(this);\n\t\tthis.getReviews = this.getReviews.bind(this);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getRequests();\n\t\tif (this.props.match.params.id !== this.state.id) {\n\t\t\tthis.setState({\n\t\t\t\tonServer: false,\n\t\t\t\tid: this.props.match.params.id,\n\t\t\t\trequested: false,\n\t\t\t\trelated: false,\n\t\t\t\ttrailer: false,\n\t\t\t});\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getMovie(id);\n\t\tthis.getRequests();\n\t\tthis.getReviews();\n\t}\n\n\tgetRequests() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet requests = this.props.user.requests;\n\t\tif (!requests) return;\n\t\tif (!requests[id]) {\n\t\t\tif (this.state.requested) {\n\t\t\t\tthis.setState({\n\t\t\t\t\trequested: false,\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tlet requestUsers = Object.keys(requests[id].users).length;\n\t\tif (\n\t\t\tthis.props.user.requests[id] &&\n\t\t\trequestUsers !== this.state.requested\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\trequested: requestUsers,\n\t\t\t});\n\t\t}\n\t}\n\n\trequest() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet movie = this.props.mediabutler.movie_lookup[id];\n\t\tlet request = {\n\t\t\tid: movie.id,\n\t\t\timdb_id: movie.imdb_id,\n\t\t\ttmdb_id: movie.id,\n\t\t\ttvdb_id: 'n/a',\n\t\t\ttitle: movie.title,\n\t\t\tthumb: movie.poster_path,\n\t\t\ttype: 'movie',\n\t\t};\n\t\tUser.request(request, this.props.user.current).then(() => {\n\t\t\tUser.getRequests().then(() => {\n\t\t\t\tthis.getRequests();\n\t\t\t});\n\t\t});\n\t}\n\n\topenReview() {\n\t\tthis.setState({\n\t\t\treviewOpen: true,\n\t\t});\n\t}\n\n\tcloseReview() {\n\t\tthis.setState({\n\t\t\treviewOpen: false,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\tgetReviews() {\n\t\tlet id = this.props.match.params.id;\n\t\tUser.getReviews(id);\n\t}\n\n\tgetMovie() {\n\t\tlet id = this.props.match.params.id;\n\n\t\t// this.getRelated();\n\t\tif (!this.props.mediabutler.movie_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.movie(id);\n\t\t} else if (this.props.mediabutler.movie_lookup[id].isMinified) {\n\t\t\tMediabutler.movie(id);\n\t\t}\n\t}\n\n\tshowTrailer() {\n\t\tthis.setState({\n\t\t\ttrailer: this.state.trailer ? false : true,\n\t\t});\n\t}\n\n\ttimeConvert(n) {\n\t\tvar num = n;\n\t\tvar hours = num / 60;\n\t\tvar rhours = Math.floor(hours);\n\t\tvar minutes = (hours - rhours) * 60;\n\t\tvar rminutes = Math.round(minutes);\n\t\tvar hrs =\n\t\t\trhours < 1 ? '' : rhours === 1 ? 'hr' : rhours > 1 ? 'hrs' : '';\n\t\treturn `${rhours >= 1 ? rhours : ''} ${hrs} ${rminutes} mins`;\n\t}\n\n\tfindNested(obj, key, value) {\n\t\t// Base case\n\t\tif (obj[key] === value) {\n\t\t\treturn obj;\n\t\t} else {\n\t\t\tfor (var i = 0, len = Object.keys(obj).length; i < len; i++) {\n\t\t\t\tif (typeof obj[i] == 'object') {\n\t\t\t\t\tvar found = this.findNested(obj[i], key, value);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\t// If the object was found in the recursive call, bubble it up.\n\t\t\t\t\t\treturn found;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tlet id = this.state.id;\n\t\tlet movieData = null;\n\t\tif (this.props.mediabutler.movie_lookup[id])\n\t\t\tmovieData = this.props.mediabutler.movie_lookup[id];\n\n\t\tif (!movieData) {\n\t\t\treturn <MovieShowLoading />;\n\t\t}\n\n\t\tif (movieData.isMinified) {\n\t\t\treturn <MovieShowLoading />;\n\t\t}\n\n\t\tlet related = null;\n\t\tlet relatedItems = null;\n\t\tif (movieData.recommendations) {\n\t\t\trelatedItems = movieData.recommendations.map((key) => {\n\t\t\t\t// if (this.props.mediabutler.movie_lookup[id]) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"related--item\" key={`related-${key}`}>\n\t\t\t\t\t\t<MovieCard movie={{ id: key }} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\t// }\n\t\t\t});\n\t\t\trelated = (\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Related Movies</h3>\n\t\t\t\t\t<Carousel>{relatedItems}</Carousel>\n\t\t\t\t</section>\n\t\t\t);\n\t\t}\n\n\t\tlet requestBtn = movieData.on_server ? (\n\t\t\t<div className=\"btn btn__square good\">\n\t\t\t\t<CheckIcon />\n\t\t\t\tOn Plex\n\t\t\t</div>\n\t\t) : this.state.requested ? (\n\t\t\t<button className=\"btn btn__square blue\" onClick={this.request}>\n\t\t\t\t{`Requested by ${this.state.requested} \n\t\t\t\t${this.state.requested > 1 ? 'users' : 'user'}`}\n\t\t\t</button>\n\t\t) : (\n\t\t\t<button className=\"btn btn__square\" onClick={this.request}>\n\t\t\t\t<RequestIcon />\n\t\t\t\tRequest\n\t\t\t</button>\n\t\t);\n\n\t\tlet watchBtn = movieData.onServer ? (\n\t\t\t<button className=\"btn btn__square good\">\n\t\t\t\t<WatchIcon />\n\t\t\t\tPlay\n\t\t\t</button>\n\t\t) : null;\n\n\t\tlet reportBtn = (\n\t\t\t<button className=\"btn btn__square\" onClick={this.props.openIssues}>\n\t\t\t\t<ReportIcon />\n\t\t\t\tReport an issue\n\t\t\t</button>\n\t\t);\n\n\t\tlet reviewBtn = null;\n\n\t\tif (this.props.user.reviews) {\n\t\t\tif (this.props.user.reviews[this.props.match.params.id]) {\n\t\t\t\tvar hasReviewed = false;\n\t\t\t\tfor (\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\ti <\n\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id].length;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id][i]\n\t\t\t\t\t\t\t.user == this.props.user.current._id\n\t\t\t\t\t) {\n\t\t\t\t\t\thasReviewed = this.props.user.reviews[\n\t\t\t\t\t\t\tthis.props.match.params.id\n\t\t\t\t\t\t][i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treviewBtn = (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\tonClick={this.openReview}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!hasReviewed ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\tReview\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<StarIcon />\n\t\t\t\t\t\t\t\tReviewed {(hasReviewed.score / 10) * 100}%\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet criticRating = movieData.vote_average;\n\n\t\tlet director = this.findNested(\n\t\t\tmovieData.credits.crew,\n\t\t\t'job',\n\t\t\t'Director'\n\t\t);\n\n\t\tlet screenplay = this.findNested(\n\t\t\tmovieData.credits.crew,\n\t\t\t'job',\n\t\t\t'Screenplay'\n\t\t);\n\n\t\tlet video = movieData.videos.results\n\t\t\t? movieData.videos.results[0]\n\t\t\t: false;\n\n\t\tif (video) {\n\t\t\tif (video.site !== 'YouTube') {\n\t\t\t\tvideo = false;\n\t\t\t}\n\t\t}\n\n\t\tlet userRating = 'Not Reviewed';\n\t\tlet userRatingVal = 0;\n\n\t\tif (this.props.user.reviews) {\n\t\t\tif (this.props.user.reviews[this.props.match.params.id]) {\n\t\t\t\tif (\n\t\t\t\t\tObject.keys(\n\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t).length > 0\n\t\t\t\t) {\n\t\t\t\t\tlet ratingsUser = 0;\n\n\t\t\t\t\tObject.keys(\n\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t).map((r) => {\n\t\t\t\t\t\tratingsUser +=\n\t\t\t\t\t\t\t(this.props.user.reviews[\n\t\t\t\t\t\t\t\tthis.props.match.params.id\n\t\t\t\t\t\t\t][r].score /\n\t\t\t\t\t\t\t\t10) *\n\t\t\t\t\t\t\t100;\n\t\t\t\t\t});\n\n\t\t\t\t\tuserRating = `${(\n\t\t\t\t\t\tratingsUser /\n\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t\t).length\n\t\t\t\t\t).toFixed(0)}% (${\n\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t\t).length\n\t\t\t\t\t} reviews)`;\n\t\t\t\t\tuserRatingVal =\n\t\t\t\t\t\tratingsUser /\n\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\tthis.props.user.reviews[this.props.match.params.id]\n\t\t\t\t\t\t).length;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"movie-wrap\"\n\t\t\t\tdata-id={movieData.imdb_id}\n\t\t\t\tkey={`${movieData.title}__wrap`}\n\t\t\t>\n\t\t\t\t<Review\n\t\t\t\t\tid={this.props.match.params.id}\n\t\t\t\t\tuser={this.props.user.current}\n\t\t\t\t\tactive={this.state.reviewOpen}\n\t\t\t\t\tcloseReview={this.closeReview}\n\t\t\t\t\tgetReviews={this.getReviews}\n\t\t\t\t\titem={movieData}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`movie-top ${\n\t\t\t\t\t\tthis.state.trailer ? 'show-trailer' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"movie-backdrop\"\n\t\t\t\t\t\tkey={`${movieData.title}__backdrop`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{video && this.state.trailer ? (\n\t\t\t\t\t\t\t<div className=\"series-trailer\">\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\tsrc={`https://youtube.com/embed/${video.key}?autoplay=1&controls=0&rel=0`}\n\t\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{movieData.backdrop_path ? (\n\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w1280/' +\n\t\t\t\t\t\t\t\t\tmovieData.backdrop_path\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\talt={movieData.title}\n\t\t\t\t\t\t\t\teffect=\"blur\"\n\t\t\t\t\t\t\t\tkey={`${movieData.title}__backdrop`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"no-backdrop\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage: 'url(/p-seamless.png)',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"movie-poster\">\n\t\t\t\t\t\t<div className=\"movie-poster--inner\">\n\t\t\t\t\t\t\t{movieData.poster_path ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t'https://image.tmdb.org/t/p/w500/' +\n\t\t\t\t\t\t\t\t\t\tmovieData.poster_path\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\talt={movieData.title}\n\t\t\t\t\t\t\t\t\teffect=\"blur\"\n\t\t\t\t\t\t\t\t\tkey={`${movieData.title}__poster`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"movie-details\">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<div className=\"movie-details--top\">\n\t\t\t\t\t\t\t{movieData.logo ? (\n\t\t\t\t\t\t\t\t<LazyLoadImage\n\t\t\t\t\t\t\t\t\tclassName=\"movie-logo\"\n\t\t\t\t\t\t\t\t\tsrc={movieData.logo}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<h1 className=\"single-title\">\n\t\t\t\t\t\t\t\t\t{movieData.title}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"movie--actions\">\n\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"movie-content\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"quick-view\">\n\t\t\t\t\t\t\t<div className=\"side-content\">\n\t\t\t\t\t\t\t\t<div className=\"movie-action\">\n\t\t\t\t\t\t\t\t\t{video ? (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.showTrailer}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TrailerIcon />\n\t\t\t\t\t\t\t\t\t\t\tTrailer\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t{reviewBtn}\n\t\t\t\t\t\t\t\t\t<div className=\"resolutions\">\n\t\t\t\t\t\t\t\t\t\t{movieData.available_resolutions.includes(\n\t\t\t\t\t\t\t\t\t\t\t'4k'\n\t\t\t\t\t\t\t\t\t\t) ? (\n\t\t\t\t\t\t\t\t\t\t\t<ResIconUHd />\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t{movieData.available_resolutions.includes(\n\t\t\t\t\t\t\t\t\t\t\t'1080'\n\t\t\t\t\t\t\t\t\t\t) ? (\n\t\t\t\t\t\t\t\t\t\t\t<ResIconFHd />\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t{movieData.available_resolutions.includes(\n\t\t\t\t\t\t\t\t\t\t\t'720'\n\t\t\t\t\t\t\t\t\t\t) ? (\n\t\t\t\t\t\t\t\t\t\t\t<ResIconHd />\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<div className=\"details\">\n\t\t\t\t\t\t\t\t\t<p className=\"year\">\n\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\tmovieData.release_date\n\t\t\t\t\t\t\t\t\t\t).getFullYear()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p className=\"runtime\">\n\t\t\t\t\t\t\t\t\t\t{this.timeConvert(movieData.runtime)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p className=\"genre\">\n\t\t\t\t\t\t\t\t\t\t{movieData.genres.map((genre, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\ti ===\n\t\t\t\t\t\t\t\t\t\t\t\tmovieData.genres.length - 1\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\treturn genre.name;\n\t\t\t\t\t\t\t\t\t\t\treturn genre.name + ' / ';\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer hide-mb\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tRating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`color-${\n\t\t\t\t\t\t\t\t\t\t\t\tcriticRating > 7.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 6.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: criticRating > 4.9\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'orange'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'red'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{criticRating}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"spacer\">|</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tUser Rating:{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`color-${\n\t\t\t\t\t\t\t\t\t\t\t\tuserRatingVal > 79\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: userRatingVal > 69\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: userRatingVal > 49\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'orange'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'red'\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{userRating}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"movie-action__mobile\">\n\t\t\t\t\t\t\t\t\t{watchBtn}\n\t\t\t\t\t\t\t\t\t{requestBtn}\n\t\t\t\t\t\t\t\t\t{reportBtn}\n\t\t\t\t\t\t\t\t\t{reviewBtn}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"movie-crew\">\n\t\t\t\t\t\t\t\t\t{director ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"movie-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tDirector\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${director.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{director.name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t{screenplay ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"movie-crew--item\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"sub-title\">\n\t\t\t\t\t\t\t\t\t\t\t\tScreenplay\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/person/${screenplay.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"crew-credit\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{screenplay.name}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"sub-title mb--1\">Synopsis</p>\n\t\t\t\t\t\t\t\t<p className=\"overview\">{movieData.overview}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Cast</h3>\n\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t{movieData.credits.cast.map((cast, key) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<PersonCard\n\t\t\t\t\t\t\t\t\t\tkey={`person--${cast.name}`}\n\t\t\t\t\t\t\t\t\t\tperson={cast}\n\t\t\t\t\t\t\t\t\t\tcharacter={cast.character}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t\t{related}\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Reviews</h3>\n\t\t\t\t\t\t{this.props.user.reviews ? (\n\t\t\t\t\t\t\t<ReviewsList\n\t\t\t\t\t\t\t\treviews={this.props.user.reviews[id]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nMovie = withRouter(Movie);\n\nfunction MovieContainer(props) {\n\treturn (\n\t\t<Movie\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tuser={props.user}\n\t\t\topenIssues={props.openIssues}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(MovieContainer);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 50,\n  cy: 50,\n  r: 32,\n  stroke: \"#ffffff\",\n  strokeWidth: 0,\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 50,\n  cy: 50,\n  r: 32,\n  stroke: \"#e5a00d\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  fill: \"none\"\n}, /*#__PURE__*/React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  repeatCount: \"indefinite\",\n  dur: \"1.5873015873015872s\",\n  values: \"0 50 50;180 50 50;720 50 50\",\n  keyTimes: \"0;0.5;1\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"stroke-dasharray\",\n  repeatCount: \"indefinite\",\n  dur: \"1.5873015873015872s\",\n  values: \"0 201.06192982974676;176.93449825017714 24.127431579569617;0 201.06192982974676\",\n  keyTimes: \"0;0.5;1\"\n}));\n\nvar SvgSpinner = function SvgSpinner(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      margin: \"auto\",\n      display: \"block\"\n    },\n    width: \"201px\",\n    height: \"201px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSpinner, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/spinner.cde2b959.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport MovieCard from '../components/MovieCard';\nimport TvCard from '../components/TvCard';\nimport Carousel from '../components/Carousel';\nimport { ReactComponent as Spinner } from '../assets/svg/spinner.svg';\n\nclass Actor extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.getActor = this.getActor.bind(this);\n\t\tthis.handleScroll = this.handleScroll.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tlet id = this.props.match.params.id;\n\n\t\tthis.getActor(id);\n\t}\n\n\tgetActor(id) {\n\t\tif (!this.props.mediabutler.person_lookup[id]) {\n\t\t\t// check for cached\n\t\t\tMediabutler.person(id);\n\t\t}\n\t}\n\n\thandleScroll(e) {\n\t\tlet banner = e.currentTarget.querySelectorAll('.person--banner')[0];\n\t\tlet poster = e.currentTarget.querySelectorAll(\n\t\t\t'.person--thumb--inner'\n\t\t)[0];\n\t\tlet offset =\n\t\t\te.currentTarget.scrollTop > banner.offsetHeight\n\t\t\t\t? 1\n\t\t\t\t: e.currentTarget.scrollTop / banner.offsetHeight;\n\t\tlet posterOffset = 50 * offset;\n\t\toffset = offset * 10 + 40;\n\t\tbanner.style.backgroundPosition = `50% ${offset}%`;\n\t\tposter.style.transform = `translateY(${posterOffset}px)`;\n\t}\n\n\trender() {\n\t\tlet id = this.props.match.params.id;\n\t\tlet personData = this.props.mediabutler.person_lookup[id];\n\n\t\tif (!personData) {\n\t\t\treturn (\n\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t<div className=\"spinner\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet banner = false;\n\t\tlet bWidth = 0;\n\n\t\t// Credits Movie\n\t\tlet movieCredits = this.props.mediabutler.actor_movie[id];\n\t\tlet movieActing = false;\n\t\tlet movieProduction = false;\n\n\t\tif (movieCredits) {\n\t\t\tmovieActing = movieCredits.cast;\n\t\t\tmovieProduction = movieCredits.crew;\n\t\t}\n\n\t\t// Credits TV\n\t\tlet tvCredits = this.props.mediabutler.actor_series[id];\n\t\tlet tvActing = false;\n\t\tlet tvProduction = false;\n\n\t\tif (tvCredits) {\n\t\t\ttvActing = tvCredits.cast;\n\t\t\ttvProduction = tvCredits.crew;\n\t\t}\n\n\t\tif (!personData.images) {\n\t\t\tbanner = false;\n\t\t\tbWidth = 0;\n\t\t} else {\n\t\t\tpersonData.images.profiles.forEach((image) => {\n\t\t\t\tif (image.width > bWidth) {\n\t\t\t\t\tbanner = image;\n\t\t\t\t\tbWidth = image.width;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"page-wrap\" onScroll={this.handleScroll}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"person--banner\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundImage: `url(https://image.tmdb.org/t/p/original/${banner.file_path})`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t></div>\n\t\t\t\t\t<div className=\"person--top\">\n\t\t\t\t\t\t<div className=\"person--thumb\">\n\t\t\t\t\t\t\t<div className=\"person--thumb--inner\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w1280/${personData.profile_path}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"person--details\">\n\t\t\t\t\t\t\t<h1 className=\"single-title\">{personData.name}</h1>\n\t\t\t\t\t\t\t<p>{personData.place_of_birth}</p>\n\t\t\t\t\t\t\t<p>{personData.known_for_department}</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* {personData.images.profiles.map((image) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w1280/${image.file_path}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})} */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<div className=\"person--bio\">\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Biography</h3>\n\t\t\t\t\t\t\t<div className=\"bio\">\n\t\t\t\t\t\t\t\t{personData.biography.split('\\n').map((str) => (\n\t\t\t\t\t\t\t\t\t<p>{str}</p>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t{movieActing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Movies (Acting)</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(movieActing).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = movieActing[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tmovie={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.character}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{movieProduction ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">\n\t\t\t\t\t\t\t\tMovies (Production)\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(movieProduction).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = movieProduction[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tmovie={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.job}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{tvActing ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Shows (Acting)</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(tvActing).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = tvActing[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tseries={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.character}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{tvProduction ? (\n\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">\n\t\t\t\t\t\t\t\tShows (Production)\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(tvProduction).map((key, i) => {\n\t\t\t\t\t\t\t\t\tlet result = tvProduction[key];\n\t\t\t\t\t\t\t\t\tif (result.popularity < 10) return null; // threshold to display\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\tkey={result.id + '-cast-' + i}\n\t\t\t\t\t\t\t\t\t\t\tseries={result}\n\t\t\t\t\t\t\t\t\t\t\tcharacter={result.job}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nActor = withRouter(Actor);\n\nfunction ActorContainer(props) {\n\treturn <Actor mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(ActorContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass Issues extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid: false,\n\t\t\topen: this.props.open,\n\t\t\ttype: '',\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.close();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.id !== this.props.match.params.id) {\n\t\t\tlet type;\n\t\t\tswitch (this.props.match.path) {\n\t\t\t\tcase '/movie/:id':\n\t\t\t\t\ttype = 'movie';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '/series/:id':\n\t\t\t\t\ttype = 'series';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\ttype = 'unknown';\n\t\t\t}\n\t\t\tthis.props.close();\n\t\t\tthis.setState({\n\t\t\t\tid: this.props.match.params.id,\n\t\t\t\ttype: type,\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.open !== this.state.open) {\n\t\t\tthis.setState({\n\t\t\t\topen: this.props.open,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`issue-sidebar ${this.state.open ? 'open' : ''}`}>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"issue-sidebar--close\"\n\t\t\t\t\tonClick={this.props.close}\n\t\t\t\t></button>\n\t\t\t\t<p className=\"main-title mb--2\">Report an issue</p>\n\t\t\t\t<section>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tWe try our best to provide good quality content without\n\t\t\t\t\t\tany problems, but sometimes things go wrong. Please use\n\t\t\t\t\t\tthis form to let us know of any issues you've had whilst\n\t\t\t\t\t\twatching Plex and we will do our best to fix them!\n\t\t\t\t\t</p>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<p className=\"sub-title mb--1\">Details</p>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\tname=\"id\"\n\t\t\t\t\t\tdefaultValue={this.state.id}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\tdefaultValue={this.state.type}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tvalue={this.state.id}\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t/>\n\t\t\t\t\t<select>\n\t\t\t\t\t\t<option value=\"\">Choose an option</option>\n\t\t\t\t\t\t<option value=\"1\">Issue type 1</option>\n\t\t\t\t\t\t<option value=\"2\">Issue type 1</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<textarea defaultValue=\"Notes\"></textarea>\n\t\t\t\t</section>\n\t\t\t\t<button className=\"btn btn__square\">Submit</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Issues);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\n// import User from '../data/User'\nimport MovieCard from './MovieCard';\nimport Carousel from './Carousel';\nimport TvCard from './TvCard';\nimport CarouselLoading from './CarouselLoading';\n\nclass History extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlibraries: this.props.user.library_index,\n\t\t\tcredentials: false,\n\t\t\thistoryData: false,\n\t\t\tuser: false,\n\t\t\ttext: 'Loading',\n\t\t};\n\n\t\tthis.getHistory = this.getHistory.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\t// componentDidUpdate() {\n\t// \tthis.init();\n\t// }\n\n\tinit() {\n\t\tif (!this.state.historyData) {\n\t\t\tthis.getHistory();\n\t\t}\n\t}\n\n\tgetHistory() {\n\t\tthis.setState({\n\t\t\thistoryData: [],\n\t\t});\n\t\tMediabutler.history(\n\t\t\tthis.props.user.current.admin ? 1 : this.props.user.current._id,\n\t\t\tthis.props.type\n\t\t)\n\t\t\t.then((res) => {\n\t\t\t\tif (Object.keys(res).length === 0) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\ttext: 'No history from the last 2 weeks.',\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tlet historyData = res;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thistoryData: historyData,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tthis.setState({\n\t\t\t\t\ttext: 'No history from the last 2 weeks.',\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\trender() {\n\t\t// let libraries = this.props.user.library_index;\n\t\tif (this.props.type === 'movie') {\n\t\t\tlet historyData = (\n\t\t\t\t<>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">\n\t\t\t\t\t\t\tRecently Viewed by You\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tBe sure to review movies you watched to help other\n\t\t\t\t\t\t\tusers decide what to watch!\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{Object.keys(this.state.historyData).length > 0 ? (\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(this.state.historyData).map(\n\t\t\t\t\t\t\t\t\t(t) => {\n\t\t\t\t\t\t\t\t\t\t// console.log(this.state.historyData[t]);\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t!this.state.historyData[t].id ||\n\t\t\t\t\t\t\t\t\t\t\tthis.state.historyData[t].id ===\n\t\t\t\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.historyData[t].id\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tmovie={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: this.state.historyData[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt\n\t\t\t\t\t\t\t\t\t\t\t\t\t].id,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t) : this.state.text === 'Loading' ? (\n\t\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p>{this.state.text}</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn historyData;\n\t\t} else {\n\t\t\tlet showHistory = (\n\t\t\t\t<>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">\n\t\t\t\t\t\t\tRecently Viewed by You\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tBe sure to review shows you watched to help other\n\t\t\t\t\t\t\tusers decide what to watch!\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{Object.keys(this.state.historyData).length > 0 ? (\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(this.state.historyData).map(\n\t\t\t\t\t\t\t\t\t(t) => {\n\t\t\t\t\t\t\t\t\t\t// console.log(this.state.historyData[t]);\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t!this.state.historyData[t].id ||\n\t\t\t\t\t\t\t\t\t\t\tthis.state.historyData[t].id ===\n\t\t\t\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.historyData[t].id\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tseries={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: this.state.historyData[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt\n\t\t\t\t\t\t\t\t\t\t\t\t\t].id,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t) : this.state.text === 'Loading' ? (\n\t\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p>{this.state.text}</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn showHistory;\n\t\t}\n\t}\n}\n\nHistory = withRouter(History);\n\nfunction HistoryContainer(props) {\n\treturn <History user={props.user} type={props.type} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(HistoryContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport User from '../data/User';\nimport History from '../components/History';\nimport { ReactComponent as ResIconHd } from '../assets/svg/720p.svg';\nimport { ReactComponent as ResIconFHd } from '../assets/svg/1080p.svg';\nimport { ReactComponent as ResIconUHd } from '../assets/svg/4k.svg';\n\nclass Profile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen4kmodal: false,\n\t\t};\n\n\t\tthis.open4k = this.open4k.bind(this);\n\t\tthis.close4k = this.close4k.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\topen4k() {\n\t\tthis.setState({\n\t\t\topen4kmodal: true,\n\t\t});\n\t}\n\n\tclose4k() {\n\t\tthis.setState({\n\t\t\topen4kmodal: false,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"profile-page\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`modal-4k-request ${\n\t\t\t\t\t\tthis.state.open4kmodal ? 'open' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"modal-4k-request--top\">\n\t\t\t\t\t\t<h3>Request 4K / UHD Access</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-4k-request--content\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tAccess to 4K / UHD content is limited to users who\n\t\t\t\t\t\t\thave both the internet speed and devices to watch 4K\n\t\t\t\t\t\t\twithout buffering or the server trying to convert\n\t\t\t\t\t\t\tdown to a lower resolution.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tBefore processing your request make sure your device\n\t\t\t\t\t\t\tcan play HEVC (aka h.265) and your internet speed is\n\t\t\t\t\t\t\tabove 50mbps. Check your TV / device manual for\n\t\t\t\t\t\t\tinformation on video codecs and perform a speed test\n\t\t\t\t\t\t\tbelow.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"modal-4k-request--speed\">\n\t\t\t\t\t\t\t<iframe src=\"https://www.metercustom.net/plugin/\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tPassed both criteria? Click below to request access.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"btn btn__square bad modal-4k-request--cancel\"\n\t\t\t\t\t\t\tonClick={this.close4k}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button className=\"modal-4k-request--submit btn btn__square\">\n\t\t\t\t\t\t\tRequest Access\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<h1 className=\"main-title mb--2\">Your Account</h1>\n\t\t\t\t<section>\n\t\t\t\t\t<div className=\"profile-overview\">\n\t\t\t\t\t\t<div className=\"profile-thumb\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://app.plex.tv/desktop#!/settings/account\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclassName=\"thumb\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t\t\t'url(' +\n\t\t\t\t\t\t\t\t\t\tthis.props.user.current.thumb +\n\t\t\t\t\t\t\t\t\t\t')',\n\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t<div className=\"hover\">\n\t\t\t\t\t\t\t\t<p>Change</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-info\">\n\t\t\t\t\t\t\t<h3 className=\"sub-title\">\n\t\t\t\t\t\t\t\t{this.props.user.current.username}\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<p className=\"email\">\n\t\t\t\t\t\t\t\t{this.props.user.current.email}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"role\">\n\t\t\t\t\t\t\t\t{this.props.user.current.admin\n\t\t\t\t\t\t\t\t\t? 'Admin'\n\t\t\t\t\t\t\t\t\t: 'Friend'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-access\">\n\t\t\t\t\t\t\t<h3 className=\"sub-title\">Content Access</h3>\n\t\t\t\t\t\t\t<div className=\"a-wrap\">\n\t\t\t\t\t\t\t\t<div className=\"a-720 a-icon\">\n\t\t\t\t\t\t\t\t\t<ResIconHd />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"a-1080 a-icon\">\n\t\t\t\t\t\t\t\t\t<ResIconFHd />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`a-4k a-icon ${\n\t\t\t\t\t\t\t\t\t\tthis.props.user.current.uhd\n\t\t\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t\t\t: 'disabled'\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ResIconUHd />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!this.props.user.current.uhd ? (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square request-access-4k mt--1\"\n\t\t\t\t\t\t\t\t\tonClick={this.open4k}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRequest Access to UHD / 4K?\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-logout\">\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tclassName=\"logout sub-title\"\n\t\t\t\t\t\t\t\tonClick={this.props.logout}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<History type=\"movie\" />\n\t\t\t\t<History type=\"show\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nProfile = withRouter(Profile);\n\nfunction ProfileContainer(props) {\n\treturn <Profile user={props.user} logout={props.logout} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(ProfileContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Plex from '../data/Plex';\nimport Mediabutler from '../data/Mediabutler';\n// import User from '../data/User'\nimport MovieCard from './MovieCard';\nimport TvCard from './TvCard';\nimport Carousel from './Carousel';\nimport CarouselLoading from './CarouselLoading';\n\nclass Popular extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlibraries: this.props.user.library_index,\n\t\t\tcredentials: false,\n\t\t\ttopData: false,\n\t\t};\n\n\t\tthis.getTop = this.getTop.bind(this);\n\t\tthis.init = this.init.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\t// componentDidUpdate() {\n\t// \tthis.init();\n\t// }\n\n\tinit() {\n\t\tif (!this.state.topData) {\n\t\t\tthis.getTop('movies');\n\t\t}\n\t}\n\n\tgetTop() {\n\t\tMediabutler.top(this.props.type)\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttopData: res,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\trender() {\n\t\tif (this.props.type === 'movie') {\n\t\t\tlet topData = (\n\t\t\t\t<>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Popular on Plex</h3>\n\t\t\t\t\t\t{this.state.topData ? (\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(this.state.topData).map((t) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t!this.state.topData[t].item.tmdb_id ||\n\t\t\t\t\t\t\t\t\t\tthis.state.topData[t].item.tmdb_id ===\n\t\t\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div key={t} className=\"popular-card\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"popular-card--count\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.topData[t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.globalViewCount\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.topData[t].item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.tmdb_id\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tmovie={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: this.state.topData[t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.item.tmdb_id,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn topData;\n\t\t} else {\n\t\t\tlet topShows = (\n\t\t\t\t<>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Popular on Plex</h3>\n\t\t\t\t\t\t{this.state.topData ? (\n\t\t\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t\t\t{Object.keys(this.state.topData).map((t) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t!this.state.topData[t].item.tmdb_id ||\n\t\t\t\t\t\t\t\t\t\tthis.state.topData[t].item.tmdb_id ===\n\t\t\t\t\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.topData[t].item\n\t\t\t\t\t\t\t\t\t\t\t\t\t.tmdb_id\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"popular-card\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"popular-card--count\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.topData[t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.globalViewCount\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<TvCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={this.state.topData[t].id}\n\t\t\t\t\t\t\t\t\t\t\t\tseries={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: this.state.topData[t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.item.tmdb_id,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CarouselLoading />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn topShows;\n\t\t}\n\t}\n}\n\nPopular = withRouter(Popular);\n\nfunction PopularContainer(props) {\n\treturn <Popular user={props.user} type={props.type} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(PopularContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport Popular from '../components/Popular';\nimport History from '../components/History';\nimport MovieCard from '../components/MovieCard';\nimport Carousel from '../components/Carousel';\n\nclass Movies extends React.Component {\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\n\t\tif (!Object.keys(this.props.mediabutler.popular).length > 0) {\n\t\t\tMediabutler.getPopular();\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h1 className=\"main-title mb--1\">Movies</h1>\n\t\t\t\t<Popular type=\"movie\" />\n\t\t\t\t<History type=\"movie\" />\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending Movies</h3>\n\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0\n\t\t\t\t\t\t\t? this.props.mediabutler.popular.movies.map(\n\t\t\t\t\t\t\t\t\t(movie) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<MovieCard\n\t\t\t\t\t\t\t\t\t\t\t\tkey={movie.id}\n\t\t\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nMovies = withRouter(Movies);\n\nfunction MoviesContainer(props) {\n\treturn <Movies mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(MoviesContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nclass RequestCard extends React.Component {\n\trender() {\n\t\tlet request = this.props.request;\n\t\tif (!request) {\n\t\t\treturn null;\n\t\t}\n\t\tlet img = request.poster_path ? (\n\t\t\t<img\n\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${request.poster_path}`}\n\t\t\t\talt={request.title}\n\t\t\t/>\n\t\t) : (\n\t\t\t<div className=\"no-poster\"></div>\n\t\t);\n\t\tlet type = this.props.user.requests[request.id].type;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={request.id}\n\t\t\t\tdata-key={request.id}\n\t\t\t\tclassName={'card type--movie-tv'}\n\t\t\t>\n\t\t\t\t<div className=\"card--inner\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/${type === 'tv' ? 'series' : 'movie'}/${\n\t\t\t\t\t\t\trequest.id\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tclassName=\"full-link\"\n\t\t\t\t\t></Link>\n\n\t\t\t\t\t<div className=\"request-count\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\tthis.props.user.requests[request.id].users\n\t\t\t\t\t\t\t).length\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"image-wrap\">{img}</div>\n\t\t\t\t\t<div className=\"text-wrap\">\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"title\"\n\t\t\t\t\t\t\ttitle={request.title || request.name}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{request.title || request.name}\n\t\t\t\t\t\t\t<span className=\"year\">\n\t\t\t\t\t\t\t\t{type === 'movie'\n\t\t\t\t\t\t\t\t\t? `(${new Date(\n\t\t\t\t\t\t\t\t\t\t\trequest.release_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear()})`\n\t\t\t\t\t\t\t\t\t: `(${new Date(\n\t\t\t\t\t\t\t\t\t\t\trequest.first_air_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear()} - ${new Date(\n\t\t\t\t\t\t\t\t\t\t\trequest.last_air_date\n\t\t\t\t\t\t\t\t\t  ).getFullYear()})`}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{this.props.user.current.admin ? (\n\t\t\t\t\t\t\t<p className=\"request-info\">\n\t\t\t\t\t\t\t\t{Object.keys(\n\t\t\t\t\t\t\t\t\tthis.props.user.requests[request.id].users\n\t\t\t\t\t\t\t\t).map((user) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.user.requests[\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest.id\n\t\t\t\t\t\t\t\t\t\t\t\t].users[user]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nRequestCard = withRouter(RequestCard);\n\nfunction RequestCardContainer(props) {\n\treturn (\n\t\t<RequestCard\n\t\t\ttmdb={props.tmdb}\n\t\t\tuser={props.user}\n\t\t\trequest={props.request}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\ttmdb: state.tmdb,\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(RequestCardContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport RequestCard from '../components/RequestCard';\nimport Carousel from '../components/Carousel';\n\nclass Requests extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trequests: false,\n\t\t\tloaded: false,\n\t\t};\n\n\t\tthis.getRequests = this.getRequests.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t\tthis.getRequests();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tlet requests = this.state.requests;\n\t\tif (!requests) {\n\t\t\tthis.getRequests();\n\t\t}\n\t}\n\n\tgetRequests() {\n\t\tlet requests = this.props.user.requests;\n\t\tif (!requests) return;\n\t\tthis.setState({\n\t\t\trequests: true,\n\t\t\tloaded: true,\n\t\t});\n\n\t\tObject.keys(requests).map((key) => {\n\t\t\tlet request = requests[key];\n\t\t\tif (request.type === 'movie') {\n\t\t\t\tMediabutler.movie(key);\n\t\t\t} else {\n\t\t\t\tMediabutler.series(key);\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\tif (!this.state.loaded) {\n\t\t\treturn (\n\t\t\t\t<div className=\"requests-page\">\n\t\t\t\t\t<h1 className=\"main-title\">Requests</h1>\n\t\t\t\t\t<div className=\"request-section\">\n\t\t\t\t\t\t<p className=\"sub-title\">Loading...</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tlet requests = this.props.user.requests;\n\t\tlet pending = Object.keys(requests).map((key) => {\n\t\t\tlet request = this.props.mediabutler.movie_lookup[key];\n\t\t\tif (requests[key].type === 'tv') {\n\t\t\t\trequest = this.props.mediabutler.series_lookup[key];\n\t\t\t}\n\t\t\tif (!request) return null;\n\t\t\treturn <RequestCard key={key} request={request} />;\n\t\t});\n\t\trequests = this.props.user.requests;\n\t\tconsole.log(requests);\n\t\tlet yourRequests = Object.keys(requests).map((key) => {\n\t\t\tlet request = this.props.mediabutler.movie_lookup[key];\n\t\t\tif (requests[key].type === 'tv') {\n\t\t\t\trequest = this.props.mediabutler.series_lookup[key];\n\t\t\t}\n\t\t\tlet user = this.props.user.current._id;\n\n\t\t\tif (!request || !requests[key].users.includes(user)) return null;\n\t\t\treturn <RequestCard key={key + '_your'} request={request} />;\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"requests-page\">\n\t\t\t\t<h1 className=\"main-title mb--1\">Requests</h1>\n\t\t\t\t<div className=\"request-section\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Pending Requests</h3>\n\t\t\t\t\t\t<Carousel>{pending}</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"request-section\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<h3 className=\"sub-title mb--1\">Your Requests</h3>\n\t\t\t\t\t\t<Carousel>{yourRequests}</Carousel>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nRequests = withRouter(Requests);\n\nfunction RequestsContainer(props) {\n\treturn <Requests mediabutler={props.mediabutler} user={props.user} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(RequestsContainer);\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Mediabutler from '../data/Mediabutler';\nimport Popular from '../components/Popular';\nimport History from '../components/History';\nimport ShowCard from '../components/TvCard';\nimport Carousel from '../components/Carousel';\n\nclass Shows extends React.Component {\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\n\t\tif (!Object.keys(this.props.mediabutler.popular).length > 0) {\n\t\t\tMediabutler.getPopular();\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h1 className=\"main-title mb--1\">TV Shows</h1>\n\t\t\t\t<Popular type=\"show\" />\n\t\t\t\t<History type=\"show\" />\n\t\t\t\t<section>\n\t\t\t\t\t<h3 className=\"sub-title mb--1\">Trending Shows</h3>\n\t\t\t\t\t<Carousel>\n\t\t\t\t\t\t{Object.keys(this.props.mediabutler.popular).length > 0\n\t\t\t\t\t\t\t? this.props.mediabutler.popular.tv.map((tv) => {\n\t\t\t\t\t\t\t\t\treturn <ShowCard key={tv.id} series={tv} />;\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: null}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</section>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nShows = withRouter(Shows);\n\nfunction MoviesContainer(props) {\n\treturn <Shows mediabutler={props.mediabutler} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tmediabutler: state.mediabutler,\n\t};\n};\n\nexport default connect(mapStateToProps)(MoviesContainer);\n","import React from 'react';\nimport {\n\tHashRouter,\n\tSwitch,\n\tRoute,\n\tLink,\n\twithRouter,\n\tuseHistory,\n} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Plex from './data/Plex';\nimport User from './data/User';\nimport Mediabutler from './data/Mediabutler';\nimport Sidebar from './components/Sidebar';\nimport ConfigSetup from './components/ConfigSetup';\nimport Search from './pages/Search';\nimport Series from './pages/Series';\nimport Season from './pages/Season';\nimport Movie from './pages/Movie';\nimport Actor from './pages/Actor';\nimport Issues from './components/Issues';\nimport Profile from './pages/Profile';\nimport Movies from './pages/Movies';\nimport Requests from './pages/Requests';\nimport Shows from './pages/Shows';\nimport { ReactComponent as Spinner } from './assets/svg/spinner.svg';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmb_login: false,\n\t\t\tactiveServerCheck: false,\n\t\t\tissuesOpen: false,\n\t\t\tadminLogin: false,\n\t\t\tisLoggedIn: this.props.user.logged_in,\n\t\t\tisAdmin: false,\n\t\t\tloading: false,\n\t\t};\n\n\t\tthis.openIssues = this.openIssues.bind(this);\n\t\tthis.closeIssues = this.closeIssues.bind(this);\n\t\tthis.adminToggle = this.adminToggle.bind(this);\n\t\tthis.loginForm = this.loginForm.bind(this);\n\t\tthis.inputChange = this.inputChange.bind(this);\n\t\t// this.getLibraries = this.getLibraries.bind(this);\n\t\tthis.logout = this.logout.bind(this);\n\t}\n\n\tinputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tlet value = target.value;\n\n\t\tthis.setState({\n\t\t\t[name]: value,\n\t\t});\n\t}\n\n\tloginForm(e) {\n\t\te.preventDefault();\n\t\tlet username = this.state.username;\n\t\tlet password = this.state.password;\n\t\tlet admin = this.state.adminLogin;\n\n\t\tthis.login(username, password);\n\t}\n\n\tlogin(username, password, cookie = false, admin = false) {\n\t\tif (!this.props.user.credentials) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.state.adminLogin) {\n\t\t\tadmin = true;\n\t\t}\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t});\n\t\tUser.login(username, password, cookie, admin)\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloading: false,\n\t\t\t\t});\n\t\t\t\tif (res.error) {\n\t\t\t\t\talert(res.error);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (res.loggedIn) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoggedIn: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (res.admin) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisAdmin: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tUser.getRequests();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\talert(\n\t\t\t\t\t'There has been an error, Petio may be temporarily unavailable'\n\t\t\t\t);\n\t\t\t\tlocalStorage.removeItem('loggedin');\n\t\t\t});\n\t}\n\n\tadminToggle() {\n\t\tthis.setState({\n\t\t\tadminLogin: this.state.adminLogin ? false : true,\n\t\t});\n\t}\n\n\tlogout() {\n\t\tlocalStorage.removeItem('loggedin');\n\t\tlocalStorage.removeItem('adminloggedin');\n\t\tUser.logout();\n\t\tthis.setState({\n\t\t\tisLoggedIn: false,\n\t\t\tisAdmin: false,\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\t// if (this.props.user.credentials) {\n\t\t// \tthis.loginLocal();\n\t\t// }\n\t\t// if (\n\t\t// \t!this.props.mediabutler.logged_in &&\n\t\t// \tthis.props.plex.token &&\n\t\t// \t!this.state.mb_login\n\t\t// ) {\n\t\t// \tthis.loginMb();\n\t\t// }\n\t\t// if (\n\t\t// \tthis.props.mediabutler.servers &&\n\t\t// \tthis.props.mediabutler.config &&\n\t\t// \t!this.state.activeServerCheck\n\t\t// ) {\n\t\t// \tthis.setState({\n\t\t// \t\tactiveServerCheck: true,\n\t\t// \t});\n\t\t// \tMediabutler.activeServer(\n\t\t// \t\tthis.props.mediabutler.servers,\n\t\t// \t\tthis.props.mediabutler.config\n\t\t// \t);\n\t\t// }\n\t}\n\n\tloginLocal() {\n\t\tif (localStorage.getItem('loggedin')) {\n\t\t\tif (this.props.user.credentials) {\n\t\t\t\tif (localStorage.getItem('adminloggedin') === 'true') {\n\t\t\t\t\tthis.login('', false, true, true);\n\t\t\t\t} else {\n\t\t\t\t\tthis.login('', false, true, false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.loginLocal();\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t}\n\n\topenIssues() {\n\t\tthis.setState({\n\t\t\topenIssues: true,\n\t\t});\n\t}\n\n\tcloseIssues() {\n\t\tthis.setState({\n\t\t\topenIssues: false,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\t// if (this.props.user.credentials) {\n\n\t\t// }\n\t\tthis.loginLocal();\n\t\tif (this.state.openIssues) {\n\t\t\tthis.setState({\n\t\t\t\topenIssues: false,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet user = this.props.mediabutler.current_user;\n\t\tif (!this.state.isLoggedIn) {\n\t\t\treturn (\n\t\t\t\t<div className=\"login-wrap\">\n\t\t\t\t\t{!this.state.loading || !this.props.user.credentials ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"login--inner\">\n\t\t\t\t\t\t\t\t<h1 className=\"logo\">\n\t\t\t\t\t\t\t\t\tPet<span>io</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<p className=\"main-title\">\n\t\t\t\t\t\t\t\t\t{!this.state.adminLogin\n\t\t\t\t\t\t\t\t\t\t? 'Login'\n\t\t\t\t\t\t\t\t\t\t: 'Admin Login'}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>Log in with your Plex username</p>\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tonSubmit={this.loginForm}\n\t\t\t\t\t\t\t\t\tautoComplete=\"on\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tUsername -{' '}\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"admin-toggle\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.adminToggle}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.adminLogin\n\t\t\t\t\t\t\t\t\t\t\t\t? 'Admin?'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'Not Admin?'}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.username}\n\t\t\t\t\t\t\t\t\t\tonChange={this.inputChange}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{this.state.adminLogin ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<p>Password</p>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.inputChange}\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<button className=\"btn\">Login</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"powered-by\">\n\t\t\t\t\t\t\t\tPetio build (alpha) 0.1.7\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"spinner\">\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"page\">\n\t\t\t\t\t<HashRouter>\n\t\t\t\t\t\t<div className=\"sidebar\">\n\t\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Search />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/user\">\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Profile logout={this.logout} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/movie/:id\">\n\t\t\t\t\t\t\t\t<Issues\n\t\t\t\t\t\t\t\t\topen={this.state.openIssues}\n\t\t\t\t\t\t\t\t\tclose={this.closeIssues}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Movie openIssues={this.openIssues} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/series/:id\">\n\t\t\t\t\t\t\t\t<Issues\n\t\t\t\t\t\t\t\t\topen={this.state.openIssues}\n\t\t\t\t\t\t\t\t\tclose={this.closeIssues}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Series openIssues={this.openIssues} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/series/:id/season/:season\">\n\t\t\t\t\t\t\t\t<Issues\n\t\t\t\t\t\t\t\t\topen={this.state.openIssues}\n\t\t\t\t\t\t\t\t\tclose={this.closeIssues}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Season openIssues={this.openIssues} />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route path=\"/person/:id\">\n\t\t\t\t\t\t\t\t<Actor />\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/requests\">\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Requests />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t{/* discovery pages */}\n\t\t\t\t\t\t\t<Route exact path=\"/movies\">\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Movies />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/tv\">\n\t\t\t\t\t\t\t\t<div className=\"page-wrap\">\n\t\t\t\t\t\t\t\t\t<Shows />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</HashRouter>\n\t\t\t\t\t{!this.props.mediabutler.config ? <ConfigSetup /> : null}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nfunction AppContainer(props) {\n\treturn (\n\t\t<App\n\t\t\tplex={props.plex}\n\t\t\tmediabutler={props.mediabutler}\n\t\t\tuser={props.user}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tplex: state.plex,\n\t\tmediabutler: state.mediabutler,\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(AppContainer);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { initStore, store } from './data/store';\nimport { Provider } from 'react-redux';\nimport './styles/main.scss';\nimport { initAuth } from './data/auth';\n\nconst startApp = () => {\n\tinitStore();\n\tinitAuth();\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t);\n};\n\nif (!window.cordova) {\n\tstartApp();\n} else {\n\tdocument.addEventListener('deviceready', startApp, false);\n}\nserviceWorker.unregister();\n"],"sourceRoot":""}