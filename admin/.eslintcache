[{"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Setup.js":"1","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/api.js":"2","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Cpu.js":"3","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/api.js":"4","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/api.js":"5","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Dashboard.js":"6","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/reducer.js":"7","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/RequestCard.js":"8","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Ram.js":"9","/Users/ashleydyson/Documents/Petio/petio/admin/src/index.js":"10","/Users/ashleydyson/Documents/Petio/petio/admin/src/App.js":"11","/Users/ashleydyson/Documents/Petio/petio/admin/src/serviceWorker.js":"12","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/store.js":"13","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Sidebar.js":"14","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Login.js":"15","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Settings.js":"16","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/reducers.js":"17","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/index.js":"18","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/CarouselLoading.js":"19","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Carousel.js":"20","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Bandwidth.js":"21","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Sessions.js":"22","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/reducer.js":"23","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/reducer.js":"24","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/radarr.js":"25","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/general.js":"26","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/sonarr.js":"27","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/actions.js":"28","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/index.js":"29","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/index.js":"30","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/SessionMedia.js":"31","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/actionTypes.js":"32","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/actions.js":"33","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/actions.js":"34","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/MovieCard.js":"35","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/TvCard.js":"36","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Requests.js":"37","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/RequestsTable.js":"38","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/modal.js":"39","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Users.js":"40","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Modal.js":"41","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/users/Profiles.js":"42"},{"size":13935,"mtime":1612377889822,"results":"43","hashOfConfig":"44"},{"size":1584,"mtime":1610992915039,"results":"45","hashOfConfig":"44"},{"size":1350,"mtime":1607428895037,"results":"46","hashOfConfig":"44"},{"size":9124,"mtime":1611776305437,"results":"47","hashOfConfig":"44"},{"size":1254,"mtime":1610985553212,"results":"48","hashOfConfig":"44"},{"size":8359,"mtime":1610985566350,"results":"49","hashOfConfig":"44"},{"size":578,"mtime":1610296650398,"results":"50","hashOfConfig":"44"},{"size":2067,"mtime":1610985786120,"results":"51","hashOfConfig":"44"},{"size":1409,"mtime":1607428895037,"results":"52","hashOfConfig":"44"},{"size":569,"mtime":1607707386861,"results":"53","hashOfConfig":"44"},{"size":4957,"mtime":1611923629879,"results":"54","hashOfConfig":"44"},{"size":5086,"mtime":1607428895043,"results":"55","hashOfConfig":"44"},{"size":376,"mtime":1607428895041,"results":"56","hashOfConfig":"44"},{"size":4255,"mtime":1611922998354,"results":"57","hashOfConfig":"44"},{"size":3240,"mtime":1612377862734,"results":"58","hashOfConfig":"44"},{"size":2474,"mtime":1612176072566,"results":"59","hashOfConfig":"44"},{"size":236,"mtime":1607428895041,"results":"60","hashOfConfig":"44"},{"size":1148,"mtime":1611776349930,"results":"61","hashOfConfig":"44"},{"size":1744,"mtime":1607428895036,"results":"62","hashOfConfig":"44"},{"size":292,"mtime":1607428895036,"results":"63","hashOfConfig":"44"},{"size":1707,"mtime":1607428895036,"results":"64","hashOfConfig":"44"},{"size":7495,"mtime":1612369313022,"results":"65","hashOfConfig":"44"},{"size":703,"mtime":1608131361372,"results":"66","hashOfConfig":"44"},{"size":3519,"mtime":1609944869698,"results":"67","hashOfConfig":"44"},{"size":14316,"mtime":1611919826407,"results":"68","hashOfConfig":"44"},{"size":6316,"mtime":1611920567836,"results":"69","hashOfConfig":"44"},{"size":14231,"mtime":1611926667418,"results":"70","hashOfConfig":"44"},{"size":10720,"mtime":1611776323153,"results":"71","hashOfConfig":"44"},{"size":108,"mtime":1607428895042,"results":"72","hashOfConfig":"44"},{"size":70,"mtime":1607428895041,"results":"73","hashOfConfig":"44"},{"size":3152,"mtime":1607428895038,"results":"74","hashOfConfig":"44"},{"size":763,"mtime":1610296298852,"results":"75","hashOfConfig":"44"},{"size":1891,"mtime":1610985510262,"results":"76","hashOfConfig":"44"},{"size":4457,"mtime":1612374673581,"results":"77","hashOfConfig":"44"},{"size":3682,"mtime":1607428895037,"results":"78","hashOfConfig":"44"},{"size":3631,"mtime":1607428895039,"results":"79","hashOfConfig":"44"},{"size":13667,"mtime":1611782929715,"results":"80","hashOfConfig":"44"},{"size":11212,"mtime":1611764211161,"results":"81","hashOfConfig":"44"},{"size":4976,"mtime":1611857688021,"results":"82","hashOfConfig":"44"},{"size":16247,"mtime":1611251255913,"results":"83","hashOfConfig":"44"},{"size":1299,"mtime":1611769679524,"results":"84","hashOfConfig":"44"},{"size":9668,"mtime":1612176485541,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"xc4gh7",{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"90"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"90"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"90"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"90"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"90"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"90"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"90"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"90"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"90"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"90"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"90"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"90"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"149","usedDeprecatedRules":"90"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"90"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"90"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158","usedDeprecatedRules":"90"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"90"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"90"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167","usedDeprecatedRules":"90"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"90"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"183","usedDeprecatedRules":"90"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"186","messages":"187","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188","usedDeprecatedRules":"90"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"90"},"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Setup.js",["194","195"],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/api.js",[],["196","197"],"/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Cpu.js",["198"],"import React from 'react';\nimport {\n\tLineChart,\n\tLine,\n\tXAxis,\n\tYAxis,\n\tCartesianGrid,\n\tTooltip,\n\tLegend,\n\tResponsiveContainer,\n} from 'recharts';\n\nclass Cpu extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tlet height = window.innerWidth >= 992 ? 300 : 200;\n\t\tlet margin =\n\t\t\twindow.innerWidth >= 992\n\t\t\t\t? { top: 10, right: 0, left: -40, bottom: 0 }\n\t\t\t\t: { top: 10, right: 0, left: -60, bottom: 0 };\n\t\tconst formatter = (value) => value;\n\t\treturn (\n\t\t\t<ResponsiveContainer width=\"100%\" height={height}>\n\t\t\t\t<LineChart data={this.props.cpu} margin={margin}>\n\t\t\t\t\t<XAxis dataKey=\"at\" />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttickFormatter={formatter}\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tticks={[0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]}\n\t\t\t\t\t\tinterval={0}\n\t\t\t\t\t/>\n\t\t\t\t\t<CartesianGrid />\n\t\t\t\t\t<Tooltip />\n\t\t\t\t\t<Legend iconType=\"circle\" align=\"right\" />\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"processCpuUtilization\"\n\t\t\t\t\t\tstroke=\"#9ad186\"\n\t\t\t\t\t\tdot={false}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tactiveDot={{ r: 8 }}\n\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t\tname=\"Plex\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"hostCpuUtilization\"\n\t\t\t\t\t\tstroke=\"#f1335e\"\n\t\t\t\t\t\tdot={false}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t\tname=\"System\"\n\t\t\t\t\t/>\n\t\t\t\t</LineChart>\n\t\t\t</ResponsiveContainer>\n\t\t);\n\t}\n}\n\nexport default Cpu;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/api.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/api.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Dashboard.js",["199","200","201","202","203","204"],"import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\nimport User from \"../data/User\";\nimport Carousel from \"../components/Carousel\";\nimport CarouselLoading from \"../components/CarouselLoading\";\nimport RequestCard from \"../components/RequestCard\";\nimport Bandwidth from \"../components/Bandwidth\";\nimport Cpu from \"../components/Cpu\";\nimport Ram from \"../components/Ram\";\nimport Sessions from \"../components/Sessions\";\n\nNumber.prototype.round = function (places) {\n  return +(Math.round(this + \"e+\" + places) + \"e-\" + places);\n};\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      requests: false,\n      pending: false,\n      bandwidth: false,\n      serverInfo: false,\n      sessions: false,\n      sessionsCollapsed: true,\n      issues: false,\n    };\n\n    this.getRequests = this.getRequests.bind(this);\n    this.toggleSessions = this.toggleSessions.bind(this);\n    this.getIssues = this.getIssues.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.state.pending && !this.state.requests) {\n      this.getRequests();\n    }\n    this.pollServer();\n    this.pollServerDelay();\n    this.getIssues();\n    this.heartbeat = setInterval(() => this.pollServer(), 1000);\n    this.heartbeatDelay = setInterval(() => this.pollServerDelay(), 10000);\n\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n  }\n\n  componentDidUpdate() {\n    if (!this.state.pending && !this.state.requests) {\n      this.getRequests();\n    }\n  }\n\n  async getIssues() {\n    let issues = await Api.getIssues();\n    this.setState({\n      issues: issues,\n    });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.heartbeat);\n    clearInterval(this.heartbeatDelay);\n  }\n\n  timeDifference(previous) {\n    let now = new Date();\n    let current = Math.round(now.getTime() / 1000);\n    previous = new Date(previous);\n    var msPerMinute = 60;\n    var msPerHour = msPerMinute * 60;\n    var msPerDay = msPerHour * 24;\n\n    var elapsed = current - previous;\n\n    // return elapsed;\n\n    if (elapsed < msPerMinute) {\n      return Math.round(elapsed) + \"s\";\n    } else if (elapsed < msPerHour) {\n      let minutes = Math.floor(elapsed / msPerMinute);\n      let seconds = elapsed - minutes * 60;\n      if (minutes === 2 && seconds > 1) return false;\n      return `${minutes}m${seconds}s`;\n    } else {\n      return current;\n    }\n  }\n\n  pollServer() {\n    Api.bandwidth()\n      .then((res) => {\n        // console.log(res);\n        let data = {};\n        let bWidth = [];\n        res.forEach((el) => {\n          let type = el[\"lan\"] ? \"Local\" : \"Remote\";\n          let timestamp = el[\"at\"];\n          if (data[timestamp]) {\n            data[timestamp][type] += el[\"bytes\"] * 8;\n          } else {\n            let time = this.timeDifference(timestamp);\n            if (!time) return;\n            data[timestamp] = {};\n            data[timestamp].name = time;\n            data[timestamp].Local = 0;\n            data[timestamp].Remote = 0;\n            data[timestamp][type] = el[\"bytes\"] * 8;\n          }\n        });\n        Object.keys(data).map((key) => {\n          bWidth.push(data[key]);\n        });\n\n        this.setState({\n          bandwidth: bWidth,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        clearInterval(this.heartbeat);\n      });\n  }\n\n  pollServerDelay() {\n    Api.serverInfo()\n      .then((res) => {\n        let data = res.StatisticsResources;\n        let dataFormatted = [];\n        data.map((item) => {\n          let time = this.timeDifference(item.at);\n          item.at = time;\n          if (time) {\n            dataFormatted.push(item);\n          }\n        });\n\n        this.setState({\n          serverInfo: dataFormatted,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        // clearInterval(this.heartbeatDelay);\n      });\n\n    Api.currentSessions()\n      .then((res) => {\n        this.setState({\n          sessions: res.Metadata,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        // clearInterval(this.heartbeatDelay);\n      });\n  }\n\n  toggleSessions() {\n    this.setState({\n      sessionsCollapsed: this.state.sessionsCollapsed ? false : true,\n    });\n  }\n\n  getRequests() {\n    let requests = this.props.user.requests;\n    if (!requests) {\n      User.getRequests(true);\n    } else {\n      this.setState({\n        requests: true,\n        pending: true,\n      });\n\n      Object.keys(requests).map((key) => {\n        let request = requests[key];\n        if (request.type === \"movie\") {\n          Api.movie(key);\n        } else {\n          Api.series(key);\n        }\n      });\n\n      this.setState({\n        pending: false,\n      });\n    }\n  }\n\n  formatIssue(issue) {\n    switch (issue) {\n      case \"episodes\":\n        return \"Missing Episodes\";\n      case \"subs\":\n        return \"Missing / Wrong Subtitles\";\n      case \"bad-video\":\n        return \"Bad Quality / Video Issue\";\n      case \"bad-audio\":\n        return \"Audio Issue / Audio Sync\";\n      default:\n        return \"Not Specified\";\n    }\n  }\n\n  render() {\n    let requests = this.props.user.requests;\n    return (\n      <div className=\"widget--board\">\n        <div className=\"widget--item widget--item__30\">\n          <div className=\"widget--item--inner\">\n            <div className=\"widget--title\">Bandwidth</div>\n            <hr />\n            {this.state.bandwidth ? <Bandwidth bandwidth={this.state.bandwidth} /> : null}\n          </div>\n        </div>\n        <div className=\"widget--item widget--item__30\">\n          <div className=\"widget--item--inner\">\n            <div className=\"widget--title\">CPU</div>\n            <hr />\n            {this.state.serverInfo ? <Cpu cpu={this.state.serverInfo} /> : null}\n          </div>\n        </div>\n        <div className=\"widget--item widget--item__30\">\n          <div className=\"widget--item--inner\">\n            <div className=\"widget--title\">RAM</div>\n            <hr />\n            {this.state.serverInfo ? <Ram ram={this.state.serverInfo} /> : null}\n          </div>\n        </div>\n        <div className=\"widget--item\">\n          <div className=\"widget--item--inner\">\n            <div className=\"widget--title\">Requests</div>\n            <hr />\n            {!requests ? (\n              <CarouselLoading />\n            ) : (\n              <Carousel>\n                {Object.keys(requests).map((key) => {\n                  let request = this.props.api.movie_lookup[key];\n                  let users = requests[key].users;\n                  if (requests[key].type === \"tv\") {\n                    request = this.props.api.series_lookup[key];\n                  }\n                  if (!request) return null;\n                  return <RequestCard key={key} users={users} request={request} />;\n                })}\n              </Carousel>\n            )}\n          </div>\n        </div>\n\n        <div className={\"widget--item widget--item__50 \" + (this.state.sessionsCollapsed ? \"collapsed\" : \"\")}>\n          <div className=\"widget--item--inner\">\n            <div className=\"session--toggle\" onClick={this.toggleSessions}>\n              {this.state.sessionsCollapsed ? \"Details\" : \"Overview\"}\n            </div>\n            <div className=\"widget--title\">Now Playing</div>\n            <hr />\n            <Sessions sessions={this.state.sessions} />\n          </div>\n        </div>\n        <div className=\"widget--item widget--item__50\">\n          <div className=\"widget--item--inner\">\n            <div className=\"widget--title\">Issues</div>\n            <hr />\n            {this.state.issues.length > 0 ? (\n              this.state.issues.map((issue) => {\n                return (\n                  <div className=\"issue-item\" key={`issue_${issue._id}`}>\n                    <p className=\"issue-item--title\">{issue.title}</p>\n                    <p className=\"issue-item--detail\">\n                      <span>Issue:</span> {this.formatIssue(issue.issue)}\n                    </p>\n                    <p className=\"issue-item--detail\">\n                      <span>Comment:</span> {issue.comment}\n                    </p>\n                  </div>\n                );\n              })\n            ) : (\n              <p>No issues</p>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/reducer.js",["205"],"import * as types from \"../actionTypes\";\n\nexport default function (\n  state = {\n    token: false,\n  },\n  action\n) {\n  switch (action.type) {\n    case types.PLEX_TOKEN:\n      return {\n        ...state,\n        token: action.token,\n      };\n    case types.PLEX_DETAILS:\n      return {\n        ...state,\n        servers: action.servers,\n        user: action.user,\n      };\n\n    case types.PLEX_SERVER:\n      return {\n        ...state,\n        servers: {\n          ...state.servers,\n          [action.key]: action.server,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/RequestCard.js",["206"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nclass RequestCard extends React.Component {\n  render() {\n    let request = this.props.request;\n    if (!request) {\n      return null;\n    }\n    let img = request.poster_path ? <img src={`https://image.tmdb.org/t/p/w200/${request.poster_path}`} alt={request.title} /> : <div className=\"no-poster\"></div>;\n    let type = this.props.user.requests[request.id].type;\n\n    return (\n      <div key={request.id} data-key={request.id} className={\"card type--movie-tv\"}>\n        <div className=\"card--inner\">\n          <Link to={`/${type === \"tv\" ? \"series\" : \"movie\"}/${request.id}`} className=\"full-link\"></Link>\n\n          <div className=\"request-count\">{Object.keys(this.props.user.requests[request.id].users).length}</div>\n\n          <div className=\"image-wrap\">\n            {img}\n            <div className=\"request-users\">\n              {this.props.users.map((user_id) => {\n                return (\n                  <div className=\"request-user\">\n                    <div className=\"user-thumb\">\n                      <img src={`/api/user/thumb/${user_id}`} />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"text-wrap\">\n            <p className=\"title\" title={request.title || request.name}>\n              {request.title || request.name}\n              <span className=\"year\">{type === \"movie\" ? `(${new Date(request.release_date).getFullYear()})` : `(${new Date(request.first_air_date).getFullYear()})`}</span>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nRequestCard = withRouter(RequestCard);\n\nfunction RequestCardContainer(props) {\n  return <RequestCard tmdb={props.tmdb} user={props.user} users={props.users} request={props.request} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    tmdb: state.tmdb,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(RequestCardContainer);\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Ram.js",["207"],"import React from 'react';\nimport {\n\tLineChart,\n\tLine,\n\tXAxis,\n\tYAxis,\n\tCartesianGrid,\n\tTooltip,\n\tLegend,\n\tResponsiveContainer,\n} from 'recharts';\n\nclass Ram extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tlet height = window.innerWidth >= 992 ? 300 : 200;\n\t\tlet margin =\n\t\t\twindow.innerWidth >= 992\n\t\t\t\t? { top: 10, right: 0, left: -40, bottom: 0 }\n\t\t\t\t: { top: 10, right: 0, left: -60, bottom: 0 };\n\t\tconst formatter = (value) => value;\n\t\treturn (\n\t\t\t<ResponsiveContainer width=\"100%\" height={height}>\n\t\t\t\t<LineChart data={this.props.ram} margin={margin}>\n\t\t\t\t\t<XAxis dataKey=\"at\" />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttickFormatter={formatter}\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tticks={[0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]}\n\t\t\t\t\t\tinterval={0}\n\t\t\t\t\t\ttick={window.innerWidth >= 992 ? true : false}\n\t\t\t\t\t/>\n\t\t\t\t\t<CartesianGrid />\n\t\t\t\t\t<Tooltip />\n\t\t\t\t\t<Legend iconType=\"circle\" align=\"right\" />\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"processMemoryUtilization\"\n\t\t\t\t\t\tstroke=\"#33f1c5\"\n\t\t\t\t\t\tdot={false}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tactiveDot={{ r: 8 }}\n\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t\tname=\"Plex\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"hostMemoryUtilization\"\n\t\t\t\t\t\tstroke=\"#bd86d1\"\n\t\t\t\t\t\tdot={false}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t\tname=\"System\"\n\t\t\t\t\t/>\n\t\t\t\t</LineChart>\n\t\t\t</ResponsiveContainer>\n\t\t);\n\t}\n}\n\nexport default Ram;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/index.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/App.js",["208","209","210"],"import React from \"react\";\nimport { HashRouter, Switch, Route, Link, withRouter, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Sidebar from \"./components/Sidebar\";\nimport Login from \"./components/Login\";\nimport Dashboard from \"./page/Dashboard\";\nimport { ReactComponent as Spinner } from \"./assets/svg/spinner.svg\";\nimport Api from \"./data/Api\";\nimport Setup from \"./page/Setup\";\nimport Settings from \"./page/Settings\";\nimport Requests from \"./page/Requests\";\nimport Users from \"./page/Users\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: false,\n      loading: true,\n      config: false,\n      configChecked: true,\n      mobMenuOpen: true,\n    };\n\n    this.changeLogin = this.changeLogin.bind(this);\n    this.checkConfig = this.checkConfig.bind(this);\n    this.toggleMobMenu = this.toggleMobMenu.bind(this);\n  }\n\n  toggleMobMenu() {\n    this.setState({\n      mobMenuOpen: this.state.mobMenuOpen ? false : true,\n    });\n  }\n\n  checkConfig() {\n    this.setState({\n      configChecked: true,\n    });\n    Api.checkConfig()\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          config: res.config,\n          loading: false,\n        });\n      })\n      .catch(() => {\n        this.setState({\n          error: true,\n          loading: false,\n        });\n      });\n  }\n\n  changeLogin(value) {\n    this.setState({\n      isLoggedIn: value,\n    });\n  }\n\n  componentDidUpdate() {\n    if (!this.state.config && !this.state.configChecked) {\n      this.checkConfig();\n    }\n    if (this.state.isLoggedIn && Object.keys(this.props.api.users).length === 0) {\n      Api.allUsers();\n    }\n  }\n\n  componentDidMount() {\n    this.checkConfig();\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <div className=\"app\">\n          <div className=\"setup--wrap\">\n            <p className=\"main-title\">Error</p>\n            <p>Something's wrong...</p>\n            <p>Ok, you've managed to get the admin front end to load. But it looks like the API service isn't accessible.</p>\n            <p>\n              Please make sure the API service has started and is still running without any errors. Just finished the setup wizard? If the API can't connect to the DB it will reject the configuration\n              and needs a restart, so check the logs.\n            </p>\n            <p>Still stuck? Please report your issue to the dev team on discord and we will do our best to help you!</p>\n          </div>\n        </div>\n      );\n    }\n    if (this.state.loading) {\n      return (\n        <div className=\"spinner\">\n          <Spinner />\n        </div>\n      );\n    }\n    if (this.state.config === false) {\n      return (\n        <div className=\"app\">\n          <div className=\"page-wrap\">\n            <Setup checkConfig={this.checkConfig} />\n          </div>\n        </div>\n      );\n    }\n    if (!this.state.isLoggedIn) {\n      return (\n        <div className=\"app\">\n          <Login logged_in={this.state.isLoggedIn} changeLogin={this.changeLogin} />\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"app\">\n          <HashRouter>\n            <div className=\"mob-menu-top\">\n              <div className=\"logo-wrap\">\n                <div className=\"logo\">\n                  Pet<span>io</span>\n                </div>\n              </div>\n              <button className={`nav-toggle ${this.state.mobMenuOpen ? \"active\" : \"\"}`} onClick={this.toggleMobMenu}>\n                <span></span>\n                <span></span>\n                <span></span>\n              </button>\n            </div>\n            <Sidebar mobOpen={this.state.mobMenuOpen} changeLogin={this.changeLogin} />\n            <div className=\"view\">\n              <Switch>\n                <Route exact path=\"/\">\n                  <div className=\"page-wrap\">\n                    <Dashboard user={this.props.user} api={this.props.api} />\n                  </div>\n                </Route>\n                <Route path=\"/settings\">\n                  <div className=\"page-wrap\">\n                    <Settings />\n                  </div>\n                </Route>\n                <Route path=\"/requests\">\n                  <div className=\"page-wrap\">\n                    <Requests user={this.props.user} api={this.props.api} />\n                  </div>\n                </Route>\n                <Route path=\"/users\">\n                  <div className=\"page-wrap\">\n                    <Users api={this.props.api} />\n                  </div>\n                </Route>\n              </Switch>\n            </div>\n          </HashRouter>\n        </div>\n      );\n    }\n  }\n}\n\nfunction AppContainer(props) {\n  return <App plex={props.plex} api={props.api} user={props.user} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    plex: state.plex,\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(AppContainer);\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/serviceWorker.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/store.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Sidebar.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Login.js",["211","212"],"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Settings.js",["213","214"],"import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link, Switch, Route } from \"react-router-dom\";\n\nimport { ReactComponent as GeneralIcon } from \"../assets/svg/settings-general.svg\";\nimport General from \"./settings/general\";\nimport Radarr from \"./settings/radarr\";\nimport Sonarr from \"./settings/sonarr\";\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      parent: \"general\",\n      child: \"\",\n    };\n  }\n\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    let current = this.props.location.pathname;\n    return (\n      <div className=\"settings--wrap\">\n        <div className=\"settings--menu\">\n          <Link to=\"/settings\" className={\"settings--menu--item \" + (current === \"/settings\" ? \"active\" : \"\")}>\n            <p>General</p>\n            <div className=\"icon\">\n              <GeneralIcon />\n            </div>\n          </Link>\n          <Link to=\"/settings/radarr\" className={\"settings--menu--item \" + (current === \"/settings/radarr\" ? \"active\" : \"\")}>\n            <p>Radarr</p>\n            <div className=\"icon\">\n              <img className=\"png-safe\" src=\"https://avatars1.githubusercontent.com/u/25025331\" />\n            </div>\n          </Link>\n          <Link to=\"/settings/sonarr\" className={\"settings--menu--item \" + (current === \"/settings/sonarr\" ? \"active\" : \"\")}>\n            <p>Sonarr</p>\n            <div className=\"icon\">\n              <img className=\"\" src=\"https://raw.githubusercontent.com/Sonarr/Sonarr/phantom-develop/Logo/256.png\" />\n            </div>\n          </Link>\n        </div>\n        <div className=\"settings--content\">\n          <Switch>\n            <Route exact path=\"/settings\">\n              <General />\n            </Route>\n            <Route path=\"/settings/radarr\">\n              <Radarr />\n            </Route>\n            <Route path=\"/settings/sonarr\">\n              <Sonarr />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nSettings = withRouter(Settings);\n\nfunction SettingsContainer(props) {\n  return <Settings plex={props.plex} api={props.api} user={props.user} checkConfig={props.checkConfig} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    plex: state.plex,\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(SettingsContainer);\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/reducers.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/index.js",["215"],"import {\n  getPopular,\n  movie,\n  series,\n  search,\n  clearSearch,\n  person,\n  top,\n  history,\n  get_plex_media,\n  bandwidth,\n  serverInfo,\n  currentSessions,\n  checkConfig,\n  saveConfig,\n  sonarrConfig,\n  sonarrOptions,\n  saveSonarrConfig,\n  saveRadarrConfig,\n  radarrConfig,\n  radarrOptions,\n  testSonarr,\n  testRadarr,\n  saveEmailConfig,\n  getEmailConfig,\n  testEmail,\n  getUser,\n  allUsers,\n  testMongo,\n  getIssues,\n  createUser,\n  getProfiles,\n  saveProfile,\n  deleteProfile,\n  editUser,\n  bulkEditUser,\n  deleteUser,\n  removeRequest,\n  updateRequest,\n} from \"./actions\";\n\nexport default {\n  getPopular,\n  movie,\n  series,\n  search,\n  clearSearch,\n  person,\n  top,\n  history,\n  get_plex_media,\n  bandwidth,\n  serverInfo,\n  currentSessions,\n  checkConfig,\n  saveConfig,\n  sonarrConfig,\n  sonarrOptions,\n  saveSonarrConfig,\n  saveRadarrConfig,\n  radarrConfig,\n  radarrOptions,\n  testSonarr,\n  testRadarr,\n  saveEmailConfig,\n  getEmailConfig,\n  testEmail,\n  getUser,\n  allUsers,\n  testMongo,\n  getIssues,\n  createUser,\n  getProfiles,\n  saveProfile,\n  deleteProfile,\n  editUser,\n  bulkEditUser,\n  deleteUser,\n  removeRequest,\n  updateRequest,\n};\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/CarouselLoading.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Carousel.js",["216"],"import React from 'react';\n\nconst widths = {\n\tsmall: 0,\n\tmedium: 0,\n\tlarge: 160,\n};\n\nclass Carousel extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={`carousel`}>\n\t\t\t\t<div className=\"carousel--inner\">{this.props.children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Carousel;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Bandwidth.js",["217"],"import React from 'react';\nimport {\n\tLineChart,\n\tLine,\n\tXAxis,\n\tYAxis,\n\tCartesianGrid,\n\tTooltip,\n\tLegend,\n\tResponsiveContainer,\n} from 'recharts';\n\nclass Bandwidth extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tformatBytes(bytes, decimals = 2) {\n\t\tif (bytes === 0) return '';\n\n\t\tconst k = 1000;\n\t\tconst dm = decimals < 0 ? 0 : decimals;\n\t\tconst sizes = [\n\t\t\t'bps',\n\t\t\t'kbps',\n\t\t\t'mbps',\n\t\t\t'gbps',\n\t\t\t'tbps',\n\t\t\t'pbps',\n\t\t\t'-',\n\t\t\t'-',\n\t\t\t'-',\n\t\t];\n\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\n\t\treturn parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + sizes[i];\n\t}\n\n\trender() {\n\t\tlet height = window.innerWidth >= 992 ? 300 : 200;\n\t\tlet margin =\n\t\t\twindow.innerWidth >= 992\n\t\t\t\t? { top: 10, right: 0, left: -15, bottom: 0 }\n\t\t\t\t: { top: 10, right: 0, left: -60, bottom: 0 };\n\t\tconst formatter = (value) => `${this.formatBytes(value)}`;\n\t\t// const formatter = (value) => value;\n\t\treturn (\n\t\t\t<ResponsiveContainer width=\"100%\" height={height}>\n\t\t\t\t<LineChart data={this.props.bandwidth} margin={margin}>\n\t\t\t\t\t<XAxis\n\t\t\t\t\t\tdataKey=\"name\"\n\t\t\t\t\t\tticks={['2m0s', '1m30s', '1m0s', '30s', '0s']}\n\t\t\t\t\t/>\n\t\t\t\t\t<YAxis tickFormatter={formatter} allowDecimals={false} />\n\t\t\t\t\t<CartesianGrid />\n\t\t\t\t\t<Legend iconType=\"circle\" align=\"right\" />\n\t\t\t\t\t<Tooltip />\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"Local\"\n\t\t\t\t\t\tstroke=\"#e69f23\"\n\t\t\t\t\t\tdot={false}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t\tactiveDot={{ r: 8 }}\n\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t/>\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"Remote\"\n\t\t\t\t\t\tstroke=\"#366dfc\"\n\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t\tdot={false}\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t/>\n\t\t\t\t</LineChart>\n\t\t\t</ResponsiveContainer>\n\t\t);\n\t}\n}\n\nexport default Bandwidth;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Sessions.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/reducer.js",["218"],"import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\tcurrent: false,\n\t\tlogged_in: false,\n\t\tlibrary_index: false,\n\t\temail: false,\n\t\trequests: false,\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.LOGIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent: action.data.user,\n\t\t\t\tlogged_in: true,\n\t\t\t};\n\n\t\tcase types.LOGOUT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent: false,\n\t\t\t\tlogged_in: false,\n\t\t\t\tcredentials: false,\n\t\t\t};\n\n\t\tcase types.GET_REQUESTS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trequests: action.requests,\n\t\t\t};\n\n\t\tcase types.GET_REVIEWS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treviews: {\n\t\t\t\t\t...state.reviews,\n\t\t\t\t\t[action.id]: action.reviews,\n\t\t\t\t},\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/reducer.js",["219"],"import * as types from \"../actionTypes\";\n\nexport default function (\n  state = {\n    user_roles: {\n      permissions: [],\n      rules: [],\n      seen_clients: [],\n      blocked_clients: [],\n      id: false,\n      username: false,\n      owner: false,\n      __v: 0,\n    },\n    logged_in: false,\n    servers: false,\n    config: \"pending\",\n    activeServer: false,\n    popular: {},\n    movie_lookup: {},\n    series_lookup: {},\n    season_lookup: {},\n    person_lookup: {},\n    search_results: {\n      movies: [],\n      series: [],\n      people: [],\n    },\n    actor_movie: {},\n    actor_series: {},\n    users: {},\n  },\n  action\n) {\n  switch (action.type) {\n    case types.POPULAR:\n      return {\n        ...state,\n        popular: action.popular,\n        updated: true,\n      };\n\n    case types.SEARCH:\n      return {\n        ...state,\n        search_results: {\n          movies: action.movies,\n          series: action.series,\n          people: action.people,\n        },\n      };\n\n    case types.MOVIE_LOOKUP:\n      let creditCache = {};\n      if (action.movie) {\n        if (action.movie.credits) {\n          Object.keys(action.movie.credits).forEach((key) => {\n            Object.keys(action.movie.credits[key]).forEach((skey) => {\n              creditCache[action.movie.credits[key][skey].id] = action.movie.credits[key][skey];\n            });\n          });\n        }\n      }\n\n      return {\n        ...state,\n        movie_lookup: {\n          ...state.movie_lookup,\n          [action.id]: action.movie,\n        },\n        actor_cache: {\n          creditCache,\n        },\n        updated: true,\n      };\n\n    case types.PERSON_LOOKUP:\n      return {\n        ...state,\n        person_lookup: {\n          ...state.movie_lookup,\n          [action.id]: action.person,\n        },\n        updated: true,\n      };\n\n    case types.SERIES_LOOKUP:\n      let creditCacheS = {};\n      if (action.series)\n        if (action.series.credits) {\n          Object.keys(action.series.credits).forEach((key) => {\n            Object.keys(action.series.credits[key]).forEach((skey) => {\n              creditCacheS[action.series.credits[key][skey].id] = action.series.credits[key][skey];\n            });\n          });\n        }\n\n      return {\n        ...state,\n        series_lookup: {\n          ...state.series_lookup,\n          [action.id]: action.series,\n        },\n        actor_cache: {\n          creditCacheS,\n        },\n        updated: true,\n      };\n\n    case types.SEASON_LOOKUP:\n      return {\n        ...state,\n        season_lookup: {\n          ...state.season_lookup,\n          [`${action.series}_s${action.season}`]: action.data,\n        },\n      };\n\n    case types.STORE_ACTOR_MOVIE:\n      return {\n        ...state,\n        actor_movie: {\n          ...state.actor_movie,\n          [action.id]: {\n            cast: action.cast,\n            crew: action.crew,\n          },\n        },\n        updated: true,\n      };\n\n    case types.STORE_ACTOR_SERIES:\n      return {\n        ...state,\n        actor_series: {\n          ...state.actor_series,\n          [action.id]: {\n            cast: action.cast,\n            crew: action.crew,\n          },\n        },\n        updated: true,\n      };\n\n    case types.GET_USER:\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          [action.id]: action.user,\n        },\n        updated: true,\n      };\n\n    case types.ALL_USERS:\n      return {\n        ...state,\n        users: action.users,\n        updated: true,\n      };\n\n    default:\n      return state;\n  }\n}\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/radarr.js",["220","221","222","223","224","225"],"import React from \"react\";\nimport Api from \"../../data/Api\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { ReactComponent as Add } from \"../../assets/svg/plus-circle.svg\";\nimport { ReactComponent as ServerIcon } from \"../../assets/svg/server.svg\";\n\nimport { ReactComponent as Spinner } from \"../../assets/svg/spinner.svg\";\nimport Modal from \"../../components/Modal\";\n\nclass Radarr extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      servers: false,\n      loading: true,\n      isError: false,\n      isMsg: false,\n      wizardOpen: false,\n      active: false,\n      title: \"\",\n      protocol: \"http\",\n      host: \"localhost\",\n      port: \"\",\n      profile: \"\",\n      profile_title: \"\",\n      path: \"\",\n      path_title: \"\",\n      active: false,\n      base: \"\",\n      apikey: \"\",\n      path: false,\n      profile: false,\n      activeServer: false,\n      uuid: false,\n    };\n\n    this.inputChange = this.inputChange.bind(this);\n    this.getRadarr = this.getRadarr.bind(this);\n    this.saveServer = this.saveServer.bind(this);\n    this.deleteServer = this.deleteServer.bind(this);\n    this.openWizard = this.openWizard.bind(this);\n    this.closeWizard = this.closeWizard.bind(this);\n    // this.test = this.test.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.getSettings = this.getSettings.bind(this);\n\n    this.closeMsg = false;\n  }\n\n  async saveServer() {\n    if (this.state.activeServer === false) {\n      console.log(\"error\");\n      return;\n    }\n    let servers = this.state.servers;\n\n    servers[this.state.activeServer] = {\n      active: this.state.active,\n      title: this.state.title,\n      protocol: this.state.protocol,\n      hostname: this.state.host,\n      apiKey: this.state.apikey,\n      port: this.state.port,\n      urlBase: this.state.base,\n      path: this.state.path,\n      path_title: this.state.path_title,\n      profile: this.state.profile,\n      profile_title: this.state.profile_title,\n      uuid: this.state.uuid,\n    };\n\n    console.log(servers);\n    // return;\n    await Api.saveRadarrConfig(servers);\n    await this.getRadarr(true);\n\n    this.setState({\n      isError: false,\n      isMsg: \"Radarr settings saved!\",\n    });\n\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  async deleteServer() {\n    if (this.state.activeServer === false) {\n      console.log(\"error\");\n      return;\n    }\n\n    let servers = this.state.servers;\n\n    servers.splice(this.state.activeServer, 1);\n\n    console.log(servers);\n    // return;\n    await Api.saveRadarrConfig(servers);\n    this.getRadarr(true);\n    this.closeModal(\"addServer\");\n    this.closeWizard();\n\n    this.setState({\n      isError: false,\n      isMsg: \"Radarr Server Removed\",\n    });\n\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  async test(id, add = false) {\n    if (add) {\n      await this.saveServer();\n    }\n    try {\n      let result = await Api.testRadarr(id);\n      if (result.connection) {\n        this.setState({\n          isError: false,\n          isMsg: \"Radarr Test Connection success!\",\n          newServer: false,\n        });\n        await this.getRadarr(true);\n        await this.getSettings(id);\n      } else {\n        this.setState({\n          isError: \"Radarr Test Connection failed!\",\n          isMsg: false,\n        });\n      }\n    } catch (err) {\n      this.setState({\n        isError: \"Radarr Test Connection failed! Error 2\",\n        isMsg: false,\n      });\n    }\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.value;\n\n    if (target.type === \"checkbox\") {\n      value = target.checked;\n    }\n\n    console.log(target.type);\n\n    if (target.type === \"select-one\") {\n      let title = target.options[target.selectedIndex].text;\n      this.setState({\n        [name]: value,\n        [`${name}_title`]: title,\n      });\n    } else {\n      this.setState({\n        [name]: value,\n      });\n    }\n  }\n\n  async getRadarr(live = false) {\n    this.setState({\n      loading: live ? false : true,\n    });\n    try {\n      let radarr = await Api.radarrConfig();\n      this.setState({\n        servers: radarr,\n        loading: false,\n      });\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getRadarr();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.closeMsg);\n  }\n\n  openWizard(id) {\n    if (this.state.servers[id]) {\n      this.setState({\n        newServer: false,\n        editWizardOpen: true,\n        activeServer: id,\n        active: this.state.servers[id].active ? this.state.servers[id].active : false,\n        title: this.state.servers[id].title,\n        protocol: this.state.servers[id].protocol,\n        host: this.state.servers[id].hostname,\n        port: this.state.servers[id].port,\n        base: this.state.servers[id].urlBase,\n        apikey: this.state.servers[id].apiKey,\n        active: this.state.servers[id].active,\n        profile: this.state.servers[id].profile,\n        profile_title: this.state.servers[id].profile_title,\n        path: this.state.servers[id].path,\n        path_title: this.state.servers[id].path_title,\n        uuid: this.state.servers[id].uuid,\n      });\n      this.getSettings(this.state.servers[id].uuid);\n    } else {\n      this.setState({\n        newServer: true,\n        wizardOpen: true,\n        activeServer: id,\n        uuid: uuidv4(),\n      });\n    }\n  }\n\n  closeWizard() {\n    this.setState({\n      active: false,\n      title: \"\",\n      protocol: \"http\",\n      host: \"localhost\",\n      port: null,\n      base: \"\",\n      apikey: \"\",\n      active: false,\n      profiles: false,\n      paths: false,\n      path: false,\n      profile: false,\n      wizardOpen: false,\n      editWizardOpen: false,\n      activeServer: false,\n      uuid: false,\n      newServer: false,\n    });\n  }\n\n  openModal(id) {\n    this.setState({\n      [`${id}Open`]: true,\n    });\n  }\n\n  closeModal(id) {\n    this.setState({\n      [`${id}Open`]: false,\n      active: false,\n      title: \"\",\n      protocol: \"http\",\n      host: \"localhost\",\n      port: null,\n      base: \"\",\n      apikey: \"\",\n      active: false,\n      profiles: false,\n      paths: false,\n      path: false,\n      profile: false,\n      wizardOpen: false,\n      editWizardOpen: false,\n      activeServer: false,\n      uuid: false,\n    });\n  }\n\n  async getSettings(uuid) {\n    try {\n      let settings = await Api.radarrOptions(uuid);\n      if (settings.profiles.error || settings.paths.error) {\n        return;\n      }\n      if (this.state.uuid === uuid)\n        this.setState({\n          profiles: settings.profiles.length > 0 ? settings.profiles : false,\n          paths: settings.paths.length > 0 ? settings.paths : false,\n        });\n    } catch {\n      return;\n    }\n  }\n\n  render() {\n    let serverCount = 0;\n    if (this.state.loading) {\n      return (\n        <>\n          {this.state.isError ? (\n            <div className=\"setting-msg error\">\n              <p>{this.state.isError}</p>\n            </div>\n          ) : null}\n          {this.state.isMsg ? (\n            <div className=\"setting-msg good\">\n              <p>{this.state.isMsg}</p>\n            </div>\n          ) : null}\n          <div className=\"spinner--settings\">\n            <Spinner />\n          </div>\n        </>\n      );\n    }\n    return (\n      <>\n        {this.state.isError ? (\n          <div className=\"setting-msg error\">\n            <p>{this.state.isError}</p>\n          </div>\n        ) : null}\n        {this.state.isMsg ? (\n          <div className=\"setting-msg good\">\n            <p>{this.state.isMsg}</p>\n          </div>\n        ) : null}\n\n        <Modal\n          title=\"Add new server\"\n          open={this.state.addServerOpen}\n          submitText=\"Save\"\n          submit={() => {\n            this.saveServer();\n            this.closeModal(\"addServer\");\n          }}\n          close={() => this.closeModal(\"addServer\")}\n          delete={\n            this.state.newServer\n              ? false\n              : () => {\n                  this.deleteServer();\n                  this.closeModal(\"addServer\");\n                }\n          }\n        >\n          <label>Title</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"title\" value={this.state.title} onChange={this.inputChange} />\n          <label>Protocol</label>\n          <div className=\"styled-input--select\">\n            <select name=\"protocol\" value={this.state.protocol} onChange={this.inputChange}>\n              <option value=\"http\">HTTP</option>\n              <option value=\"https\">HTTPS</option>\n            </select>\n          </div>\n          <label>Host</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"host\" value={this.state.host} onChange={this.inputChange} />\n          <label>Port</label>\n          <input className=\"styled-input--input\" type=\"number\" name=\"port\" value={this.state.port ? this.state.port : false} onChange={this.inputChange} />\n          <label>URL Base</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"base\" value={this.state.base} onChange={this.inputChange} />\n          <label>API Key</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"apikey\" value={this.state.apikey} onChange={this.inputChange} />\n          <button className=\"btn btn__square mb--1\" onClick={() => this.test(this.state.uuid, true)}>\n            Test\n          </button>\n          <label>Profile</label>\n          <div className={`styled-input--select ${this.state.profiles ? \"\" : \"disabled\"}`}>\n            <select name=\"profile\" value={this.state.profile} onChange={this.inputChange}>\n              {this.state.profiles && !this.state.newServer ? (\n                <>\n                  <option value=\"\">Choose an option</option>\n                  {this.state.profiles.map((item) => {\n                    return (\n                      <option key={`p__${item.id}`} value={item.id}>\n                        {item.name}\n                      </option>\n                    );\n                  })}\n                </>\n              ) : (\n                <option value=\"\">{this.state.newServer ? \"Please test connection\" : \"Loading...\"}</option>\n              )}\n            </select>\n          </div>\n          <label>Path</label>\n          <div className={`styled-input--select ${this.state.profiles ? \"\" : \"disabled\"}`}>\n            <select name=\"path\" value={this.state.path} onChange={this.inputChange}>\n              {this.state.paths ? (\n                <>\n                  <option value=\"\">Choose an option</option>\n                  {this.state.paths.map((item) => {\n                    return (\n                      <option key={`pp__${item.id}`} value={item.id}>\n                        {item.path}\n                      </option>\n                    );\n                  })}\n                </>\n              ) : (\n                <option value=\"\">{this.state.newServer ? \"Please test connection\" : \"Loading...\"}</option>\n              )}\n            </select>\n          </div>\n          {!this.state.newServer && this.state.path && this.state.profile ? (\n            <div className=\"checkbox-wrap mb--2\">\n              <input type=\"checkbox\" name=\"active\" checked={this.state.active} onChange={this.inputChange} />\n              <p>Enabled</p>\n            </div>\n          ) : null}\n        </Modal>\n\n        <section>\n          <p className=\"main-title mb--2\">Radarr</p>\n          <p className=\"capped-width\">\n            Radarr is a movie collection manager for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new movies and will interface with clients and indexers to grab, sort, and\n            rename them. It can also be configured to automatically upgrade the quality of existing files in the library when a better quality format becomes available.\n          </p>\n        </section>\n        <section>\n          <p className=\"main-title mb--2\">Servers</p>\n          <div className=\"sr--grid\">\n            {this.state.servers.map((server, i) => {\n              serverCount++;\n              return (\n                <div className=\"sr--instance\">\n                  <div className=\"sr--instance--inner\">\n                    <ServerIcon />\n                    <p className=\"sr--title\">{server.title}</p>\n                    <p>{`${server.protocol}://${server.hostname}:${server.port}`}</p>\n                    <p>Status: {server.active ? \"Enabled\" : \"Disabled\"}</p>\n                    <p>Profile: {server.profile_title ? server.profile_title : \"Not set\"}</p>\n                    <p>Path: {server.path_title ? server.path_title : \"Not set\"}</p>\n                    <p className=\"small\">ID: {server.uuid ? server.uuid : \"Error\"}</p>\n                    <div className=\"btn-wrap\">\n                      <button\n                        className=\"btn btn__square\"\n                        onClick={() => {\n                          this.openModal(\"addServer\");\n                          this.openWizard(i);\n                        }}\n                      >\n                        Edit\n                      </button>\n                      <button className=\"btn btn__square\" onClick={() => this.test(server.uuid)}>\n                        Test\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n            <div className=\"sr--instance sr--add-new\">\n              <div\n                className=\"sr--instance--inner\"\n                onClick={() => {\n                  this.openModal(\"addServer\");\n                  this.openWizard(serverCount);\n                }}\n              >\n                <p className=\"sr--title\">Add new</p>\n                <Add />\n              </div>\n            </div>\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Radarr;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/general.js",["226"],"import React from \"react\";\nimport Api from \"../../data/Api\";\n\nimport { ReactComponent as Spinner } from \"../../assets/svg/spinner.svg\";\n\nclass General extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email_user: \"\",\n      email_pass: \"\",\n      email_server: \"\",\n      email_port: \"\",\n      email_secure: false,\n      email_enabled: false,\n    };\n\n    this.inputChange = this.inputChange.bind(this);\n    this.closeMsg = false;\n    this.saveEmail = this.saveEmail.bind(this);\n    this.loadConfigs = this.loadConfigs.bind(this);\n    this.testEmail = this.testEmail.bind(this);\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.value;\n\n    if (target.type === \"checkbox\") {\n      value = target.checked;\n    }\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  async saveEmail() {\n    await Api.saveEmailConfig({\n      user: this.state.email_user,\n      pass: this.state.email_pass,\n      server: this.state.email_server,\n      port: this.state.email_port,\n      secure: this.state.email_secure,\n      enabled: this.state.email_enabled,\n    });\n\n    this.setState({\n      isError: false,\n      isMsg: \"Email settings saved!\",\n    });\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  async loadConfigs() {\n    try {\n      let email = await Api.getEmailConfig();\n      this.setState({\n        email_enabled: email.config.emailEnabled,\n        email_user: email.config.emailUser,\n        email_pass: email.config.emailPass,\n        email_server: email.config.emailServer,\n        email_port: email.config.emailPort,\n        email_secure: email.config.emailSecure,\n        loading: false,\n        isError: false,\n        isMsg: \"Email config loaded\",\n      });\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        loading: false,\n        isError: \"Error getting email config\",\n      });\n    }\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  async testEmail() {\n    try {\n      await this.saveEmail();\n      let test = await Api.testEmail();\n      console.log(test);\n      if (test.result) {\n        this.setState({\n          isMsg: \"Email test passed\",\n          isError: false,\n        });\n      } else {\n        this.setState({\n          isMsg: false,\n          isError: \"Email test Failed\",\n        });\n      }\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        isMsg: false,\n        isError: \"Email test Failed\",\n      });\n    }\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  componentDidMount() {\n    this.loadConfigs();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.closeMsg);\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <>\n          {this.state.isError ? (\n            <div className=\"setting-msg error\">\n              <p>{this.state.isError}</p>\n            </div>\n          ) : null}\n          {this.state.isMsg ? (\n            <div className=\"setting-msg good\">\n              <p>{this.state.isMsg}</p>\n            </div>\n          ) : null}\n          <div className=\"spinner--settings\">\n            <Spinner />\n          </div>\n        </>\n      );\n    }\n    return (\n      <>\n        {this.state.isError ? (\n          <div className=\"setting-msg error\">\n            <p>{this.state.isError}</p>\n          </div>\n        ) : null}\n        {this.state.isMsg ? (\n          <div className=\"setting-msg good\">\n            <p>{this.state.isMsg}</p>\n          </div>\n        ) : null}\n        <section>\n          <p className=\"main-title\">General</p>\n        </section>\n        <section>\n          <p className=\"main-title mb--2\">Plex</p>\n          <p>If connection has been lost to Plex re-authenticate here.</p>\n          <button className=\"btn btn__square disabled\">Login with plex</button>\n          <button className=\"btn btn__square disabled\" style={{ marginLeft: \"10px\" }}>\n            Test\n          </button>\n        </section>\n        <section>\n          <p className=\"main-title mb--2\">Email</p>\n          <label>Username</label>\n          <input type=\"text\" name=\"email_user\" value={this.state.email_user} onChange={this.inputChange} autoComplete=\"new-password\" autoCorrect=\"off\" spellCheck=\"off\" />\n          <label>Password</label>\n          <input type=\"password\" name=\"email_pass\" value={this.state.email_pass} onChange={this.inputChange} autoComplete=\"new-password\" autoCorrect=\"off\" spellCheck=\"off\" />\n          <label>SMTP Server</label>\n          <input type=\"text\" name=\"email_server\" value={this.state.email_server} onChange={this.inputChange} autoComplete=\"new-password\" autoCorrect=\"off\" spellCheck=\"off\" />\n          <label>Port</label>\n          <input type=\"number\" name=\"email_port\" value={this.state.email_port} onChange={this.inputChange} autoComplete=\"new-password\" autoCorrect=\"off\" spellCheck=\"off\" />\n          <div className=\"checkbox-wrap mb--2\">\n            <input type=\"checkbox\" name=\"email_secure\" checked={this.state.email_secure} onChange={this.inputChange} />\n            <p>\n              Use Secure <small>(For port 587 or 25 use false)</small>\n            </p>\n          </div>\n          <div className=\"checkbox-wrap mb--2\">\n            <input type=\"checkbox\" name=\"email_enabled\" checked={this.state.email_enabled} onChange={this.inputChange} />\n            <p>Enabled</p>\n          </div>\n          <p>\n            Using Gmail? Make sure to allow \"less secure apps\" to allow Petio to send emails on your behalf. You can change this setting{\" \"}\n            <a target=\"_blank\" href=\"https://www.google.com/settings/security/lesssecureapps\">\n              here\n            </a>\n          </p>\n\n          <button className=\"btn btn__square\" style={{ marginRight: \"10px\" }} onClick={this.saveEmail}>\n            Save\n          </button>\n\n          <button className=\"btn btn__square\" onClick={this.testEmail}>\n            Test\n          </button>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default General;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/sonarr.js",["227","228","229","230","231","232"],"import React from \"react\";\nimport Api from \"../../data/Api\";\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { ReactComponent as Add } from \"../../assets/svg/plus-circle.svg\";\nimport { ReactComponent as ServerIcon } from \"../../assets/svg/server.svg\";\n\nimport { ReactComponent as Spinner } from \"../../assets/svg/spinner.svg\";\nimport Modal from \"../../components/Modal\";\n\nclass Sonarr extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      servers: false,\n      loading: true,\n      isError: false,\n      isMsg: false,\n      wizardOpen: false,\n      active: false,\n      title: \"\",\n      protocol: \"http\",\n      host: \"localhost\",\n      port: \"\",\n      profile: \"\",\n      profile_title: \"\",\n      path: \"\",\n      path_title: \"\",\n      active: false,\n      base: \"\",\n      apikey: \"\",\n      path: false,\n      profile: false,\n      activeServer: false,\n      uuid: false,\n    };\n\n    this.inputChange = this.inputChange.bind(this);\n    this.getSonarr = this.getSonarr.bind(this);\n    this.saveServer = this.saveServer.bind(this);\n    this.deleteServer = this.deleteServer.bind(this);\n    this.openWizard = this.openWizard.bind(this);\n    this.closeWizard = this.closeWizard.bind(this);\n    // this.test = this.test.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.getSettings = this.getSettings.bind(this);\n\n    this.closeMsg = false;\n  }\n\n  async saveServer() {\n    if (this.state.activeServer === false) {\n      console.log(\"error\");\n      return;\n    }\n    let servers = this.state.servers;\n\n    servers[this.state.activeServer] = {\n      active: this.state.active,\n      title: this.state.title,\n      protocol: this.state.protocol,\n      hostname: this.state.host,\n      apiKey: this.state.apikey,\n      port: this.state.port,\n      urlBase: this.state.base,\n      path: this.state.path,\n      path_title: this.state.path_title,\n      profile: this.state.profile,\n      profile_title: this.state.profile_title,\n      uuid: this.state.uuid,\n    };\n\n    console.log(servers);\n    // return;\n    await Api.saveSonarrConfig(servers);\n    this.getSonarr(true);\n\n    this.setState({\n      isError: false,\n      isMsg: \"Sonarr settings saved!\",\n    });\n\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  async deleteServer() {\n    if (this.state.activeServer === false) {\n      console.log(\"error\");\n      return;\n    }\n\n    let servers = this.state.servers;\n\n    servers.splice(this.state.activeServer, 1);\n\n    console.log(servers);\n    // return;\n    await Api.saveSonarrConfig(servers);\n    this.getSonarr();\n    this.closeWizard();\n\n    this.setState({\n      isError: false,\n      isMsg: \"Sonarr Server Removed\",\n    });\n\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  async test(id, add = false) {\n    if (add) {\n      await this.saveServer();\n    }\n    try {\n      let result = await Api.testSonarr(id);\n      if (result.connection) {\n        this.setState({\n          isError: false,\n          isMsg: \"Sonarr Test Connection success!\",\n          newServer: false,\n        });\n        await this.getSonarr(true);\n        await this.getSettings(id);\n      } else {\n        this.setState({\n          isError: \"Sonarr Test Connection failed!\",\n          isMsg: false,\n        });\n      }\n    } catch (err) {\n      this.setState({\n        isError: \"Sonarr Test Connection failed! Error 2\",\n        isMsg: false,\n      });\n    }\n    clearInterval(this.closeMsg);\n    this.closeMsg = setInterval(() => {\n      this.setState({\n        isError: false,\n        isMsg: false,\n      });\n    }, 3000);\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.value;\n\n    if (target.type === \"checkbox\") {\n      value = target.checked;\n    }\n\n    console.log(target.type);\n\n    if (target.type === \"select-one\") {\n      let title = target.options[target.selectedIndex].text;\n      this.setState({\n        [name]: value,\n        [`${name}_title`]: title,\n      });\n    } else {\n      this.setState({\n        [name]: value,\n      });\n    }\n  }\n\n  async getSonarr(live = false) {\n    this.setState({\n      loading: live ? false : true,\n    });\n    try {\n      let sonarr = await Api.sonarrConfig();\n      this.setState({\n        servers: sonarr,\n        loading: false,\n      });\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getSonarr();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.closeMsg);\n  }\n\n  openWizard(id) {\n    if (this.state.servers[id]) {\n      this.setState({\n        newServer: false,\n        editWizardOpen: true,\n        activeServer: id,\n        active: this.state.servers[id].active ? this.state.servers[id].active : false,\n        title: this.state.servers[id].title,\n        protocol: this.state.servers[id].protocol,\n        host: this.state.servers[id].hostname,\n        port: this.state.servers[id].port,\n        base: this.state.servers[id].urlBase,\n        apikey: this.state.servers[id].apiKey,\n        active: this.state.servers[id].active,\n        profile: this.state.servers[id].profile,\n        profile_title: this.state.servers[id].profile_title,\n        path: this.state.servers[id].path,\n        path_title: this.state.servers[id].path_title,\n        uuid: this.state.servers[id].uuid,\n      });\n      this.getSettings(this.state.servers[id].uuid);\n    } else {\n      this.setState({\n        newServer: true,\n        wizardOpen: true,\n        activeServer: id,\n        uuid: uuidv4(),\n      });\n    }\n  }\n\n  closeWizard() {\n    this.setState({\n      active: false,\n      title: \"\",\n      protocol: \"http\",\n      host: \"localhost\",\n      port: null,\n      base: \"\",\n      apikey: \"\",\n      active: false,\n      profiles: false,\n      paths: false,\n      path: false,\n      profile: false,\n      wizardOpen: false,\n      editWizardOpen: false,\n      activeServer: false,\n      uuid: false,\n      newServer: false,\n    });\n  }\n\n  openModal(id) {\n    this.setState({\n      [`${id}Open`]: true,\n    });\n  }\n\n  closeModal(id) {\n    this.setState({\n      [`${id}Open`]: false,\n      active: false,\n      title: \"\",\n      protocol: \"http\",\n      host: \"localhost\",\n      port: null,\n      base: \"\",\n      apikey: \"\",\n      active: false,\n      profiles: false,\n      paths: false,\n      path: false,\n      profile: false,\n      wizardOpen: false,\n      editWizardOpen: false,\n      activeServer: false,\n      uuid: false,\n    });\n  }\n\n  async getSettings(uuid) {\n    try {\n      let settings = await Api.sonarrOptions(uuid);\n      if (settings.profiles.error || settings.paths.error) {\n        return;\n      }\n      if (this.state.uuid === uuid)\n        this.setState({\n          profiles: settings.profiles.length > 0 ? settings.profiles : false,\n          paths: settings.paths.length > 0 ? settings.paths : false,\n        });\n    } catch {\n      return;\n    }\n  }\n\n  render() {\n    let serverCount = 0;\n    if (this.state.loading) {\n      return (\n        <>\n          {this.state.isError ? (\n            <div className=\"setting-msg error\">\n              <p>{this.state.isError}</p>\n            </div>\n          ) : null}\n          {this.state.isMsg ? (\n            <div className=\"setting-msg good\">\n              <p>{this.state.isMsg}</p>\n            </div>\n          ) : null}\n          <div className=\"spinner--settings\">\n            <Spinner />\n          </div>\n        </>\n      );\n    }\n    return (\n      <>\n        {this.state.isError ? (\n          <div className=\"setting-msg error\">\n            <p>{this.state.isError}</p>\n          </div>\n        ) : null}\n        {this.state.isMsg ? (\n          <div className=\"setting-msg good\">\n            <p>{this.state.isMsg}</p>\n          </div>\n        ) : null}\n\n        <Modal\n          title=\"Add new server\"\n          open={this.state.addServerOpen}\n          submitText=\"Save\"\n          submit={() => {\n            this.saveServer();\n            this.closeModal(\"addServer\");\n          }}\n          close={() => this.closeModal(\"addServer\")}\n          delete={\n            this.state.newServer\n              ? false\n              : () => {\n                  this.deleteServer();\n                  this.closeModal(\"addServer\");\n                }\n          }\n        >\n          <label>Title</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"title\" value={this.state.title} onChange={this.inputChange} />\n          <label>Protocol</label>\n          <div className=\"styled-input--select\">\n            <select name=\"protocol\" value={this.state.protocol} onChange={this.inputChange}>\n              <option value=\"http\">HTTP</option>\n              <option value=\"https\">HTTPS</option>\n            </select>\n          </div>\n          <label>Host</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"host\" value={this.state.host} onChange={this.inputChange} />\n          <label>Port</label>\n          <input className=\"styled-input--input\" type=\"number\" name=\"port\" value={this.state.port ? this.state.port : false} onChange={this.inputChange} />\n          <label>URL Base</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"base\" value={this.state.base} onChange={this.inputChange} />\n          <label>API Key</label>\n          <input className=\"styled-input--input\" type=\"text\" name=\"apikey\" value={this.state.apikey} onChange={this.inputChange} />\n          <button className=\"btn btn__square mb--1\" onClick={() => this.test(this.state.uuid, true)}>\n            Test\n          </button>\n          <label>Profile</label>\n          <div className={`styled-input--select ${this.state.profiles ? \"\" : \"disabled\"}`}>\n            <select name=\"profile\" value={this.state.profile} onChange={this.inputChange}>\n              {this.state.profiles && !this.state.newServer ? (\n                <>\n                  <option value=\"\">Choose an option</option>\n                  {this.state.profiles.map((item) => {\n                    return (\n                      <option key={`p__${item.id}`} value={item.id}>\n                        {item.name}\n                      </option>\n                    );\n                  })}\n                </>\n              ) : (\n                <option value=\"\">{this.state.newServer ? \"Please test connection\" : \"Loading...\"}</option>\n              )}\n            </select>\n          </div>\n          <label>Path</label>\n          <div className={`styled-input--select ${this.state.profiles ? \"\" : \"disabled\"}`}>\n            <select name=\"path\" value={this.state.path} onChange={this.inputChange}>\n              {this.state.paths ? (\n                <>\n                  <option value=\"\">Choose an option</option>\n                  {this.state.paths.map((item) => {\n                    return (\n                      <option key={`pp__${item.id}`} value={item.id}>\n                        {item.path}\n                      </option>\n                    );\n                  })}\n                </>\n              ) : (\n                <option value=\"\">{this.state.newServer ? \"Please test connection\" : \"Loading...\"}</option>\n              )}\n            </select>\n          </div>\n          {!this.state.newServer && this.state.path && this.state.profile ? (\n            <div className=\"checkbox-wrap mb--2\">\n              <input type=\"checkbox\" name=\"active\" checked={this.state.active} onChange={this.inputChange} />\n              <p>Enabled</p>\n            </div>\n          ) : null}\n        </Modal>\n\n        <section>\n          <p className=\"main-title mb--2\">Sonarr</p>\n          <p className=\"capped-width\">\n            Sonarr is a PVR for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new episodes of your favorite shows and will grab, sort and rename them. It can also be configured to\n            automatically upgrade the quality of files already downloaded when a better quality format becomes available.\n          </p>\n        </section>\n        <section>\n          <p className=\"main-title mb--2\">Servers</p>\n          <div className=\"sr--grid\">\n            {this.state.servers.map((server, i) => {\n              serverCount++;\n              return (\n                <div className=\"sr--instance\">\n                  <div className=\"sr--instance--inner\">\n                    <ServerIcon />\n                    <p className=\"sr--title\">{server.title}</p>\n                    <p>{`${server.protocol}://${server.hostname}:${server.port}`}</p>\n                    <p>Status: {server.active ? \"Enabled\" : \"Disabled\"}</p>\n                    <p>Profile: {server.profile_title ? server.profile_title : \"Not set\"}</p>\n                    <p>Path: {server.path_title ? server.path_title : \"Not set\"}</p>\n                    <p className=\"small\">ID: {server.uuid ? server.uuid : \"Error\"}</p>\n                    <div className=\"btn-wrap\">\n                      <button\n                        className=\"btn btn__square\"\n                        onClick={() => {\n                          this.openModal(\"addServer\");\n                          this.openWizard(i);\n                        }}\n                      >\n                        Edit\n                      </button>\n                      <button className=\"btn btn__square\" onClick={() => this.test(server.uuid)}>\n                        Test\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n            <div className=\"sr--instance sr--add-new\">\n              <div\n                className=\"sr--instance--inner\"\n                onClick={() => {\n                  this.openModal(\"addServer\");\n                  this.openWizard(serverCount);\n                }}\n              >\n                <p className=\"sr--title\">Add new</p>\n                <Add />\n              </div>\n            </div>\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Sonarr;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Api/actions.js",["233","234"],"import { store } from \"../store\";\nimport * as types from \"../actionTypes\";\nimport * as api from \"./api\";\nimport Api from \".\";\n\nfunction finalise(data = false) {\n  if (!data) return false;\n  return store.dispatch(data);\n}\n\nexport async function getPopular() {\n  let popular = await api.popular();\n\n  if (popular) {\n    popular.movies.forEach((movie) => {\n      movie.isMinified = true;\n      finalise({\n        type: types.MOVIE_LOOKUP,\n        movie: movie,\n        id: movie.id,\n      });\n    });\n\n    popular.tv.forEach((series) => {\n      series.isMinified = true;\n      finalise({\n        type: types.SERIES_LOOKUP,\n        series: series,\n        id: series.id,\n      });\n    });\n\n    finalise({\n      type: types.POPULAR,\n      popular: {\n        movies: popular.movies,\n        tv: popular.tv,\n        people: popular.people,\n      },\n    });\n  }\n}\n\nexport async function movie(id, minified = false) {\n  let movie = await api.movie(id, minified);\n\n  movie.isMinified = minified;\n\n  finalise({\n    type: types.MOVIE_LOOKUP,\n    movie: movie,\n    id: id,\n  });\n}\n\nexport async function series(id, minified = false) {\n  let series = await api.series(id, minified);\n\n  if (!series.id) {\n    return false;\n  }\n\n  series.isMinified = minified;\n\n  finalise({\n    type: types.SERIES_LOOKUP,\n    series: series,\n    id: id,\n  });\n}\n\nexport async function person(id) {\n  let data = await api.actor(id);\n\n  let movies = data.movies;\n  let shows = data.tv;\n  let info = data.info;\n\n  finalise({\n    type: types.PERSON_LOOKUP,\n    person: info,\n    id: id,\n  });\n\n  if (movies.length === 0) {\n    finalise({\n      type: types.STORE_ACTOR_MOVIE,\n      cast: {},\n      crew: {},\n      id: id,\n    });\n  } else {\n    finalise({\n      type: types.STORE_ACTOR_MOVIE,\n      cast: movies.cast,\n      crew: movies.crew,\n      id: id,\n    });\n  }\n  if (shows.length === 0) {\n    finalise({\n      type: types.STORE_ACTOR_SERIES,\n      cast: {},\n      crew: {},\n      id: id,\n    });\n  } else {\n    finalise({\n      type: types.STORE_ACTOR_SERIES,\n      cast: shows.cast,\n      crew: shows.crew,\n      id: id,\n    });\n  }\n}\n\nexport async function search(term) {\n  let searchResults = await api.search(term);\n\n  return new Promise((resolve, reject) => {\n    if (!searchResults) {\n      reject();\n    }\n    searchResults.movies.forEach((movie) => {\n      movie.isMinified = true;\n      finalise({\n        type: types.MOVIE_LOOKUP,\n        movie: movie,\n        id: movie.id,\n      });\n    });\n\n    searchResults.shows.forEach((series) => {\n      // console.log(series);\n      series.isMinified = true;\n      finalise({\n        type: types.SERIES_LOOKUP,\n        series: series,\n        id: series.id,\n      });\n    });\n\n    finalise({\n      type: types.SEARCH,\n      movies: searchResults.movies,\n      series: searchResults.shows,\n      people: searchResults.people,\n    });\n\n    resolve();\n  });\n}\n\nexport function clearSearch() {\n  finalise({\n    type: types.SEARCH,\n    movies: [],\n    series: [],\n    people: [],\n  });\n}\n\nexport let top = (type) => {\n  return new Promise((resolve, reject) => {\n    api\n      .top(type)\n      .then((data) => {\n        const sorted = Object.values(data)\n          .sort((a, b) => a.globalViewCount - b.globalViewCount)\n          .reverse();\n\n        resolve(sorted);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject(\"Error getting plex movies\");\n      });\n  });\n};\n\nexport async function history(user_id, type) {\n  return new Promise((resolve, reject) => {\n    api\n      .history(user_id, type)\n      .then((data) => {\n        resolve(data);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject(\"Error getting plex movies\");\n      });\n  });\n}\n\nexport let get_plex_media = (id, type) => {\n  return new Promise((resolve, reject) => {\n    api\n      .get_plex_media(id, type)\n      .then((res) => {\n        resolve(res);\n\n        if (type === \"movie\") {\n          finalise({\n            type: types.MOVIE_LOOKUP,\n            movie: movie,\n            id: movie.id,\n          });\n        } else {\n          finalise({\n            type: types.SERIES_LOOKUP,\n            movie: series,\n            id: series.id,\n          });\n        }\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n};\n\nexport let bandwidth = () => {\n  return new Promise((resolve, reject) => {\n    api\n      .getBandwidth()\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n};\n\nexport let serverInfo = () => {\n  return new Promise((resolve, reject) => {\n    api\n      .getServerInfo()\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n};\n\nexport let currentSessions = () => {\n  return new Promise((resolve, reject) => {\n    api\n      .getCurrentSessions()\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n};\n\nexport function checkConfig() {\n  return new Promise((resolve, reject) => {\n    api\n      .checkConfig()\n      .then((data) => {\n        resolve(data);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function saveConfig(config) {\n  return new Promise((resolve, reject) => {\n    api\n      .saveConfig(config)\n      .then(() => {\n        resolve();\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport async function sonarrConfig() {\n  let config = await api.sonarrConfig();\n\n  return config;\n}\n\nexport async function sonarrOptions(id) {\n  let paths = await api.sonarrPaths(id);\n  let profiles = await api.sonarrProfiles(id);\n\n  return {\n    paths: paths,\n    profiles: profiles,\n  };\n}\n\nexport async function radarrConfig() {\n  let config = await api.radarrConfig();\n\n  return config;\n}\n\nexport async function radarrOptions(id) {\n  let paths = await api.radarrPaths(id);\n  let profiles = await api.radarrProfiles(id);\n\n  return {\n    paths: paths,\n    profiles: profiles,\n  };\n}\n\nexport function saveSonarrConfig(config) {\n  return new Promise((resolve, reject) => {\n    api\n      .saveSonarrConfig({ data: JSON.stringify(config) })\n      .then(() => {\n        resolve();\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function testSonarr(id) {\n  return new Promise((resolve, reject) => {\n    api\n      .testSonarr(id)\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function testRadarr(id) {\n  return new Promise((resolve, reject) => {\n    api\n      .testRadarr(id)\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function saveRadarrConfig(config) {\n  return new Promise((resolve, reject) => {\n    api\n      .saveRadarrConfig({ data: JSON.stringify(config) })\n      .then(() => {\n        resolve();\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function saveEmailConfig(config) {\n  return new Promise((resolve, reject) => {\n    api\n      .saveEmailConfig(config)\n      .then(() => {\n        resolve();\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function getEmailConfig() {\n  return new Promise((resolve, reject) => {\n    api\n      .getEmailConfig()\n      .then((data) => {\n        resolve(data);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport function testEmail() {\n  return new Promise((resolve, reject) => {\n    api\n      .testEmail()\n      .then((data) => {\n        resolve(data);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport async function getUser(id) {\n  try {\n    let userData = await api.getUser(id);\n    finalise({\n      type: types.GET_USER,\n      user: userData,\n      id: userData.id,\n    });\n  } catch (err) {\n    finalise({\n      type: types.GET_USER,\n      user: {\n        email: \"User Not Found\",\n        recommendationsPlaylistId: false,\n        thumb: false,\n        title: \"User Not Found\",\n        username: \"User Not Found\",\n        __v: false,\n        id: false,\n      },\n      id: id,\n    });\n  }\n}\n\nexport async function allUsers() {\n  try {\n    let userData = await api.allUsers();\n    let data = {};\n    userData.map((user) => {\n      data[user.id] = user;\n    });\n    finalise({\n      type: types.ALL_USERS,\n      users: data,\n    });\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport async function testMongo(mongo) {\n  try {\n    let result = await api.testMongo(mongo);\n    return result.status;\n  } catch (err) {\n    console.log(err);\n    return \"failed\";\n  }\n}\n\nexport function getIssues() {\n  return new Promise((resolve, reject) => {\n    api\n      .getIssues()\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject();\n      });\n  });\n}\n\nexport async function createUser(user) {\n  try {\n    let result = await api.createUser(user);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function getProfiles() {\n  try {\n    let result = await api.getProfiles();\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function saveProfile(profile) {\n  try {\n    let result = await api.saveProfile(profile);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function deleteProfile(profile) {\n  try {\n    let result = await api.deleteProfile(profile);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function editUser(user) {\n  try {\n    let result = await api.editUser(user);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function deleteUser(user) {\n  try {\n    let result = await api.deleteUser(user);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function bulkEditUser(data) {\n  try {\n    let result = await api.bulkEditUser(data);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function removeRequest(request, reason) {\n  try {\n    await api.removeReq(request, reason);\n    return true;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n\nexport async function updateRequest(request, servers) {\n  try {\n    await api.updateReq(request, servers);\n    return true;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n}\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/index.js",["235"],"import { login, logout, getRequests } from './actions';\n\nexport default {\n\tlogin,\n\tlogout,\n\tgetRequests,\n};\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/index.js",["236"],"import { plexAuth } from './actions';\n\nexport default {\n\tplexAuth,\n};\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/SessionMedia.js",["237","238","239","240","241"],"import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Api from '../data/Api';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport MovieCard from './MovieCard';\nimport TvCard from './TvCard';\nimport { ReactComponent as PlayIcon } from '../assets/svg/play.svg';\nimport { ReactComponent as PauseIcon } from '../assets/svg/pause.svg';\nimport { ReactComponent as BufferIcon } from '../assets/svg/buffer.svg';\n\nclass SessionMedia extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.props.live && this.props.type !== 'clip') {\n\t\t\tif (this.props.type === 'movie') {\n\t\t\t\tthis.getMovie();\n\t\t\t} else {\n\t\t\t\tthis.getSeries();\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.props.live && !this.state.id && this.props.type !== 'clip') {\n\t\t\tif (this.props.type === 'movie') {\n\t\t\t\tthis.getMovie();\n\t\t\t} else {\n\t\t\t\tthis.getSeries();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetMovie() {\n\t\tApi.get_plex_media(this.props.id, 'movie').then((res) => {\n\t\t\tthis.setState({\n\t\t\t\tid: res.tmdb_id,\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSeries() {\n\t\tApi.get_plex_media(this.props.id, 'tv').then((res) => {\n\t\t\tthis.setState({\n\t\t\t\tid: res.tmdb_id,\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tlet card = null;\n\t\tif (!this.state.id && !this.props.live && this.props.type !== 'clip') {\n\t\t\treturn null;\n\t\t}\n\t\tif (\n\t\t\tthis.props.live ||\n\t\t\tthis.props.type === 'clip' ||\n\t\t\tthis.props.type === 'trailer' ||\n\t\t\tthis.state.id === 'false'\n\t\t) {\n\t\t\tlet playbackState;\n\t\t\tswitch (this.props.playbackState) {\n\t\t\t\tcase 'playing':\n\t\t\t\tcase 'streaming':\n\t\t\t\t\tplaybackState = <PlayIcon />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'paused':\n\t\t\t\t\tplaybackState = <PauseIcon />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'buffering':\n\t\t\t\t\tplaybackState = <BufferIcon />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tplaybackState = <p>{this.props.playbackState}</p>;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcard = (\n\t\t\t\t<div className=\"card type--generic\" key={this.props.uid}>\n\t\t\t\t\t<div className=\"card--inner\"></div>\n\t\t\t\t\t<div className=\"image-wrap\">\n\t\t\t\t\t\t{this.props.progress ? (\n\t\t\t\t\t\t\t<div className=\"session--duration\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"session--prog\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmaxWidth: this.props.progress + '%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div className=\"playback-status\">{playbackState}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (this.props.type === 'movie') {\n\t\t\tcard = (\n\t\t\t\t<MovieCard\n\t\t\t\t\tkey={this.props.uid}\n\t\t\t\t\tmovie={{\n\t\t\t\t\t\tid: this.state.id,\n\t\t\t\t\t}}\n\t\t\t\t\tprogress={this.props.progress}\n\t\t\t\t\tplaybackState={this.props.playbackState}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else {\n\t\t\tcard = (\n\t\t\t\t<TvCard\n\t\t\t\t\tkey={this.props.uid}\n\t\t\t\t\tseries={{\n\t\t\t\t\t\tid: this.state.id,\n\t\t\t\t\t}}\n\t\t\t\t\tprogress={this.props.progress}\n\t\t\t\t\tplaybackState={this.props.playbackState}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"session--media\">\n\t\t\t\t<div className=\"session--media--inner\">\n\t\t\t\t\t<div className=\"session--user\">\n\t\t\t\t\t\t<img src={this.props.userThumb} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{card}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SessionMedia;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/data/actionTypes.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/User/actions.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/data/Plex/actions.js",["242"],"/Users/ashleydyson/Documents/Petio/petio/admin/src/components/MovieCard.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/components/TvCard.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Requests.js",["243","244","245","246"],"import React from \"react\";\nimport Api from \"../data/Api\";\nimport User from \"../data/User\";\nimport { ReactComponent as Spinner } from \"../assets/svg/spinner.svg\";\nimport RequestsTable from \"../components/RequestsTable\";\nimport Modal from \"../components/Modal\";\n\nclass Requests extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      requests: this.props.user.requests,\n      pending: false,\n      users: {},\n      editRequestOpen: false,\n      deleteRequestOpen: false,\n      edit_radarr: {},\n      edit_sonarr: {},\n      req_delete_reason: \"\",\n    };\n\n    this.getRequests = this.getRequests.bind(this);\n    this.editReq = this.editReq.bind(this);\n    this.getArrs = this.getArrs.bind(this);\n    this.processServers = this.processServers.bind(this);\n    this.changeServerSettings = this.changeServerSettings.bind(this);\n    this.renderReqEdit = this.renderReqEdit.bind(this);\n    this.deleteReq = this.deleteReq.bind(this);\n    this.updateReq = this.updateReq.bind(this);\n    this.removeReq = this.removeReq.bind(this);\n    this.approveReq = this.approveReq.bind(this);\n    this.inputChange = this.inputChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getArrs();\n    User.getRequests(true);\n    this.getRequests(true);\n    this.heartbeat = setInterval(() => this.getRequests(true), 60000);\n\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n  }\n\n  openModal(id) {\n    this.setState({\n      [`${id}Open`]: true,\n    });\n  }\n\n  closeModal(id) {\n    this.setState({\n      [`${id}Open`]: false,\n      req_delete_reason: \"\",\n    });\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.type === \"checkbox\" ? target.checked : target.value;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  changeServerSettings(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.type === \"checkbox\" ? target.checked : target.value;\n    let type = target.dataset.type;\n    let id = target.dataset.id;\n\n    this.setState({\n      [`edit_${type}`]: {\n        ...this.state[`edit_${type}`],\n        [id]: {\n          ...this.state[`edit_${type}`][id],\n          [name]: value,\n        },\n      },\n    });\n  }\n\n  async getArrs() {\n    try {\n      let radarr = await Api.radarrConfig();\n      let sonarr = await Api.sonarrConfig();\n      this.setState({\n        r_servers: radarr,\n        s_servers: sonarr,\n      });\n      this.processServers();\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        r_servers: false,\n        s_servers: false,\n      });\n    }\n  }\n\n  async processServers() {\n    let radarr = this.state.r_servers;\n    let sonarr = this.state.s_servers;\n\n    await Promise.all(\n      radarr.map(async (server) => {\n        let options = await this.getArrOptions(server.uuid, \"radarr\");\n        server.options = options;\n      })\n    );\n    await Promise.all(\n      sonarr.map(async (server) => {\n        let options = await this.getArrOptions(server.uuid, \"sonarr\");\n        server.options = options;\n      })\n    );\n\n    this.setState({\n      s_servers: sonarr,\n      r_servers: radarr,\n    });\n  }\n\n  async getArrOptions(uuid, type) {\n    try {\n      let settings = type === \"radarr\" ? await Api.radarrOptions(uuid) : await Api.sonarrOptions(uuid);\n      if (settings.profiles.error || settings.paths.error) {\n        return;\n      }\n      return {\n        profiles: settings.profiles,\n        paths: settings.paths,\n      };\n    } catch {\n      return {\n        profiles: false,\n        paths: false,\n      };\n    }\n  }\n\n  editReq(req) {\n    let edit_radarr = {};\n    let edit_sonarr = {};\n    if (req.type === \"movie\") {\n      if (req.radarrId.length > 0) {\n        req.radarrId.map((r, i) => {\n          let uuid = Object.keys(r)[0];\n          let child = req.children[i] ? req.children[i].info : {};\n          edit_radarr[uuid] = {\n            active: true,\n            profile: child.qualityProfileId ? child.qualityProfileId : false,\n            path: child.path ? child.path.replace(`/${req.title} (${child.year})`, \"\").replace(`\\\\${req.title} (${child.year})`, \"\") : false,\n          };\n        });\n      }\n    }\n    if (req.type === \"tv\") {\n      if (req.sonarrId.length > 0) {\n        req.sonarrId.map((r, i) => {\n          let uuid = Object.keys(r)[0];\n          let child = req.children[i] ? req.children[i].info : {};\n          edit_sonarr[uuid] = {\n            active: true,\n            profile: child.qualityProfileId ? child.qualityProfileId : false,\n            path: child.path ? child.path.replace(`${req.title} (${child.year})`, \"\").replace(`${req.title} (${child.year})`, \"\") : false,\n          };\n        });\n      }\n    }\n    this.setState({\n      activeRequest: req,\n      edit_radarr: edit_radarr,\n      edit_sonarr: edit_sonarr,\n    });\n    this.openModal(\"editRequest\");\n  }\n\n  componentDidUpdate() {\n    if (this.props.user.requests !== this.state.requests) {\n      this.setState({\n        requests: this.props.user.requests,\n      });\n    }\n    if (Object.keys(this.state.requests).length > 0)\n      Object.keys(this.state.requests).map((key) => {\n        let req = this.state.requests[key];\n        for (let i = 0; i < req.users.length; i++) {\n          if (!this.props.api.users[req.users[i]]) {\n            Api.getUser(req.users[i]);\n          }\n        }\n      });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.heartbeat);\n  }\n\n  getRequests(live = false) {\n    if (!this.state.requests || live) {\n      User.getRequests();\n    }\n  }\n\n  findServerByUuid(uuid, type) {\n    for (let s in this.state[type]) {\n      let server = this.state[type][s];\n      if (server.uuid === uuid) {\n        return server;\n      }\n    }\n    return false;\n  }\n\n  renderReqEdit(server, type) {\n    let editable = this.state.activeRequest[`${type}Id`].length === 0;\n    return (\n      <div className=\"request-edit--server--wrap\" key={`${type}_server_${server.uuid}`}>\n        <p className=\"request-edit--server--title\">Server name: {server.title}</p>\n        <label key={server.uuid} className={editable ? \"\" : \"disabled\"}>\n          <input\n            data-type={type}\n            data-id={server.uuid}\n            type=\"checkbox\"\n            checked={this.state[`edit_${type}`][server.uuid] ? this.state[`edit_${type}`][server.uuid].active : false}\n            name={\"active\"}\n            onChange={this.changeServerSettings}\n          />\n          Use this server\n        </label>\n\n        {server.options ? (\n          <>\n            <p className=\"request-edit--server--subtitle\">Profile</p>\n            <div className={`styled-input--select ${editable ? \"\" : \"disabled\"}`}>\n              <select\n                data-type={type}\n                data-id={server.uuid}\n                name=\"profile\"\n                value={this.state[`edit_${type}`][server.uuid] ? this.state[`edit_${type}`][server.uuid].profile : false}\n                onChange={this.changeServerSettings}\n              >\n                <option value=\"\">Please choose</option>\n                {server.options.profiles ? (\n                  server.options.profiles.map((profile, i) => {\n                    return (\n                      <option key={`${type}_profile_${server.uuid}_${profile.id}`} value={profile.id}>\n                        {profile.name}\n                      </option>\n                    );\n                  })\n                ) : (\n                  <option value=\"\"></option>\n                )}\n              </select>\n            </div>\n            <p className=\"request-edit--server--subtitle\">Root Path</p>\n            <div className={`styled-input--select ${editable ? \"\" : \"disabled\"}`}>\n              <select\n                data-type={type}\n                data-id={server.uuid}\n                name=\"path\"\n                value={this.state[`edit_${type}`][server.uuid] ? this.state[`edit_${type}`][server.uuid].path : false}\n                onChange={this.changeServerSettings}\n              >\n                <option value=\"\">Please choose</option>\n                {server.options.paths ? (\n                  server.options.paths.map((path, i) => {\n                    return (\n                      <option key={`${type}_profile_${server.uuid}_${path.id}`} value={path.path}>\n                        {path.path}\n                      </option>\n                    );\n                  })\n                ) : (\n                  <option value=\"\"></option>\n                )}\n              </select>\n            </div>\n          </>\n        ) : (\n          <>\n            <p className=\"request-edit--server--subtitle\">Profile</p>\n            <div className=\"styled-input--select disabled\">\n              <select>\n                <option value=\"\">Loading...</option>\n              </select>\n            </div>\n            <p className=\"request-edit--server--subtitle\">Root Path</p>\n            <div className=\"styled-input--select disabled\">\n              <select>\n                <option value=\"\">Loading...</option>\n              </select>\n            </div>\n          </>\n        )}\n        {editable ? null : (\n          <p style={{ margin: 0 }}>\n            <small>{`These settings cannot be edited once sent to ${type}`}</small>\n          </p>\n        )}\n      </div>\n    );\n  }\n\n  deleteReq() {\n    this.closeModal(\"editRequest\");\n    this.openModal(\"deleteRequest\");\n  }\n\n  updateReq() {\n    this.closeModal(\"editRequest\");\n    alert(\"req updated\");\n  }\n\n  async approveReq() {\n    let servers = {};\n    let err = false;\n    let type_server = {};\n    if (this.state.activeRequest.type === \"tv\") {\n      type_server = this.state.edit_sonarr;\n    } else {\n      type_server = this.state.edit_radarr;\n    }\n    if (Object.keys(type_server).length > 0) {\n      Object.keys(type_server).map((r) => {\n        let server = type_server[r];\n        if (server.active) {\n          if (server.profile && server.path) {\n            servers[r] = server;\n          } else {\n            err = \"Missing Path / Profile\";\n          }\n        }\n      });\n    }\n\n    if (err) {\n      alert(err);\n      return;\n    }\n\n    console.log(this.state.activeRequest, servers);\n    await Api.updateRequest(this.state.activeRequest, servers);\n    this.closeModal(\"editRequest\");\n    this.getRequests(true);\n  }\n\n  async removeReq() {\n    let reason = this.state.req_delete_reason.length > 0 ? this.state.req_delete_reason : false;\n    let remove = await Api.removeRequest(this.state.activeRequest, reason);\n    if (remove) {\n      this.closeModal(\"deleteRequest\");\n      this.getRequests(true);\n    } else {\n      alert(\"Failed to remove request\");\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Modal title=\"Remove Request\" open={this.state.deleteRequestOpen} close={() => this.closeModal(\"deleteRequest\")} submit={this.removeReq}>\n          <p className=\"sub-title mb--1\">Removing {this.state.activeRequest ? this.state.activeRequest.title : \"\"}</p>\n          <textarea\n            className=\"styled-input--textarea\"\n            value={this.state.req_delete_reason}\n            placeholder=\"Message to user: E.g Sorry this Movie is not available\"\n            name=\"req_delete_reason\"\n            onChange={this.inputChange}\n          ></textarea>\n          <p style={{ margin: 0 }}>\n            <small>Note: This is final and cannot be undone, this will also remove the request from Sonarr / Radarr if applicable.</small>\n          </p>\n        </Modal>\n        <Modal\n          title=\"Edit Request\"\n          open={this.state.editRequestOpen}\n          close={() => this.closeModal(\"editRequest\")}\n          submitText={this.state.activeRequest ? (this.state.activeRequest.approved ? \"Save\" : \"Save & Approve\") : false}\n          deleteText={this.state.activeRequest ? (this.state.activeRequest.approved ? \"Delete\" : \"Deny\") : false}\n          delete={this.deleteReq}\n          submit={this.state.activeRequest ? (this.state.activeRequest.sonarrId.length > 0 || this.state.activeRequest.radarrId.length > 0 ? false : this.approveReq) : false}\n        >\n          {this.state.activeRequest ? (\n            <>\n              <p className=\"sub-title mb--1\">{this.state.activeRequest.title}</p>\n              <p className=\"sub-title mt--2 mb--1\">Edit {this.state.activeRequest.type === \"tv\" ? \"Sonarr\" : \"Radarr\"}</p>\n              {this.state.activeRequest.type === \"tv\" ? (\n                this.state.s_servers ? (\n                  this.state.s_servers.map((server) => {\n                    return this.renderReqEdit(server, \"sonarr\");\n                  })\n                ) : (\n                  <p>No Radarr Servers</p>\n                )\n              ) : this.state.r_servers ? (\n                this.state.r_servers.map((server) => {\n                  return this.renderReqEdit(server, \"radarr\");\n                })\n              ) : (\n                <p>No Radarr Servers</p>\n              )}\n              {this.state.activeRequest.approved ? null : <p style={{ margin: 0 }}>Submitting will also immediately approve this request</p>}\n            </>\n          ) : null}\n        </Modal>\n        <div className=\"requests--wrap\">\n          {this.state.pending ? (\n            <div className=\"spinner--requests\">\n              <Spinner />\n            </div>\n          ) : (\n            <>\n              <section>\n                <p className=\"main-title\">Requests</p>\n              </section>\n              <section>\n                <RequestsTable requests={this.state.requests} api={this.props.api} editReq={this.editReq} />\n              </section>\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Requests;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/RequestsTable.js",["247","248","249"],"import React from \"react\";\nimport { ReactComponent as MovieIcon } from \"../assets/svg/movie.svg\";\nimport { ReactComponent as TvIcon } from \"../assets/svg/tv.svg\";\nimport { ReactComponent as Arrow } from \"../assets/svg/arrow-left.svg\";\n\nclass RequestsTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sortBy: \"title\",\n      dir: \"DESC\",\n    };\n\n    this.sortBy = this.sortBy.bind(this);\n    this.sortCol = this.sortCol.bind(this);\n  }\n\n  sortBy(a, b) {\n    let sortVal = this.state.sortBy;\n    if (a[sortVal].toLowerCase() > b[sortVal].toLowerCase()) {\n      return this.state.dir === \"DESC\" ? 1 : -1;\n    }\n    if (a[sortVal].toLowerCase() < b[sortVal].toLowerCase()) {\n      return this.state.dir === \"DESC\" ? -1 : 1;\n    }\n    return 0;\n  }\n\n  sortCol(type) {\n    if (!type) return;\n    let sw = this.state.sortBy === type ? true : false;\n    let dir = sw ? (this.state.dir === \"DESC\" ? \"ASC\" : \"DESC\") : \"DESC\";\n    this.setState({\n      dir: dir,\n      sortBy: type,\n    });\n  }\n\n  getUsername(id) {\n    if (!this.props.api.users) {\n      return null;\n    } else if (id in this.props.api.users) {\n      return this.props.api.users[id].title;\n    } else {\n      return null;\n    }\n  }\n\n  typeIcon(type) {\n    let icon = null;\n    switch (type) {\n      case \"movie\":\n        icon = <MovieIcon />;\n        break;\n      case \"tv\":\n        icon = <TvIcon />;\n        break;\n      default:\n        icon = null;\n    }\n\n    return <span className=\"requests--icon\">{icon}</span>;\n  }\n\n  calcDate(diff) {\n    var day = 1000 * 60 * 60 * 24;\n\n    var days = Math.ceil(diff / day);\n    var months = Math.floor(days / 31);\n    var years = Math.floor(months / 12);\n    days = days - months * 31;\n    months = months - years * 12;\n\n    var message = \"\";\n    message += years ? years + \" yr \" : \"\";\n    message += months ? months + \" m \" : \"\";\n    message += days ? days + \" d \" : \"\";\n\n    return message;\n  }\n\n  cinemaWindow(diff) {\n    var day = 1000 * 60 * 60 * 24;\n    var days = Math.ceil(diff / day);\n    if (days >= 62) {\n      return false;\n    }\n    return true;\n  }\n\n  getYear(req) {\n    if (req.media)\n      if (Object.keys(req.media).length > 0) {\n        if (req.type === \"movie\") {\n          return req.media.release_date ? new Date(req.media.release_date).getFullYear() : null;\n        } else {\n          return req.media.first_air_date ? new Date(req.media.first_air_date).getFullYear() : null;\n        }\n      } else {\n        return null;\n      }\n    return null;\n  }\n\n  children(req) {\n    if (!req.children) {\n      return null;\n    }\n    if (req.children.length === 0) {\n      return null;\n    }\n    let render = [];\n    req.children.map((server) => {\n      let type = req.type;\n\n      // let prog = (child.sizeleft / child.size - 1) * -1 * 100;\n      if (server.status.length > 0) {\n        render.push(\n          server.status.map((child, row) => {\n            if (!child) {\n              console.log(req);\n              return null;\n            }\n\n            let prog = (child.sizeleft / child.size - 1) * -1 * 100;\n            return (\n              <>\n                {row === 0 ? (\n                  <tr className=\"sub\">\n                    <td colSpan=\"7\">\n                      <p>Server: {server.info.serverName}</p>\n                    </td>\n                  </tr>\n                ) : null}\n                <tr className=\"child\">\n                  <td>\n                    {type === \"tv\" ? (\n                      <p>\n                        Series: {child.episode.seasonNumber} Episode: {child.episode.episodeNumber}\n                      </p>\n                    ) : null}\n                    {type === \"movie\" ? <p>Movie</p> : null}\n                  </td>\n                  <td></td>\n                  <td>\n                    <span className=\"requests--quality\">{child.quality.quality.name}</span>\n                  </td>\n                  <td>\n                    {\" \"}\n                    <div className=\"requests--prog--wrap\">\n                      <div className=\"requests--prog\">\n                        <span\n                          className=\"requests--prog--active\"\n                          style={{\n                            width: prog + \"%\",\n                          }}\n                        ></span>\n                      </div>\n\n                      {(child.status !== \"Downloading\" && child.status !== \"downloading\") || !child.timeleft ? (\n                        <p>\n                          <strong className=\"capitalise\">{child.status}</strong>\n                        </p>\n                      ) : (\n                        <p>\n                          Time left <strong>{child.timeleft}</strong>\n                        </p>\n                      )}\n                    </div>\n                  </td>\n                  <td></td>\n                  <td></td>\n                  <td></td>\n                </tr>\n              </>\n            );\n          })\n        );\n      } else {\n        return null;\n      }\n    });\n    return render;\n  }\n\n  reqState(req) {\n    if (!req.approved) {\n      return <span className=\"requests--status requests--status__pending\">Pending</span>;\n    }\n    if (req.children) {\n      if (req.children.length > 0) {\n        for (let r = 0; r < req.children.length; r++) {\n          if (req.children[r].status.length > 0) {\n            return <span className=\"requests--status requests--status__orange\">Downloading</span>;\n          }\n\n          if (req.children[r].info.downloaded || req.children[r].info.movieFile) {\n            return <span className=\"requests--status requests--status__good\">Downloaded</span>;\n          }\n\n          if (req.children[r].info.message === \"NotFound\") {\n            return <span className=\"requests--status requests--status__bad\">Removed</span>;\n          }\n\n          if (req.type === \"tv\" && req.children[r].info) {\n            if (req.children[r].info.episodeCount === req.children[r].info.episodeFileCount && req.children[r].info.episodeCount > 0) {\n              return <span className=\"requests--status requests--status__good\">Downloaded</span>;\n            }\n\n            if (req.children[r].info.seasons) {\n              let missing = false;\n              for (let season of req.children[r].info.seasons) {\n                if (season.statistics.percentOfEpisodes !== 100) missing = true;\n              }\n\n              if (!missing) {\n                return <span className=\"requests--status requests--status__good\">Downloaded</span>;\n              } else {\n                let airDate = req.children[r].info.firstAired;\n                var diff = Math.ceil(new Date(airDate) - new Date());\n                if (diff > 0) {\n                  return <span className=\"requests--status requests--status__blue\">~{this.calcDate(diff)}</span>;\n                } else {\n                  if (req.children[r].info.episodeFileCount > 0) {\n                    return <span className=\"requests--status requests--status__blue\">Partially Downloaded</span>;\n                  }\n                  return <span className=\"requests--status requests--status__bad\">Unavailable</span>;\n                }\n              }\n            }\n          }\n\n          if (req.type === \"movie\" && req.children[r].info) {\n            if (req.children[r].info.inCinemas || req.children[r].info.digitalRelease) {\n              if (req.children[r].info.inCinemas) {\n                var diff = Math.ceil(new Date(req.children[r].info.inCinemas) - new Date());\n                if (diff > 0) {\n                  return <span className=\"requests--status requests--status__blue\">~{this.calcDate(diff)}</span>;\n                }\n              }\n              if (req.children[r].info.digitalRelease) {\n                let digitalDate = new Date(req.children[r].info.digitalRelease);\n                if (new Date() - digitalDate < 0) {\n                  return <span className=\"requests--status requests--status__cinema\">In Cinemas</span>;\n                } else {\n                  return <span className=\"requests--status requests--status__bad\">Unavailable</span>;\n                }\n              } else {\n                if (req.children[r].info.inCinemas) {\n                  var diff = Math.ceil(new Date() - new Date(req.children[r].info.inCinemas));\n                  if (this.cinemaWindow(diff)) {\n                    return <span className=\"requests--status requests--status__cinema\">In Cinemas</span>;\n                  }\n                }\n                return <span className=\"requests--status requests--status__bad\">Unavailable</span>;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return <span className=\"requests--status requests--status__manual\">No status</span>;\n  }\n\n  render() {\n    let requestsUnsorted = Object.values(this.props.requests);\n    let requestsSorted = requestsUnsorted.sort(this.sortBy);\n\n    return (\n      <table className=\"generic-table generic-table__rounded\">\n        <thead>\n          <tr>\n            <th className={`fixed sortable ${this.state.sortBy === \"title\" ? \"active\" : \"\"} ${this.state.dir}`} onClick={() => this.sortCol(\"title\")}>\n              Title\n              <Arrow />\n            </th>\n            <th>Year</th>\n            <th>Type</th>\n            <th>Status</th>\n            <th>Users</th>\n            <th>Approved</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {Object.keys(requestsSorted).length === 0 ? (\n            <tr>\n              <td>No requests</td>\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n              <td></td>\n            </tr>\n          ) : (\n            Object.keys(requestsSorted).map((key) => {\n              let req = requestsSorted[key];\n\n              return (\n                <React.Fragment key={key}>\n                  <tr>\n                    <td>{req.title}</td>\n                    <td>{this.getYear(req)}</td>\n                    <td>{this.typeIcon(req.type)}</td>\n                    <td>\n                      {this.reqState(req)}\n                      {req.sonarrId.length > 0 ? <span className=\"requests--status requests--status__sonarr\">Sonarr</span> : null}\n                      {req.radarrId.length > 0 ? <span className=\"requests--status requests--status__radarr\">Radarr</span> : null}\n                    </td>\n                    <td>\n                      {req.users.map((user, i) => {\n                        return <p key={`${req.id}_${user}_${i}`}>{this.getUsername(user)}</p>;\n                      })}\n                    </td>\n                    <td>{req.approved ? \"Yes\" : \"No\"}</td>\n                    <td>\n                      <p\n                        className=\"table-action\"\n                        onClick={() => {\n                          this.props.editReq(req);\n                        }}\n                      >\n                        Edit\n                      </p>\n                    </td>\n                  </tr>\n                  {this.children(req)}\n                </React.Fragment>\n              );\n            })\n          )}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default RequestsTable;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/page/settings/modal.js",["250"],"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/Users.js",["251","252"],"import React from \"react\";\nimport Api from \"../data/Api\";\n\nimport Modal from \"../components/Modal\";\n\nimport { ReactComponent as Arrow } from \"../assets/svg/arrow-left.svg\";\nimport { ReactComponent as Check } from \"../assets/svg/check.svg\";\nimport { ReactComponent as Close } from \"../assets/svg/close.svg\";\nimport Profiles from \"./users/Profiles\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sortBy: \"title\",\n      dir: \"DESC\",\n      addUserOpen: false,\n      bulk_users: {},\n      bulk_users_all: false,\n    };\n\n    this.sortBy = this.sortBy.bind(this);\n    this.sortCol = this.sortCol.bind(this);\n    this.inputChange = this.inputChange.bind(this);\n    this.createUser = this.createUser.bind(this);\n    this.getArrs = this.getArrs.bind(this);\n    this.getProfiles = this.getProfiles.bind(this);\n    this.changeCheckbox = this.changeCheckbox.bind(this);\n    this.findServerByUuid = this.findServerByUuid.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.setActiveUser = this.setActiveUser.bind(this);\n    this.saveUser = this.saveUser.bind(this);\n    this.findProfile = this.findProfile.bind(this);\n    this.bulkSave = this.bulkSave.bind(this);\n    this.deleteUser = this.deleteUser.bind(this);\n  }\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n    this.getArrs();\n  }\n\n  sortBy(a, b) {\n    let sortVal = this.state.sortBy;\n    if (a[sortVal].toLowerCase() > b[sortVal].toLowerCase()) {\n      return this.state.dir === \"DESC\" ? 1 : -1;\n    }\n    if (a[sortVal].toLowerCase() < b[sortVal].toLowerCase()) {\n      return this.state.dir === \"DESC\" ? -1 : 1;\n    }\n    return 0;\n  }\n\n  sortAz(a, b) {\n    if (a.title.toLowerCase() > b.title.toLowerCase()) {\n      return 1;\n    }\n    if (a.title.toLowerCase() < b.title.toLowerCase()) {\n      return -1;\n    }\n    return 0;\n  }\n\n  sortCol(type) {\n    if (!type) return;\n    let sw = this.state.sortBy === type ? true : false;\n    let dir = sw ? (this.state.dir === \"DESC\" ? \"ASC\" : \"DESC\") : \"DESC\";\n    this.setState({\n      dir: dir,\n      sortBy: type,\n    });\n  }\n\n  openModal(id) {\n    this.setState({\n      [`${id}Open`]: true,\n    });\n  }\n\n  closeModal(id) {\n    this.setState({\n      [`${id}Open`]: false,\n      cu_username: \"\",\n      cu_email: \"\",\n      cu_password: \"\",\n      cu_linked: \"\",\n      cu_error: false,\n      eu_email: \"\",\n      eu_role: \"\",\n      eu_profile: \"\",\n      eu_enabled: false,\n      bu_error: false,\n      eu_error: false,\n    });\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.type === \"checkbox\" ? target.checked : target.value;\n    if (name === \"bulk_users_all\") {\n      let userCheckboxes = document.querySelectorAll(\".user-checkbox\");\n      let bu = {};\n      if (!this.state.bulk_users_all)\n        for (let c = 0; c < userCheckboxes.length; c++) {\n          let cb = userCheckboxes[c];\n          bu[cb.name] = true;\n        }\n      this.setState({\n        [name]: value,\n        bulk_users: bu,\n      });\n    } else {\n      this.setState({\n        [name]: value,\n      });\n    }\n  }\n\n  changeCheckbox(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.checked;\n    let type = target.dataset.type;\n\n    this.setState({\n      bulk_users_all: false,\n      [type]: {\n        ...this.state[type],\n        [name]: value,\n      },\n    });\n  }\n\n  async getArrs() {\n    try {\n      let radarr = await Api.radarrConfig();\n      let sonarr = await Api.sonarrConfig();\n      this.setState({\n        r_servers: radarr,\n        s_servers: sonarr,\n      });\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        r_servers: false,\n        s_servers: false,\n      });\n    }\n  }\n\n  async createUser() {\n    let newUser = await Api.createUser({\n      id: `custom_${this.state.cu_username.replace(\" \", \"-\")}`,\n      username: this.state.cu_username,\n      email: this.state.cu_email,\n      password: this.state.cu_password,\n      linked: this.state.cu_linked,\n    });\n\n    if (newUser.error) {\n      this.setState({\n        cu_error: newUser.error,\n      });\n    } else {\n      this.closeModal(\"addUser\");\n      Api.allUsers();\n    }\n  }\n\n  findServerByUuid(uuid, type) {\n    for (let s in this.state[type]) {\n      let server = this.state[type][s];\n      if (server.uuid === uuid) {\n        return server;\n      }\n    }\n    return false;\n  }\n\n  findUser(id) {\n    for (let u in this.props.api.users) {\n      let user = this.props.api.users[u];\n      if (user._id === id) {\n        return user;\n      }\n    }\n    return false;\n  }\n\n  setActiveUser(id) {\n    let user = this.findUser(id);\n    this.setState({\n      activeUser: user,\n      eu_email: user.email,\n      eu_role: user.role ? user.role : \"user\",\n      eu_profile: user.profile ? user.profile : \"\",\n      eu_enabled: user.disabled ? false : true,\n    });\n  }\n\n  async getProfiles() {\n    try {\n      let profiles = await Api.getProfiles();\n      this.setState({\n        profiles: profiles,\n      });\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        profiles: [],\n      });\n    }\n  }\n\n  async saveUser() {\n    let edited = await Api.editUser({\n      id: this.state.activeUser._id,\n      email: this.state.eu_email,\n      role: this.state.eu_role,\n      profile: this.state.eu_profile,\n      disabled: this.state.eu_enabled ? false : true,\n    });\n\n    if (edited.error) {\n      this.setState({\n        eu_error: edited.error,\n      });\n    } else {\n      this.closeModal(\"editUser\");\n      Api.allUsers();\n    }\n  }\n\n  async deleteUser() {\n    let del = await Api.deleteUser(this.state.activeUser);\n\n    if (del.error) {\n      this.setState({\n        eu_error: del.error,\n      });\n    } else {\n      this.closeModal(\"editUser\");\n      Api.allUsers();\n    }\n  }\n\n  findProfile(id) {\n    for (let p in this.state.profiles) {\n      let profile = this.state.profiles[p];\n      if (profile._id === id) {\n        return profile;\n      }\n    }\n    return false;\n  }\n\n  async bulkSave() {\n    let users = new Array();\n    Object.keys(this.state.bulk_users).map((u) => {\n      if (this.state.bulk_users[u]) {\n        users.push(u);\n      }\n    });\n\n    let upd = await Api.bulkEditUser({\n      users: users,\n      profile: this.state.bu_profile,\n      enabled: this.state.bu_enabled,\n    });\n\n    if (upd.error) {\n      this.setState({\n        bu_error: upd.error,\n      });\n    } else {\n      this.closeModal(\"bulkUsers\");\n      Api.allUsers();\n    }\n  }\n\n  render() {\n    let usersUnsorted = Object.values(this.props.api.users);\n    let usersSorted = usersUnsorted.sort(this.sortBy);\n    let usersAz = Object.values(usersUnsorted).sort(this.sortAz);\n    return (\n      <>\n        <Modal title=\"Add User\" open={this.state.addUserOpen} close={() => this.closeModal(\"addUser\")} submit={this.createUser}>\n          <p className=\"sub-title mb--1\">New user</p>\n          <input className=\"styled-input--input\" placeholder=\"Username\" type=\"text\" name=\"cu_username\" value={this.state.cu_username} onChange={this.inputChange} />\n          <input className=\"styled-input--input\" placeholder=\"Email\" type=\"email\" name=\"cu_email\" value={this.state.cu_email} onChange={this.inputChange} />\n          <p className=\"sub-title mt--2 mb--1\">Password</p>\n          <input className=\"styled-input--input\" placeholder=\"Password\" type=\"text\" name=\"cu_password\" value={this.state.cu_password} onChange={this.inputChange} />\n          <p className=\"sub-title mt--2 mb--1\">Link history to existing user</p>\n          <div className=\"styled-input--select\">\n            <select name=\"cu_linked\" value={this.state.cu_linked} onChange={this.inputChange}>\n              <option value=\"\">None</option>\n              {Object.keys(usersAz).map((u) => {\n                let user = usersAz[u];\n                return (\n                  <option key={`user_linked_${user._id}`} value={user.altId ? user.altId : user.id}>\n                    {user.title}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n          {this.state.cu_error ? <p>{this.state.cu_error}</p> : null}\n        </Modal>\n\n        <Modal\n          title=\"Edit User\"\n          open={this.state.editUserOpen}\n          close={() => this.closeModal(\"editUser\")}\n          submit={this.saveUser}\n          delete={this.state.activeUser ? (this.state.activeUser.custom ? this.deleteUser : false) : false}\n        >\n          <p className=\"sub-title mb--1\">Editing {this.state.activeUser ? this.state.activeUser.title : \"user\"}</p>\n          <p className=\"sub-title mt--2 mb--1\">Email</p>\n          <input className=\"styled-input--input\" placeholder=\"Email\" type=\"email\" name=\"eu_email\" value={this.state.eu_email} onChange={this.inputChange} />\n          <p className=\"sub-title mt--2 mb--1\">Role</p>\n          <div className=\"styled-input--select\">\n            <select name=\"eu_role\" value={this.state.eu_role} onChange={this.inputChange}>\n              {this.state.activeUser ? (\n                this.state.activeUser.role !== \"admin\" ? (\n                  <>\n                    <option value=\"user\">User</option>\n                    <option value=\"moderator\">Moderator</option>\n                  </>\n                ) : (\n                  <option value=\"admin\">Admin</option>\n                )\n              ) : null}\n            </select>\n          </div>\n          <p className=\"sub-title mt--2 mb--1\">Profile</p>\n          <div className=\"styled-input--select\">\n            <select name=\"eu_profile\" value={this.state.eu_profile} onChange={this.inputChange}>\n              <option value=\"\">Default</option>\n              {this.state.profiles\n                ? Object.keys(this.state.profiles).map((p) => {\n                    let profile = this.state.profiles[p];\n                    return (\n                      <option key={`user_profile_${profile._id}`} value={profile._id}>\n                        {profile.name}\n                      </option>\n                    );\n                  })\n                : null}\n            </select>\n          </div>\n          {this.state.activeUser ? (\n            this.state.activeUser.role !== \"admin\" ? (\n              <>\n                <p className=\"sub-title mt--2 mb--1\">Enabled / Disabled</p>\n                <label>\n                  <input type=\"checkbox\" checked={this.state.eu_enabled} name=\"eu_enabled\" onChange={this.inputChange} /> Enable this user\n                </label>\n              </>\n            ) : null\n          ) : null}\n          {this.state.eu_error ? <p>{this.state.eu_error}</p> : null}\n        </Modal>\n\n        <Modal title=\"Bulk Edit\" open={this.state.bulkUsersOpen} close={() => this.closeModal(\"bulkUsers\")} submit={this.bulkSave}>\n          <p>You are editing all selected users, any changes will apply to them all</p>\n          <p className=\"sub-title mt--2 mb--1\">Profile</p>\n          <div className=\"styled-input--select\">\n            <select name=\"bu_profile\" value={this.state.bu_profile} onChange={this.inputChange}>\n              <option value=\"\">Default</option>\n              {this.state.profiles\n                ? Object.keys(this.state.profiles).map((p) => {\n                    let profile = this.state.profiles[p];\n                    return (\n                      <option key={`bulk_user_profile_${profile._id}`} value={profile._id}>\n                        {profile.name}\n                      </option>\n                    );\n                  })\n                : null}\n            </select>\n          </div>\n\n          <p className=\"sub-title mt--2 \">Enabled / Disabled</p>\n          <p className=\"mb--1\">\n            <small>Note: admin cannot be disabled</small>\n          </p>\n          <label>\n            <input type=\"checkbox\" checked={this.state.bu_enabled} name=\"bu_enabled\" onChange={this.inputChange} /> Enable this user\n          </label>\n          {this.state.bu_error ? <p>{this.state.bu_error}</p> : null}\n        </Modal>\n\n        <Profiles\n          addProfileOpen={this.state.addProfileOpen}\n          closeModal={this.closeModal}\n          s_servers={this.state.s_servers}\n          r_servers={this.state.r_servers}\n          inputChange={this.inputChange}\n          findServerByUuid={this.findServerByUuid}\n          openModal={this.openModal}\n          profiles={this.state.profiles}\n          getProfiles={this.getProfiles}\n          findProfile={this.findProfile}\n        />\n\n        <section>\n          <div className=\"title-btn\">\n            <p className=\"main-title\">Users</p>\n            <button className=\"btn btn__square\" onClick={() => this.openModal(\"addUser\")}>\n              Add +\n            </button>\n            <button\n              className={`btn btn__square ${Object.keys(this.state.bulk_users).length > 0 ? \"\" : \"disabled\"}`}\n              onClick={() => {\n                this.openModal(\"bulkUsers\");\n                this.setState({\n                  bu_enabled: true,\n                  bu_profile: \"\",\n                });\n              }}\n            >\n              Bulk edit\n            </button>\n          </div>\n        </section>\n        <section>\n          <table className=\"generic-table generic-table__rounded\">\n            <thead>\n              <tr>\n                <th>\n                  <input className=\"checkbox-small\" type=\"checkbox\" checked={this.state.bulk_users_all} name={\"bulk_users_all\"} onChange={this.inputChange} />\n                </th>\n                <th className={`sortable ${this.state.sortBy === \"title\" ? \"active\" : \"\"} ${this.state.dir}`} onClick={() => this.sortCol(\"title\")}>\n                  Title\n                  <Arrow />\n                </th>\n                <th className={`sortable ${this.state.sortBy === \"username\" ? \"active\" : \"\"} ${this.state.dir}`} onClick={() => this.sortCol(\"username\")}>\n                  Username\n                  <Arrow />\n                </th>\n                <th className={`sortable ${this.state.sortBy === \"email\" ? \"active\" : \"\"} ${this.state.dir}`} onClick={() => this.sortCol(\"email\")}>\n                  Email\n                  <Arrow />\n                </th>\n                <th>Role</th>\n                <th>Profile</th>\n                <th>Active</th>\n                <th>Last IP</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(usersSorted).map((u) => {\n                let user = usersSorted[u];\n                return (\n                  <tr key={user._id}>\n                    <td>\n                      <input\n                        className=\"checkbox-small user-checkbox\"\n                        data-type=\"bulk_users\"\n                        type=\"checkbox\"\n                        checked={this.state.bulk_users ? this.state.bulk_users[user._id] : false}\n                        name={user._id}\n                        onChange={this.changeCheckbox}\n                      />\n                    </td>\n                    <td>\n                      {user.title} {user.custom ? \"(Custom)\" : \"\"}\n                    </td>\n                    <td>{user.username}</td>\n                    <td>{user.email}</td>\n                    <td>{user.role ? user.role : \"user\"}</td>\n                    <td>{user.profile ? (this.findProfile(user.profile) ? this.findProfile(user.profile).name : \"Removed\") : \"default\"}</td>\n                    <td>\n                      <div className=\"table-icon\">{user.disabled ? <Close /> : <Check />}</div>\n                    </td>\n                    <td>{user.lastIp ? user.lastIp : \"n/a\"}</td>\n                    <td>\n                      <p\n                        className=\"table-action\"\n                        onClick={() => {\n                          this.openModal(\"editUser\");\n                          this.setActiveUser(user._id);\n                        }}\n                      >\n                        Edit\n                      </p>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Users;\n","/Users/ashleydyson/Documents/Petio/petio/admin/src/components/Modal.js",[],"/Users/ashleydyson/Documents/Petio/petio/admin/src/page/users/Profiles.js",["253"],"import React from \"react\";\nimport Api from \"../../data/Api\";\n\nimport Modal from \"../../components/Modal\";\n\nclass Profiles extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      np_name: \"\",\n      np_quota: 0,\n      np_auto_approve: false,\n      np_sonarr: {},\n      np_radarr: {},\n    };\n\n    this.saveProfile = this.saveProfile.bind(this);\n\n    this.setActiveProfile = this.setActiveProfile.bind(this);\n    this.deleteProfile = this.deleteProfile.bind(this);\n    this.inputChange = this.inputChange.bind(this);\n    this.changeCheckbox = this.changeCheckbox.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getProfiles();\n  }\n\n  setActiveProfile(id) {\n    let profile = this.props.findProfile(id);\n    this.setState({\n      activeProfile: id,\n      np_name: profile.name,\n      np_quota: profile.quota,\n      np_auto_approve: profile.autoApprove,\n      np_sonarr: profile.sonarr,\n      np_radarr: profile.radarr,\n      np_default: profile.isDefault,\n    });\n  }\n\n  async saveProfile() {\n    await Api.saveProfile({\n      id: this.state.activeProfile,\n      name: this.state.np_name,\n      quota: this.state.np_quota,\n      radarr: this.state.np_radarr,\n      sonarr: this.state.np_sonarr,\n      autoApprove: this.state.np_auto_approve,\n      isDefault: this.state.np_default,\n    });\n    this.props.closeModal(\"addProfile\");\n    this.props.getProfiles();\n  }\n\n  async deleteProfile() {\n    await Api.deleteProfile({\n      id: this.state.activeProfile,\n      name: this.state.np_name,\n      quota: this.state.np_quota,\n      radarr: this.state.np_radarr,\n      sonarr: this.state.np_sonarr,\n      autoApprove: this.state.np_auto_approve,\n      isDefault: this.state.np_default,\n    });\n    this.props.closeModal(\"addProfile\");\n    this.props.getProfiles();\n    Api.allUsers();\n  }\n\n  search(key, value, myArray) {\n    for (var i = 0; i < myArray.length; i++) {\n      if (myArray[i][key] === value) {\n        return myArray[i];\n      }\n    }\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.type === \"checkbox\" ? target.checked : target.value;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  changeCheckbox(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.checked;\n    let type = target.dataset.type;\n\n    this.setState({\n      [type]: {\n        ...this.state[type],\n        [name]: value,\n      },\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <Modal\n          title=\"Add Profile\"\n          open={this.props.addProfileOpen}\n          close={() => {\n            this.props.closeModal(\"addProfile\");\n            this.setState({ np_name: \"\", np_auto_approve: false, np_quota: 0, np_radarr: [], np_sonarr: [], activeProfile: false });\n          }}\n          submit={this.saveProfile}\n          delete={this.state.activeProfile ? this.deleteProfile : false}\n        >\n          <p className=\"sub-title mb--1\">New profile</p>\n          <input className=\"styled-input--input\" placeholder=\"Name\" type=\"text\" name=\"np_name\" value={this.state.np_name} onChange={this.inputChange} />\n          <p className=\"sub-title mb--1\">Sonarr</p>\n          {this.props.s_servers ? (\n            this.props.s_servers.map((server) => {\n              return (\n                <label key={server.uuid}>\n                  <input data-type=\"np_sonarr\" type=\"checkbox\" checked={this.state.np_sonarr ? this.state.np_sonarr[server.uuid] : false} name={server.uuid} onChange={this.changeCheckbox} />{\" \"}\n                  {server.title}\n                </label>\n              );\n            })\n          ) : (\n            <p>No Sonarr Servers</p>\n          )}\n          <p className=\"sub-title mb--1\">Radarr</p>\n          {this.props.r_servers ? (\n            this.props.r_servers.map((server) => {\n              return (\n                <label key={server.uuid}>\n                  <input data-type=\"np_radarr\" type=\"checkbox\" checked={this.state.np_radarr ? this.state.np_radarr[server.uuid] : false} name={server.uuid} onChange={this.changeCheckbox} />{\" \"}\n                  {server.title}\n                </label>\n              );\n            })\n          ) : (\n            <p>No Radarr Servers</p>\n          )}\n          <p className=\"sub-title mb--1\">Auto Approve</p>\n          <label>\n            <input type=\"checkbox\" name=\"np_auto_approve\" checked={this.state.np_auto_approve} onChange={this.inputChange} /> Enabled\n          </label>\n          <p className=\"sub-title mb--1\">Quota</p>\n          <p>\n            <small>Quota of requests per week. For no limit leave at 0</small>\n          </p>\n          <input className=\"styled-input--input\" type=\"number\" name=\"np_quota\" value={this.state.np_quota} onChange={this.inputChange} />\n          <p className=\"sub-title mb--1\">Set as default</p>\n          <label>\n            <input type=\"checkbox\" name=\"np_default\" checked={this.state.np_default} onChange={this.inputChange} /> Enabled\n          </label>\n        </Modal>\n        <section>\n          <div className=\"title-btn\">\n            <p className=\"main-title\">User Profiles</p>\n            <button\n              className=\"btn btn__square\"\n              onClick={() => {\n                this.props.openModal(\"addProfile\");\n                this.setState({ activeProfile: false });\n              }}\n            >\n              Add +\n            </button>\n          </div>\n        </section>\n        <section>\n          <p className=\"mb--2\">\n            User profiles determine what should happen when a user makes a request. If using Sonarr / Radarr you can pick which servers the request is sent to. You can also choose to allow auto\n            approval for certain users.\n          </p>\n          <table className=\"generic-table generic-table__rounded\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Default</th>\n                <th>Sonarr</th>\n                <th>Radarr</th>\n                <th>Auto approve</th>\n                <th>Quota (per week)</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Default</td>\n                <td>{this.props.profiles ? (this.search(\"isDefault\", true, this.props.profiles) ? \"No\" : \"Yes\") : \"Yes\"}</td>\n                <td>All</td>\n                <td>All</td>\n                <td>No</td>\n                <td>∞</td>\n                <td>None</td>\n              </tr>\n              {this.props.profiles && this.props.s_servers\n                ? this.props.profiles.map((profile) => {\n                    let sActive = false;\n                    let rActive = false;\n                    return (\n                      <tr key={profile._id}>\n                        <td>{profile.name}</td>\n                        <td>{profile.isDefault ? \"Yes\" : \"No\"}</td>\n                        <td>\n                          {profile.sonarr\n                            ? Object.keys(profile.sonarr).length > 0\n                              ? Object.keys(profile.sonarr).map((s) => {\n                                  if (!profile.sonarr[s]) return;\n                                  sActive = true;\n                                  let server = this.props.findServerByUuid(s, \"s_servers\");\n                                  let serverName = server ? server.title : \"Not Found\";\n                                  return (\n                                    <span key={`${profile._id}_${s}`} className=\"requests--status requests--status__sonarr\">\n                                      {serverName}\n                                    </span>\n                                  );\n                                })\n                              : null\n                            : null}\n                          {!sActive ? \"None\" : null}\n                        </td>\n                        <td>\n                          {profile.radarr\n                            ? Object.keys(profile.radarr).length > 0\n                              ? Object.keys(profile.radarr).map((r) => {\n                                  if (!profile.radarr[r]) return null;\n                                  rActive = true;\n                                  let server = this.props.findServerByUuid(r, \"r_servers\");\n                                  let serverName = server ? server.title : \"Not Found\";\n\n                                  return (\n                                    <span key={`${profile._id}_${r}`} className=\"requests--status requests--status__radarr\">\n                                      {serverName}\n                                    </span>\n                                  );\n                                })\n                              : null\n                            : null}\n                          {!rActive ? \"None\" : null}\n                        </td>\n                        <td>{profile.autoApprove ? \"Yes\" : \"No\"}</td>\n                        <td>{profile.quota === 0 ? \"∞\" : profile.quota}</td>\n                        <td>\n                          <p\n                            className=\"table-action\"\n                            onClick={() => {\n                              this.props.openModal(\"addProfile\");\n\n                              this.setActiveProfile(profile._id);\n                            }}\n                          >\n                            Edit\n                          </p>\n                        </td>\n                      </tr>\n                    );\n                  })\n                : null}\n            </tbody>\n          </table>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Profiles;\n",{"ruleId":"254","severity":1,"message":"255","line":374,"column":40,"nodeType":"256","endLine":374,"endColumn":55},{"ruleId":"254","severity":1,"message":"255","line":379,"column":49,"nodeType":"256","endLine":379,"endColumn":64},{"ruleId":"257","replacedBy":"258"},{"ruleId":"259","replacedBy":"260"},{"ruleId":"261","severity":1,"message":"262","line":14,"column":2,"nodeType":"263","messageId":"264","endLine":16,"endColumn":3},{"ruleId":"265","severity":1,"message":"266","line":2,"column":10,"nodeType":"267","messageId":"268","endLine":2,"endColumn":17},{"ruleId":"269","severity":1,"message":"270","line":13,"column":1,"nodeType":"271","messageId":"272","endLine":15,"endColumn":2},{"ruleId":"265","severity":1,"message":"273","line":75,"column":9,"nodeType":"267","messageId":"268","endLine":75,"endColumn":17},{"ruleId":"274","severity":1,"message":"275","line":114,"column":37,"nodeType":"276","messageId":"277","endLine":114,"endColumn":39},{"ruleId":"274","severity":1,"message":"275","line":133,"column":25,"nodeType":"276","messageId":"277","endLine":133,"endColumn":27},{"ruleId":"274","severity":1,"message":"275","line":178,"column":39,"nodeType":"276","messageId":"277","endLine":178,"endColumn":41},{"ruleId":"278","severity":1,"message":"279","line":3,"column":1,"nodeType":"280","endLine":34,"endColumn":2},{"ruleId":"281","severity":1,"message":"282","line":28,"column":23,"nodeType":"283","endLine":28,"endColumn":65},{"ruleId":"261","severity":1,"message":"262","line":14,"column":2,"nodeType":"263","messageId":"264","endLine":16,"endColumn":3},{"ruleId":"265","severity":1,"message":"284","line":2,"column":37,"nodeType":"267","messageId":"268","endLine":2,"endColumn":41},{"ruleId":"265","severity":1,"message":"285","line":2,"column":43,"nodeType":"267","messageId":"268","endLine":2,"endColumn":53},{"ruleId":"265","severity":1,"message":"286","line":2,"column":55,"nodeType":"267","messageId":"268","endLine":2,"endColumn":65},{"ruleId":"254","severity":1,"message":"255","line":99,"column":44,"nodeType":"256","endLine":99,"endColumn":59},{"ruleId":"254","severity":1,"message":"255","line":104,"column":53,"nodeType":"256","endLine":104,"endColumn":68},{"ruleId":"281","severity":1,"message":"282","line":40,"column":15,"nodeType":"283","endLine":40,"endColumn":99},{"ruleId":"281","severity":1,"message":"282","line":46,"column":15,"nodeType":"283","endLine":46,"endColumn":118},{"ruleId":"278","severity":1,"message":"287","line":42,"column":1,"nodeType":"280","endLine":81,"endColumn":3},{"ruleId":"265","severity":1,"message":"288","line":3,"column":7,"nodeType":"267","messageId":"268","endLine":3,"endColumn":13},{"ruleId":"261","severity":1,"message":"262","line":14,"column":2,"nodeType":"263","messageId":"264","endLine":16,"endColumn":3},{"ruleId":"278","severity":1,"message":"279","line":3,"column":1,"nodeType":"280","endLine":47,"endColumn":2},{"ruleId":"278","severity":1,"message":"279","line":3,"column":1,"nodeType":"280","endLine":165,"endColumn":2},{"ruleId":"289","severity":1,"message":"290","line":31,"column":7,"nodeType":"291","messageId":"272","endLine":31,"endColumn":13},{"ruleId":"289","severity":1,"message":"292","line":34,"column":7,"nodeType":"291","messageId":"272","endLine":34,"endColumn":11},{"ruleId":"289","severity":1,"message":"293","line":35,"column":7,"nodeType":"291","messageId":"272","endLine":35,"endColumn":14},{"ruleId":"289","severity":1,"message":"290","line":224,"column":9,"nodeType":"291","messageId":"272","endLine":224,"endColumn":15},{"ruleId":"289","severity":1,"message":"290","line":251,"column":7,"nodeType":"291","messageId":"272","endLine":251,"endColumn":13},{"ruleId":"289","severity":1,"message":"290","line":280,"column":7,"nodeType":"291","messageId":"272","endLine":280,"endColumn":13},{"ruleId":"254","severity":1,"message":"255","line":198,"column":16,"nodeType":"256","endLine":198,"endColumn":31},{"ruleId":"289","severity":1,"message":"290","line":31,"column":7,"nodeType":"291","messageId":"272","endLine":31,"endColumn":13},{"ruleId":"289","severity":1,"message":"292","line":34,"column":7,"nodeType":"291","messageId":"272","endLine":34,"endColumn":11},{"ruleId":"289","severity":1,"message":"293","line":35,"column":7,"nodeType":"291","messageId":"272","endLine":35,"endColumn":14},{"ruleId":"289","severity":1,"message":"290","line":223,"column":9,"nodeType":"291","messageId":"272","endLine":223,"endColumn":15},{"ruleId":"289","severity":1,"message":"290","line":250,"column":7,"nodeType":"291","messageId":"272","endLine":250,"endColumn":13},{"ruleId":"289","severity":1,"message":"290","line":279,"column":7,"nodeType":"291","messageId":"272","endLine":279,"endColumn":13},{"ruleId":"265","severity":1,"message":"294","line":4,"column":8,"nodeType":"267","messageId":"268","endLine":4,"endColumn":11},{"ruleId":"274","severity":1,"message":"275","line":448,"column":25,"nodeType":"276","messageId":"277","endLine":448,"endColumn":27},{"ruleId":"278","severity":1,"message":"287","line":3,"column":1,"nodeType":"280","endLine":7,"endColumn":3},{"ruleId":"278","severity":1,"message":"287","line":3,"column":1,"nodeType":"280","endLine":5,"endColumn":3},{"ruleId":"265","severity":1,"message":"285","line":2,"column":10,"nodeType":"267","messageId":"268","endLine":2,"endColumn":20},{"ruleId":"265","severity":1,"message":"284","line":2,"column":22,"nodeType":"267","messageId":"268","endLine":2,"endColumn":26},{"ruleId":"265","severity":1,"message":"266","line":3,"column":10,"nodeType":"267","messageId":"268","endLine":3,"endColumn":17},{"ruleId":"265","severity":1,"message":"295","line":5,"column":10,"nodeType":"267","messageId":"268","endLine":5,"endColumn":23},{"ruleId":"281","severity":1,"message":"282","line":130,"column":7,"nodeType":"283","endLine":130,"endColumn":41},{"ruleId":"274","severity":1,"message":"275","line":137,"column":34,"nodeType":"276","messageId":"277","endLine":137,"endColumn":36},{"ruleId":"274","severity":1,"message":"275","line":152,"column":33,"nodeType":"276","messageId":"277","endLine":152,"endColumn":35},{"ruleId":"274","severity":1,"message":"275","line":165,"column":33,"nodeType":"276","messageId":"277","endLine":165,"endColumn":35},{"ruleId":"274","severity":1,"message":"275","line":191,"column":50,"nodeType":"276","messageId":"277","endLine":191,"endColumn":52},{"ruleId":"274","severity":1,"message":"275","line":332,"column":40,"nodeType":"276","messageId":"277","endLine":332,"endColumn":42},{"ruleId":"274","severity":1,"message":"296","line":113,"column":31,"nodeType":"276","messageId":"297","endLine":113,"endColumn":33},{"ruleId":"298","severity":1,"message":"299","line":236,"column":21,"nodeType":"267","messageId":"300","endLine":236,"endColumn":25},{"ruleId":"298","severity":1,"message":"299","line":250,"column":23,"nodeType":"267","messageId":"300","endLine":250,"endColumn":27},{"ruleId":"265","severity":1,"message":"301","line":4,"column":28,"nodeType":"267","messageId":"268","endLine":4,"endColumn":33},{"ruleId":"302","severity":1,"message":"303","line":261,"column":17,"nodeType":"304","messageId":"305","endLine":261,"endColumn":28},{"ruleId":"274","severity":1,"message":"275","line":262,"column":48,"nodeType":"276","messageId":"277","endLine":262,"endColumn":50},{"ruleId":"274","severity":1,"message":"275","line":212,"column":59,"nodeType":"306","messageId":"307","endLine":212,"endColumn":66},"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-native-reassign",["308"],"no-negated-in-lhs",["309"],"no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-unused-vars","'connect' is defined but never used.","Identifier","unusedVar","no-extend-native","Number prototype is read only, properties should not be added.","AssignmentExpression","unexpected","'msPerDay' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Link' is defined but never used.","'withRouter' is defined but never used.","'useHistory' is defined but never used.","Assign object to a variable before exporting as module default","'widths' is assigned a value but never used.","no-dupe-keys","Duplicate key 'active'.","ObjectExpression","Duplicate key 'path'.","Duplicate key 'profile'.","'Api' is defined but never used.","'LazyLoadImage' is defined but never used.","Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","no-redeclare","'diff' is already defined.","redeclared","'Close' is defined but never used.","no-array-constructor","The array literal notation [] is preferable.","NewExpression","preferLiteral","ReturnStatement","expectedReturnValue","no-global-assign","no-unsafe-negation"]